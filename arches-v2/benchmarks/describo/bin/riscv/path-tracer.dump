
./bin/riscv/path-tracer:     file format elf64-littleriscv
./bin/riscv/path-tracer
architecture: riscv:rv64, flags 0x00000112:
EXEC_P, HAS_SYMS, D_PAGED
start address 0x00000000000100b0

Program Header:
0x70000003 off    0x000000000000a2e9 vaddr 0x0000000000000000 paddr 0x0000000000000000 align 2**0
         filesz 0x0000000000000034 memsz 0x0000000000000000 flags r--
    LOAD off    0x0000000000000000 vaddr 0x0000000000010000 paddr 0x0000000000010000 align 2**12
         filesz 0x000000000000a2bc memsz 0x000000000000a2bc flags r-x

Sections:
Idx Name          Size      VMA               LMA               File off  Algn
  0 .text         00008c84  00000000000100b0  00000000000100b0  000000b0  2**2
                  CONTENTS, ALLOC, LOAD, READONLY, CODE
  1 .rodata       00000040  0000000000018d38  0000000000018d38  00008d38  2**3
                  CONTENTS, ALLOC, LOAD, READONLY, DATA
  2 .eh_frame     000004d8  0000000000018d78  0000000000018d78  00008d78  2**3
                  CONTENTS, ALLOC, LOAD, READONLY, DATA
  3 .sdata        0000006c  000000000001a250  000000000001a250  0000a250  2**3
                  CONTENTS, ALLOC, LOAD, READONLY, DATA
  4 .comment      0000002d  0000000000000000  0000000000000000  0000a2bc  2**0
                  CONTENTS, READONLY
  5 .riscv.attributes 00000034  0000000000000000  0000000000000000  0000a2e9  2**0
                  CONTENTS, READONLY
  6 .debug_aranges 000000c0  0000000000000000  0000000000000000  0000a31d  2**0
                  CONTENTS, READONLY, DEBUGGING, OCTETS
  7 .debug_info   0001ebb8  0000000000000000  0000000000000000  0000a3dd  2**0
                  CONTENTS, READONLY, DEBUGGING, OCTETS
  8 .debug_abbrev 00000924  0000000000000000  0000000000000000  00028f95  2**0
                  CONTENTS, READONLY, DEBUGGING, OCTETS
  9 .debug_line   000178b5  0000000000000000  0000000000000000  000298b9  2**0
                  CONTENTS, READONLY, DEBUGGING, OCTETS
 10 .debug_str    0000402b  0000000000000000  0000000000000000  0004116e  2**0
                  CONTENTS, READONLY, DEBUGGING, OCTETS
 11 .debug_line_str 00000414  0000000000000000  0000000000000000  00045199  2**0
                  CONTENTS, READONLY, DEBUGGING, OCTETS
 12 .debug_loclists 0001850c  0000000000000000  0000000000000000  000455ad  2**0
                  CONTENTS, READONLY, DEBUGGING, OCTETS
 13 .debug_rnglists 00012f95  0000000000000000  0000000000000000  0005dab9  2**0
                  CONTENTS, READONLY, DEBUGGING, OCTETS
SYMBOL TABLE:
00000000000100b0 l    d  .text	0000000000000000 .text
0000000000018d38 l    d  .rodata	0000000000000000 .rodata
0000000000018d78 l    d  .eh_frame	0000000000000000 .eh_frame
000000000001a250 l    d  .sdata	0000000000000000 .sdata
0000000000000000 l    d  .comment	0000000000000000 .comment
0000000000000000 l    d  .riscv.attributes	0000000000000000 .riscv.attributes
0000000000000000 l    d  .debug_aranges	0000000000000000 .debug_aranges
0000000000000000 l    d  .debug_info	0000000000000000 .debug_info
0000000000000000 l    d  .debug_abbrev	0000000000000000 .debug_abbrev
0000000000000000 l    d  .debug_line	0000000000000000 .debug_line
0000000000000000 l    d  .debug_str	0000000000000000 .debug_str
0000000000000000 l    d  .debug_line_str	0000000000000000 .debug_line_str
0000000000000000 l    d  .debug_loclists	0000000000000000 .debug_loclists
0000000000000000 l    d  .debug_rnglists	0000000000000000 .debug_rnglists
0000000000000000 l    df *ABS*	0000000000000000 path-tracer.cpp
00000000000100d0 l     F .text	0000000000001af0 _ZL11path_tracerRK10GlobalData.constprop.0
0000000000018d38 l     O .rodata	0000000000000040 _ZL15lod_node_offset
0000000000000000 l    df *ABS*	0000000000000000 memcpy.c
000000000001aa50 g       *ABS*	0000000000000000 __global_pointer$
0000000000011d04  w    F .text	00000000000014cc _Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit
000000000001a250 g       .sdata	0000000000000000 __SDATA_BEGIN__
0000000000018b90 g     F .text	00000000000001a4 memcpy
00000000000169e4  w    F .text	0000000000000570 _Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit
000000000001880c  w    F .text	0000000000000384 _Z9intersectI32TesselationTree1SecondaryRayDataEbPKN3BVH4NodeERKT_RK3RayR3Hit
000000000001515c  w    F .text	0000000000001888 _Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit
0000000000014b44  w    F .text	0000000000000618 _Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit
000000000001a2c0 g       .sdata	0000000000000000 __BSS_END__
00000000000131d0  w    F .text	0000000000001974 _Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit
000000000001a2bc g       .sdata	0000000000000000 __bss_start
0000000000016f54  w    F .text	00000000000014c4 _Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit
00000000000100b0 g     F .text	0000000000000020 main
0000000000018418  w    F .text	00000000000003f4 _Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit
000000000001a250 g       .sdata	0000000000000000 __DATA_BEGIN__
000000000001a2bc g       .sdata	0000000000000000 _edata
000000000001a2c0 g       .sdata	0000000000000000 _end
0000000000011c3c g     F .text	00000000000000c8 _Z9intersectRK10GlobalDatajRK3RayRS2_R3Hit
0000000000011bc0 g     F .text	000000000000007c _Z9intersectRK10GlobalDataRK3RayR3Hit



Disassembly of section .text:

00000000000100b0 <main>:
}

#ifdef ARCH_RISCV
//gcc will only set main as entry point so we'll do this for now but we could theortically use path_tracer as entry
int main()
{
   100b0:	ff010113          	add	sp,sp,-16
   100b4:	00113423          	sd	ra,8(sp)
	path_tracer(*(GlobalData*)GLOBAL_DATA_ADDRESS);
   100b8:	00000097          	auipc	ra,0x0
   100bc:	018080e7          	jalr	24(ra) # 100d0 <_ZL11path_tracerRK10GlobalData.constprop.0>
	return 0;
}
   100c0:	00813083          	ld	ra,8(sp)
   100c4:	00000513          	li	a0,0
   100c8:	01010113          	add	sp,sp,16
   100cc:	00008067          	ret

00000000000100d0 <_ZL11path_tracerRK10GlobalData.constprop.0>:
void static inline path_tracer(const GlobalData& global_data)
   100d0:	ae010113          	add	sp,sp,-1312
   100d4:	50113c23          	sd	ra,1304(sp)
   100d8:	50813823          	sd	s0,1296(sp)
   100dc:	50913423          	sd	s1,1288(sp)
   100e0:	51213023          	sd	s2,1280(sp)
   100e4:	4f313c23          	sd	s3,1272(sp)
   100e8:	4f413823          	sd	s4,1264(sp)
   100ec:	4f513423          	sd	s5,1256(sp)
   100f0:	4f613023          	sd	s6,1248(sp)
   100f4:	4d713c23          	sd	s7,1240(sp)
   100f8:	4d813823          	sd	s8,1232(sp)
   100fc:	4d913423          	sd	s9,1224(sp)
   10100:	4da13023          	sd	s10,1216(sp)
   10104:	4bb13c23          	sd	s11,1208(sp)
   10108:	4a812627          	fsw	fs0,1196(sp)
   1010c:	4a912427          	fsw	fs1,1192(sp)
   10110:	4b212227          	fsw	fs2,1188(sp)
   10114:	4b312027          	fsw	fs3,1184(sp)
   10118:	49412e27          	fsw	fs4,1180(sp)
   1011c:	49512c27          	fsw	fs5,1176(sp)
   10120:	49612a27          	fsw	fs6,1172(sp)
   10124:	49712827          	fsw	fs7,1168(sp)
   10128:	49812627          	fsw	fs8,1164(sp)
   1012c:	49912427          	fsw	fs9,1160(sp)
   10130:	49a12227          	fsw	fs10,1156(sp)
   10134:	49b12027          	fsw	fs11,1152(sp)

inline uint32_t atomicinc()
{
	#ifdef ARCH_RISCV
	uint32_t value;
	asm volatile("traxamoin %[rd]\n\t" : [rd] "=r" (value));
   10138:	00000d8b          	traxamoin	s11
	for(uint32_t index = atomicinc(); index < global_data.framebuffer_size; index = atomicinc())
   1013c:	04802783          	lw	a5,72(zero) # 48 <main-0x10068>
   10140:	000d8d9b          	sext.w	s11,s11
   10144:	6afdf4e3          	bgeu	s11,a5,10fec <_ZL11path_tracerRK10GlobalData.constprop.0+0xf1c>
   10148:	42f10c13          	add	s8,sp,1071
   1014c:	fc0c7c13          	and	s8,s8,-64
   10150:	0001a4b7          	lui	s1,0x1a
   10154:	0001a937          	lui	s2,0x1a
   10158:	0001a9b7          	lui	s3,0x1a
		uint32_t x = index % global_data.framebuffer_width;
   1015c:	04002783          	lw	a5,64(zero) # 40 <main-0x10070>
	}

	//Robert Jenkins' one a time hash funcion for size 1 https://en.wikipedia.org/wiki/Jenkins_hash_function
	static uint32_t fast_hash(uint32_t u)
	{
		u += u << 10;
   10160:	2584a787          	flw	fa5,600(s1) # 1a258 <__DATA_BEGIN__+0x8>
		this->seed(seed);
	}

	void seed(uint32_t seed)
	{
		rng_state = fast_hash(seed + 1);
   10164:	001d871b          	addw	a4,s11,1
		uint32_t y = index / global_data.framebuffer_width;	
   10168:	02fdd63b          	divuw	a2,s11,a5
   1016c:	00a7169b          	sllw	a3,a4,0xa
   10170:	00e686bb          	addw	a3,a3,a4
		u ^= u >> 6;
   10174:	0066d71b          	srlw	a4,a3,0x6
   10178:	00d74733          	xor	a4,a4,a3
   1017c:	0037169b          	sllw	a3,a4,0x3
   10180:	00e686bb          	addw	a3,a3,a4
			float b;
		};
	};

	vec3() = default;
	vec3(float e0) { e[0] = e0; e[1] = e0; e[2] = e0; }
   10184:	f0000d53          	fmv.w.x	fs10,zero
		u ^= u >> 11;
   10188:	00b6d71b          	srlw	a4,a3,0xb
   1018c:	00d74733          	xor	a4,a4,a3
   10190:	00f71a9b          	sllw	s5,a4,0xf
   10194:	00ea8abb          	addw	s5,s5,a4
	}
	#endif

	Ray generate_ray_through_pixel(uint i, uint j, RNG* rng = nullptr) const
	{
		rtm::vec2 uv((float)i, (float)j);
   10198:	40000a13          	li	s4,1024
   1019c:	05a12227          	fsw	fs10,68(sp)
		uint32_t x = index % global_data.framebuffer_width;
   101a0:	02fdf7bb          	remuw	a5,s11,a5
   101a4:	d0167753          	fcvt.s.wu	fa4,a2
   101a8:	08f77c53          	fsub.s	fs8,fa4,fa5
   101ac:	05812627          	fsw	fs8,76(sp)
   101b0:	d017f753          	fcvt.s.wu	fa4,a5
   101b4:	08f77cd3          	fsub.s	fs9,fa4,fa5
   101b8:	05912427          	fsw	fs9,72(sp)
		return 1664525 * u + 1013904223;
   101bc:	001965b7          	lui	a1,0x196
   101c0:	60d5859b          	addw	a1,a1,1549 # 19660d <__global_pointer$+0x17bbbd>
   101c4:	02ba86bb          	mulw	a3,s5,a1
		uint32_t bits = u & 0x007FFFFFu | 0x3F800000u;
   101c8:	008007b7          	lui	a5,0x800
   101cc:	fff78793          	add	a5,a5,-1 # 7fffff <__global_pointer$+0x7e55af>
   101d0:	00faf733          	and	a4,s5,a5
   101d4:	3f800537          	lui	a0,0x3f800
		return *((float*)(&bits)) - 1.0f;
   101d8:	00a76733          	or	a4,a4,a0
	return *this;
}

inline vec2& vec2::operator+=(const vec2 &v)
{
	e[0] += v[0];
   101dc:	04812787          	flw	fa5,72(sp)
   101e0:	f0070753          	fmv.w.x	fa4,a4
		return 1664525 * u + 1013904223;
   101e4:	3c6ef637          	lui	a2,0x3c6ef
   101e8:	35f6061b          	addw	a2,a2,863 # 3c6ef35f <__global_pointer$+0x3c6d490f>
   101ec:	00e7f753          	fadd.s	fa4,fa5,fa4
   101f0:	00c6873b          	addw	a4,a3,a2
	return *this;
}

inline vec2& vec2::operator-=(const vec2 &v)
{
	e[0] -= v[0];
   101f4:	0001a6b7          	lui	a3,0x1a
   101f8:	05c02787          	flw	fa5,92(zero) # 5c <main-0x10054>
   101fc:	27c6a687          	flw	fa3,636(a3) # 1a27c <__DATA_BEGIN__+0x2c>
		uint32_t bits = u & 0x007FFFFFu | 0x3F800000u;
   10200:	00e7f7b3          	and	a5,a5,a4
		return *((float*)(&bits)) - 1.0f;
   10204:	00a7e7b3          	or	a5,a5,a0
   10208:	68f77743          	fmadd.s	fa4,fa4,fa5,fa3
	e[1] += v[1];
   1020c:	f00786d3          	fmv.w.x	fa3,a5
   10210:	04c12787          	flw	fa5,76(sp)
	e[1] -= v[1];
   10214:	27c6a607          	flw	fa2,636(a3)
   10218:	07402507          	flw	fa0,116(zero) # 74 <main-0x1003c>
	e[1] += v[1];
   1021c:	00d7f7d3          	fadd.s	fa5,fa5,fa3
	e[1] -= v[1];
   10220:	06002687          	flw	fa3,96(zero) # 60 <main-0x10050>
   10224:	08802187          	flw	ft3,136(zero) # 88 <main-0x10028>
		uv *= _recip_res;
		uv -= rtm::vec2(0.5f);

		Ray ray;
		ray.d = (_x * uv.x + _y * uv.y - _z);
		ray.t_min = T_MIN;
   10228:	25092207          	flw	ft4,592(s2) # 1a250 <__DATA_BEGIN__>
	vec3(float e0, float e1, float e2) { e[0] = e0; e[1] = e1; e[2] = e2; }

	inline const vec3& operator+() const { return *this; }
	inline vec3 operator-() const { return vec3(-e[0], -e[1], -e[2]); }
	inline float operator[](int i) const { return e[i]; }
   1022c:	07802107          	flw	ft2,120(zero) # 78 <main-0x10038>
   10230:	60d7f7c3          	fmadd.s	fa5,fa5,fa3,fa2
   10234:	08c02687          	flw	fa3,140(zero) # 8c <main-0x10024>
   10238:	08002607          	flw	fa2,128(zero) # 80 <main-0x10030>
   1023c:	07c02587          	flw	fa1,124(zero) # 7c <main-0x10034>
   10240:	68a77547          	fmsub.s	fa0,fa4,fa0,fa3
   10244:	07002687          	flw	fa3,112(zero) # 70 <main-0x10040>
   10248:	08402007          	flw	ft0,132(zero) # 84 <main-0x1002c>
   1024c:	09002087          	flw	ft1,144(zero) # 90 <main-0x10020>
   10250:	18d776c7          	fmsub.s	fa3,fa4,fa3,ft3
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
}

inline vec3 operator-(const vec3 &a, const vec3 &b)
{
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   10254:	50c7f643          	fmadd.s	fa2,fa5,fa2,fa0
   10258:	08412e27          	fsw	ft4,156(sp)
	inline float operator[](int i) const { return e[i]; }
   1025c:	06402c07          	flw	fs8,100(zero) # 64 <main-0x1004c>
   10260:	08277747          	fmsub.s	fa4,fa4,ft2,ft1
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   10264:	68b7f5c3          	fmadd.s	fa1,fa5,fa1,fa3
	e[0] = v[0];
   10268:	09812827          	fsw	fs8,144(sp)



inline float dot(const vec3 & a, const vec3 &b)
{
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   1026c:	10c676d3          	fmul.s	fa3,fa2,fa2
	inline float operator[](int i) const { return e[i]; }
   10270:	06802487          	flw	fs1,104(zero) # 68 <main-0x10048>
		return 1664525 * u + 1013904223;
   10274:	02b7073b          	mulw	a4,a4,a1
		ray.o = _position;
		ray.t_max = T_MAX;
   10278:	0001a7b7          	lui	a5,0x1a
	e[1] = v[1];
   1027c:	08912a27          	fsw	fs1,148(sp)
	inline float operator[](int i) const { return e[i]; }
   10280:	06c02b87          	flw	fs7,108(zero) # 6c <main-0x10044>
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   10284:	7007f7c3          	fmadd.s	fa5,fa5,ft0,fa4
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   10288:	68b5f743          	fmadd.s	fa4,fa1,fa1,fa3
   1028c:	2787a687          	flw	fa3,632(a5) # 1a278 <__DATA_BEGIN__+0x28>
	e[2] = v[2];
   10290:	09712c27          	fsw	fs7,152(sp)

		ray.radius = 0.0f;
   10294:	0a012a23          	sw	zero,180(sp)
		ray.t_max = T_MAX;
   10298:	0ad12627          	fsw	fa3,172(sp)
		ray.drdt = _drdt;
   1029c:	05802687          	flw	fa3,88(zero) # 58 <main-0x10058>
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   102a0:	70f7f743          	fmadd.s	fa4,fa5,fa5,fa4
   102a4:	00c70abb          	addw	s5,a4,a2
   102a8:	0ad12827          	fsw	fa3,176(sp)
	return sqrtf(input);
	#endif

	#ifdef ARCH_RISCV
	float output = 0.0f;
	asm volatile ("fsqrt.s %[rd], %[rs1]\n\t" : [rd] "=f" (output) : [rs1] "f" (input));
   102ac:	58077753          	fsqrt.s	fa4,fa4
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   102b0:	18e67cd3          	fdiv.s	fs9,fa2,fa4
			Ray last_ray = ray;
   102b4:	09013783          	ld	a5,144(sp)
				 hit.t = ray.t_max;
   102b8:	0001a737          	lui	a4,0x1a
			ray.rcp_max_error = 1.0f;
   102bc:	2584a687          	flw	fa3,600(s1)
			Ray last_ray = ray;
   102c0:	0cf13023          	sd	a5,192(sp)
   102c4:	09813783          	ld	a5,152(sp)
			ray.rcp_max_error = 1.0f;
   102c8:	0ad12c27          	fsw	fa3,184(sp)
	vec3(float e0) { e[0] = e0; e[1] = e0; e[2] = e0; }
   102cc:	20d68b53          	fmv.s	fs6,fa3
			Ray last_ray = ray;
   102d0:	0cf13423          	sd	a5,200(sp)
   102d4:	0b013783          	ld	a5,176(sp)
			for(uint i = 0; true; ++i)
   102d8:	00000b13          	li	s6,0
			uint last_patch_index = ~0u;
   102dc:	fff00513          	li	a0,-1
			Ray last_ray = ray;
   102e0:	0ef13023          	sd	a5,224(sp)
   102e4:	3f8007b7          	lui	a5,0x3f800
   102e8:	0ef12423          	sw	a5,232(sp)
   102ec:	000d8d13          	mv	s10,s11
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   102f0:	18e5f9d3          	fdiv.s	fs3,fa1,fa4
	e[1] = v[1];
   102f4:	0b912227          	fsw	fs9,164(sp)
   102f8:	219c8a53          	fmv.s	fs4,fs9
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   102fc:	18e7fdd3          	fdiv.s	fs11,fa5,fa4
	e[0] = v[0];
   10300:	0b312027          	fsw	fs3,160(sp)
   10304:	0a013783          	ld	a5,160(sp)
				 hit.t = ray.t_max;
   10308:	27872787          	flw	fa5,632(a4) # 1a278 <__DATA_BEGIN__+0x28>
	return false;
}

bool intersect(const GlobalData& global_data, uint last_patch_index, const Ray& last_ray, Ray& ray, Hit& hit)
{
	switch(global_data.config)
   1030c:	00200713          	li	a4,2
			Ray last_ray = ray;
   10310:	0cf13823          	sd	a5,208(sp)
	e[2] = v[2];
   10314:	0bb12427          	fsw	fs11,168(sp)
   10318:	0a813783          	ld	a5,168(sp)
   1031c:	21bd8cd3          	fmv.s	fs9,fs11
   10320:	0cf13c23          	sd	a5,216(sp)
   10324:	09802783          	lw	a5,152(zero) # 98 <main-0x10018>
				 hit.t = ray.t_max;
   10328:	06f12027          	fsw	fa5,96(sp)
   1032c:	06e788e3          	beq	a5,a4,10b9c <_ZL11path_tracerRK10GlobalData.constprop.0+0xacc>
   10330:	10f76663          	bltu	a4,a5,1043c <_ZL11path_tracerRK10GlobalData.constprop.0+0x36c>
   10334:	78078ae3          	beqz	a5,112c8 <_ZL11path_tracerRK10GlobalData.constprop.0+0x11f8>
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   10338:	2584a907          	flw	fs2,600(s1)
   1033c:	0001a7b7          	lui	a5,0x1a
   10340:	26c7a787          	flw	fa5,620(a5) # 1a26c <__DATA_BEGIN__+0x1c>
   10344:	19497d53          	fdiv.s	fs10,fs2,fs4
	node_stack[3 * 32];

	rtm::vec3 inv_d = rtm::vec3(1.0f) / ray.d;

	uint32_t node_stack_size = 1u;
	node_stack[0].t = ray.t_min;
   10348:	0001a7b7          	lui	a5,0x1a
   1034c:	0987f0d3          	fsub.s	ft1,fa5,fs8
   10350:	2787a007          	flw	ft0,632(a5) # 1a278 <__DATA_BEGIN__+0x28>
	return f >= 2.0f ? 0x8000u : (((as_u32(f) + 0xffu) >> 8) & 0x7fffu);
}

static float u16_to_f32(uint16_t u16)
{
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   10354:	0001a7b7          	lui	a5,0x1a
   10358:	2607a407          	flw	fs0,608(a5) # 1a260 <__DATA_BEGIN__+0x10>
struct TesselationTree4SecondaryRayData
{
	const TesselationTree4Pointers& tes_tree;
	const Ray& last_ray;
	uint last_patch_index;
	TesselationTree4SecondaryRayData(const TesselationTree4Pointers& tes_tree, uint last_patch_index, const Ray& last_ray) : tes_tree(tes_tree), last_ray(last_ray), last_patch_index(last_patch_index) {}
   1035c:	0a800793          	li	a5,168
			return intersect(global_data.cblas, global_data.mesh, ray, hit); //BVHC
		case 1: 
		{

			TesselationTree4SecondaryRayData data4(global_data.tt4, last_patch_index, last_ray);
			return intersect(global_data.cblas, data4, ray, hit); //TTC
   10360:	0a003b83          	ld	s7,160(zero) # a0 <main-0x10010>
   10364:	06f13c23          	sd	a5,120(sp)
   10368:	0c010793          	add	a5,sp,192
   1036c:	08f13023          	sd	a5,128(sp)
   10370:	0001a7b7          	lui	a5,0x1a
   10374:	2507b783          	ld	a5,592(a5) # 1a250 <__DATA_BEGIN__>
   10378:	01312827          	fsw	fs3,16(sp)
	node_stack[0].data.is_leaf = false;
	node_stack[0].data.fst_chld_ind = 0;
	node_stack[0].data.lst_chld_ofst = 3;

	bool found_hit = false;
   1037c:	00000413          	li	s0,0
   10380:	01513023          	sd	s5,0(sp)
   10384:	01413c23          	sd	s4,24(sp)
   10388:	08a12423          	sw	a0,136(sp)
	node_stack[0].t = ray.t_min;
   1038c:	0ef13823          	sd	a5,240(sp)
	uint32_t node_stack_size = 1u;
   10390:	00100d93          	li	s11,1
   10394:	19997ad3          	fdiv.s	fs5,fs2,fs9
   10398:	01613423          	sd	s6,8(sp)
   1039c:	00040a13          	mv	s4,s0
   103a0:	000c0a93          	mv	s5,s8
   103a4:	19397dd3          	fdiv.s	fs11,fs2,fs3
   103a8:	201089d3          	fmv.s	fs3,ft1
	do
	{
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   103ac:	fffd8d9b          	addw	s11,s11,-1
   103b0:	020d9713          	sll	a4,s11,0x20
   103b4:	01d75793          	srl	a5,a4,0x1d
   103b8:	43078793          	add	a5,a5,1072
   103bc:	05010713          	add	a4,sp,80
   103c0:	00e787b3          	add	a5,a5,a4
   103c4:	c707bc83          	ld	s9,-912(a5)
		if(current_entry.t >= hit.t) return found_hit;
   103c8:	f00c87d3          	fmv.w.x	fa5,s9
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   103cc:	05913823          	sd	s9,80(sp)
		if(current_entry.t >= hit.t) return found_hit;
   103d0:	a0f007d3          	fle.s	a5,ft0,fa5
   103d4:	00078463          	beqz	a5,103dc <_ZL11path_tracerRK10GlobalData.constprop.0+0x30c>
   103d8:	5640106f          	j	1193c <_ZL11path_tracerRK10GlobalData.constprop.0+0x186c>

		if(!current_entry.data.is_leaf)
   103dc:	05412783          	lw	a5,84(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
			}
		}
		else
		{
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   103e0:	021cd413          	srl	s0,s9,0x21
   103e4:	00747413          	and	s0,s0,7
		if(!current_entry.data.is_leaf)
   103e8:	0017f793          	and	a5,a5,1
			move_to_stack(node4, blas[current_entry.data.fst_chld_ind]);
   103ec:	024cdc93          	srl	s9,s9,0x24
		if(!current_entry.data.is_leaf)
   103f0:	460784e3          	beqz	a5,11058 <_ZL11path_tracerRK10GlobalData.constprop.0+0xf88>
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   103f4:	0004041b          	sext.w	s0,s0
   103f8:	00000b13          	li	s6,0
   103fc:	07810c13          	add	s8,sp,120
				found_hit |= intersect(current_entry.data.fst_chld_ind + i, mesh, ray, hit);
   10400:	000c8513          	mv	a0,s9
   10404:	06010693          	add	a3,sp,96
   10408:	09010613          	add	a2,sp,144
   1040c:	000c0593          	mv	a1,s8
   10410:	00003097          	auipc	ra,0x3
   10414:	dc0080e7          	jalr	-576(ra) # 131d0 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit>
   10418:	00aa6a33          	or	s4,s4,a0
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   1041c:	001b0b1b          	addw	s6,s6,1
				found_hit |= intersect(current_entry.data.fst_chld_ind + i, mesh, ray, hit);
   10420:	0ffa7a13          	zext.b	s4,s4
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   10424:	001c8c9b          	addw	s9,s9,1
   10428:	fd647ce3          	bgeu	s0,s6,10400 <_ZL11path_tracerRK10GlobalData.constprop.0+0x330>
		}
	}
	while(node_stack_size);
   1042c:	000d9463          	bnez	s11,10434 <_ZL11path_tracerRK10GlobalData.constprop.0+0x364>
   10430:	50c0106f          	j	1193c <_ZL11path_tracerRK10GlobalData.constprop.0+0x186c>
		if(current_entry.t >= hit.t) return found_hit;
   10434:	06012007          	flw	ft0,96(sp)
   10438:	f75ff06f          	j	103ac <_ZL11path_tracerRK10GlobalData.constprop.0+0x2dc>
	switch(global_data.config)
   1043c:	00300713          	li	a4,3
   10440:	32e790e3          	bne	a5,a4,10f60 <_ZL11path_tracerRK10GlobalData.constprop.0+0xe90>
   10444:	2584a107          	flw	ft2,600(s1)
		case 2: 
			return intersect(global_data.blas, global_data.mesh, ray, hit); //BVH
		case 3:
		{
			TesselationTree1SecondaryRayData data1(global_data.tt1, last_patch_index, last_ray);
 			return intersect(global_data.blas, data1, ray, hit); //TT
   10448:	0a003683          	ld	a3,160(zero) # a0 <main-0x10010>
   1044c:	25092087          	flw	ft1,592(s2)
   10450:	19317d53          	fdiv.s	fs10,ft2,fs3
template <typename T>
inline void move_to_stack(T& dst, const T& src)
{
	for(uint i = 0; i < sizeof(T) / sizeof(uint64_t); ++i)
	{
		uint64_t r = ((uint64_t*)&src)[i];
   10454:	0006b603          	ld	a2,0(a3)
   10458:	0086b703          	ld	a4,8(a3)
   1045c:	0106b583          	ld	a1,16(a3)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   10460:	00060793          	mv	a5,a2
   10464:	02065613          	srl	a2,a2,0x20
   10468:	f0060753          	fmv.w.x	fa4,a2
   1046c:	02075893          	srl	a7,a4,0x20
   10470:	f00787d3          	fmv.w.x	fa5,a5
   10474:	089776d3          	fsub.s	fa3,fa4,fs1
   10478:	f0088753          	fmv.w.x	fa4,a7
   1047c:	0987f7d3          	fsub.s	fa5,fa5,fs8
		((uint64_t*)&dst)[i] = r;
   10480:	0186b783          	ld	a5,24(a3)
   10484:	09877053          	fsub.s	ft0,fa4,fs8
   10488:	f0058753          	fmv.w.x	fa4,a1
   1048c:	0205d593          	srl	a1,a1,0x20
   10490:	f0058653          	fmv.w.x	fa2,a1
   10494:	08977553          	fsub.s	fa0,fa4,fs1
   10498:	f0070753          	fmv.w.x	fa4,a4
   1049c:	09767653          	fsub.s	fa2,fa2,fs7
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   104a0:	19417dd3          	fdiv.s	fs11,ft2,fs4
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   104a4:	11a07053          	fmul.s	ft0,ft0,fs10
   104a8:	11a7f7d3          	fmul.s	fa5,fa5,fs10
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   104ac:	09777753          	fsub.s	fa4,fa4,fs7
   104b0:	04fc3c23          	sd	a5,88(s8)
	if (tmin > tmax) return ray.t_max;//no hit || behind
   104b4:	0001a7b7          	lui	a5,0x1a
struct TesselationTree1SecondaryRayData
{
	const TesselationTree1Pointers& tes_tree;
	const Ray& last_ray;
	uint last_patch_index;
	TesselationTree1SecondaryRayData(const TesselationTree1Pointers& tes_tree, uint last_patch_index, const Ray& last_ray) : tes_tree(tes_tree), last_ray(last_ray), last_patch_index(last_patch_index) {}
   104b8:	0a800713          	li	a4,168
   104bc:	280785d3          	fmin.s	fa1,fa5,ft0
   104c0:	280797d3          	fmax.s	fa5,fa5,ft0
   104c4:	06e13c23          	sd	a4,120(sp)
   104c8:	0c010713          	add	a4,sp,192
   104cc:	08e13023          	sd	a4,128(sp)
   104d0:	08a12423          	sw	a0,136(sp)
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   104d4:	19917ad3          	fdiv.s	fs5,ft2,fs9
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   104d8:	11b6f6d3          	fmul.s	fa3,fa3,fs11
   104dc:	11b57553          	fmul.s	fa0,fa0,fs11
   104e0:	28a68053          	fmin.s	ft0,fa3,fa0
   104e4:	28a696d3          	fmax.s	fa3,fa3,fa0
   104e8:	280595d3          	fmax.s	fa1,fa1,ft0
   104ec:	28d787d3          	fmin.s	fa5,fa5,fa3
   104f0:	2787a687          	flw	fa3,632(a5) # 1a278 <__DATA_BEGIN__+0x28>
   104f4:	281595d3          	fmax.s	fa1,fa1,ft1
   104f8:	28d787d3          	fmin.s	fa5,fa5,fa3
   104fc:	11577753          	fmul.s	fa4,fa4,fs5
   10500:	115676d3          	fmul.s	fa3,fa2,fs5
	float tmin = std::max(std::max(tminv.x, tminv.y), std::max(tminv.z, ray.t_min));
   10504:	28d70653          	fmin.s	fa2,fa4,fa3
	if (tmin > tmax) return ray.t_max;//no hit || behind
   10508:	28d71753          	fmax.s	fa4,fa4,fa3
   1050c:	28c595d3          	fmax.s	fa1,fa1,fa2
   10510:	28e787d3          	fmin.s	fa5,fa5,fa4
   10514:	a0b797d3          	flt.s	a5,fa5,fa1
   10518:	00078663          	beqz	a5,10524 <_ZL11path_tracerRK10GlobalData.constprop.0+0x454>
   1051c:	0001a7b7          	lui	a5,0x1a
   10520:	2787a587          	flw	fa1,632(a5) # 1a278 <__DATA_BEGIN__+0x28>
	node_stack[0].data = root_node.data;
   10524:	2789a507          	flw	fa0,632(s3) # 1a278 <__DATA_BEGIN__+0x28>
   10528:	058c2783          	lw	a5,88(s8)
   1052c:	25092907          	flw	fs2,592(s2)
	if (tmin > tmax) return ray.t_max;//no hit || behind
   10530:	20a50453          	fmv.s	fs0,fa0
   10534:	01513023          	sd	s5,0(sp)
   10538:	01413c23          	sd	s4,24(sp)
	node_stack[0].t = intersect(root_node.aabb, ray, inv_d);
   1053c:	0eb12827          	fsw	fa1,240(sp)
	node_stack[0].data = root_node.data;
   10540:	0ef12a23          	sw	a5,244(sp)
	bool found_hit = false;
   10544:	00000413          	li	s0,0
	uint32_t node_stack_size = 1u;
   10548:	00100d93          	li	s11,1
   1054c:	0f010c93          	add	s9,sp,240
   10550:	01613423          	sd	s6,8(sp)
   10554:	01a13823          	sd	s10,16(sp)
   10558:	00068a13          	mv	s4,a3
   1055c:	000c0a93          	mv	s5,s8
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   10560:	fffd8d9b          	addw	s11,s11,-1
   10564:	020d9713          	sll	a4,s11,0x20
   10568:	01d75793          	srl	a5,a4,0x1d
   1056c:	43078793          	add	a5,a5,1072
   10570:	05010713          	add	a4,sp,80
   10574:	00e787b3          	add	a5,a5,a4
   10578:	c707b783          	ld	a5,-912(a5)
		if(current_entry.t >= hit.t) return found_hit;
   1057c:	f00787d3          	fmv.w.x	fa5,a5
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   10580:	04f13823          	sd	a5,80(sp)
		if(current_entry.t >= hit.t) return found_hit;
   10584:	a0f50753          	fle.s	a4,fa0,fa5
   10588:	1c071663          	bnez	a4,10754 <_ZL11path_tracerRK10GlobalData.constprop.0+0x684>
		if(!current_entry.data.is_leaf)
   1058c:	05412703          	lw	a4,84(sp)
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   10590:	0217db93          	srl	s7,a5,0x21
   10594:	007bfb93          	and	s7,s7,7
		if(!current_entry.data.is_leaf)
   10598:	00177713          	and	a4,a4,1
				move_to_stack(node, blas[current_entry.data.fst_chld_ind + i]);
   1059c:	0247d793          	srl	a5,a5,0x24
		if(!current_entry.data.is_leaf)
   105a0:	16071a63          	bnez	a4,10714 <_ZL11path_tracerRK10GlobalData.constprop.0+0x644>
   105a4:	00fb8bb3          	add	s7,s7,a5
   105a8:	005b9313          	sll	t1,s7,0x5
   105ac:	00579793          	sll	a5,a5,0x5
   105b0:	020a0713          	add	a4,s4,32
   105b4:	00fa0533          	add	a0,s4,a5
   105b8:	00e30333          	add	t1,t1,a4
   105bc:	00c0006f          	j	105c8 <_ZL11path_tracerRK10GlobalData.constprop.0+0x4f8>
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   105c0:	02050513          	add	a0,a0,32 # 3f800020 <__global_pointer$+0x3f7e55d0>
   105c4:	12a30463          	beq	t1,a0,106ec <_ZL11path_tracerRK10GlobalData.constprop.0+0x61c>
		uint64_t r = ((uint64_t*)&src)[i];
   105c8:	00053683          	ld	a3,0(a0)
   105cc:	00853703          	ld	a4,8(a0)
   105d0:	01053783          	ld	a5,16(a0)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   105d4:	00068813          	mv	a6,a3
   105d8:	0206d693          	srl	a3,a3,0x20
   105dc:	f0068753          	fmv.w.x	fa4,a3
   105e0:	02075593          	srl	a1,a4,0x20
   105e4:	f00807d3          	fmv.w.x	fa5,a6
   105e8:	089776d3          	fsub.s	fa3,fa4,fs1
   105ec:	f0058753          	fmv.w.x	fa4,a1
   105f0:	0987f7d3          	fsub.s	fa5,fa5,fs8
   105f4:	098770d3          	fsub.s	ft1,fa4,fs8
   105f8:	f0078753          	fmv.w.x	fa4,a5
   105fc:	0207d793          	srl	a5,a5,0x20
   10600:	f0078653          	fmv.w.x	fa2,a5
   10604:	08977053          	fsub.s	ft0,fa4,fs1
   10608:	f0070753          	fmv.w.x	fa4,a4
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   1060c:	11a7f7d3          	fmul.s	fa5,fa5,fs10
   10610:	11b6f6d3          	fmul.s	fa3,fa3,fs11
   10614:	11a0f0d3          	fmul.s	ft1,ft1,fs10
   10618:	11b07053          	fmul.s	ft0,ft0,fs11
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   1061c:	097675d3          	fsub.s	fa1,fa2,fs7
   10620:	09777753          	fsub.s	fa4,fa4,fs7
		((uint64_t*)&dst)[i] = r;
   10624:	01853783          	ld	a5,24(a0)
   10628:	28178653          	fmin.s	fa2,fa5,ft1
   1062c:	28068153          	fmin.s	ft2,fa3,ft0
	if (tmin > tmax) return ray.t_max;//no hit || behind
   10630:	281797d3          	fmax.s	fa5,fa5,ft1
   10634:	280696d3          	fmax.s	fa3,fa3,ft0
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   10638:	11577753          	fmul.s	fa4,fa4,fs5
   1063c:	1155f5d3          	fmul.s	fa1,fa1,fs5
   10640:	28d787d3          	fmin.s	fa5,fa5,fa3
   10644:	28261653          	fmax.s	fa2,fa2,ft2
   10648:	00fabc23          	sd	a5,24(s5)
   1064c:	288787d3          	fmin.s	fa5,fa5,fs0
   10650:	28b706d3          	fmin.s	fa3,fa4,fa1
   10654:	29261653          	fmax.s	fa2,fa2,fs2
   10658:	28b71753          	fmax.s	fa4,fa4,fa1
   1065c:	28d616d3          	fmax.s	fa3,fa2,fa3
   10660:	28e787d3          	fmin.s	fa5,fa5,fa4
   10664:	a0d797d3          	flt.s	a5,fa5,fa3
   10668:	00078463          	beqz	a5,10670 <_ZL11path_tracerRK10GlobalData.constprop.0+0x5a0>
   1066c:	208406d3          	fmv.s	fa3,fs0
				new_entry.data = node.data;
   10670:	018aa703          	lw	a4,24(s5)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   10674:	a0a697d3          	flt.s	a5,fa3,fa0
				new_entry.data = node.data;
   10678:	04e12e23          	sw	a4,92(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   1067c:	f40782e3          	beqz	a5,105c0 <_ZL11path_tracerRK10GlobalData.constprop.0+0x4f0>
   10680:	001d861b          	addw	a2,s11,1
	for(; j != min; --j)
   10684:	060d8a63          	beqz	s11,106f8 <_ZL11path_tracerRK10GlobalData.constprop.0+0x628>
   10688:	fffd879b          	addw	a5,s11,-1
   1068c:	020d9693          	sll	a3,s11,0x20
   10690:	01d6d713          	srl	a4,a3,0x1d
   10694:	02079693          	sll	a3,a5,0x20
   10698:	01d6d793          	srl	a5,a3,0x1d
   1069c:	000c8813          	mv	a6,s9
   106a0:	00ec8733          	add	a4,s9,a4
   106a4:	00fc87b3          	add	a5,s9,a5
   106a8:	0180006f          	j	106c0 <_ZL11path_tracerRK10GlobalData.constprop.0+0x5f0>
		stack[j] = stack[j - 1];
   106ac:	0007b683          	ld	a3,0(a5)
	for(; j != min; --j)
   106b0:	ff870713          	add	a4,a4,-8
		stack[j] = stack[j - 1];
   106b4:	00d73423          	sd	a3,8(a4)
	for(; j != min; --j)
   106b8:	04fc8263          	beq	s9,a5,106fc <_ZL11path_tracerRK10GlobalData.constprop.0+0x62c>
   106bc:	00088793          	mv	a5,a7
		if(stack[j - 1].t >= entry.t) break;
   106c0:	0007a787          	flw	fa5,0(a5)
		stack[j] = stack[j - 1];
   106c4:	00070593          	mv	a1,a4
	for(; j != min; --j)
   106c8:	ff878893          	add	a7,a5,-8
		if(stack[j - 1].t >= entry.t) break;
   106cc:	a0f686d3          	fle.s	a3,fa3,fa5
   106d0:	fc068ee3          	beqz	a3,106ac <_ZL11path_tracerRK10GlobalData.constprop.0+0x5dc>
	stack[j] = entry;
   106d4:	04d12c27          	fsw	fa3,88(sp)
   106d8:	05813783          	ld	a5,88(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   106dc:	00060d93          	mv	s11,a2
	stack[j] = entry;
   106e0:	00f5b023          	sd	a5,0(a1)
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   106e4:	02050513          	add	a0,a0,32
   106e8:	eea310e3          	bne	t1,a0,105c8 <_ZL11path_tracerRK10GlobalData.constprop.0+0x4f8>
	while(node_stack_size);
   106ec:	060d8463          	beqz	s11,10754 <_ZL11path_tracerRK10GlobalData.constprop.0+0x684>
		if(current_entry.t >= hit.t) return found_hit;
   106f0:	06012507          	flw	fa0,96(sp)
   106f4:	e6dff06f          	j	10560 <_ZL11path_tracerRK10GlobalData.constprop.0+0x490>
   106f8:	0f010813          	add	a6,sp,240
	stack[j] = entry;
   106fc:	04d12c27          	fsw	fa3,88(sp)
   10700:	05813783          	ld	a5,88(sp)
   10704:	00080593          	mv	a1,a6
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   10708:	00060d93          	mv	s11,a2
	stack[j] = entry;
   1070c:	00f5b023          	sd	a5,0(a1)
   10710:	fd5ff06f          	j	106e4 <_ZL11path_tracerRK10GlobalData.constprop.0+0x614>
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   10714:	000b8b9b          	sext.w	s7,s7
				move_to_stack(node, blas[current_entry.data.fst_chld_ind + i]);
   10718:	00078d13          	mv	s10,a5
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   1071c:	00000b13          	li	s6,0
   10720:	07810c13          	add	s8,sp,120
				found_hit |= intersect(current_entry.data.fst_chld_ind + i, mesh, ray, hit);
   10724:	000d0513          	mv	a0,s10
   10728:	06010693          	add	a3,sp,96
   1072c:	09010613          	add	a2,sp,144
   10730:	000c0593          	mv	a1,s8
   10734:	00001097          	auipc	ra,0x1
   10738:	5d0080e7          	jalr	1488(ra) # 11d04 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit>
   1073c:	00856433          	or	s0,a0,s0
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   10740:	001b0b1b          	addw	s6,s6,1
				found_hit |= intersect(current_entry.data.fst_chld_ind + i, mesh, ray, hit);
   10744:	0ff47413          	zext.b	s0,s0
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   10748:	001d0d1b          	addw	s10,s10,1
   1074c:	fd6bfce3          	bgeu	s7,s6,10724 <_ZL11path_tracerRK10GlobalData.constprop.0+0x654>
	while(node_stack_size);
   10750:	fa0d90e3          	bnez	s11,106f0 <_ZL11path_tracerRK10GlobalData.constprop.0+0x620>
   10754:	000a8c13          	mv	s8,s5
   10758:	00813b03          	ld	s6,8(sp)
   1075c:	01013d03          	ld	s10,16(sp)
   10760:	01813a03          	ld	s4,24(sp)
   10764:	00013a83          	ld	s5,0(sp)
				if(intersect(global_data, last_patch_index, last_ray, ray, hit))
   10768:	7e040c63          	beqz	s0,10f60 <_ZL11path_tracerRK10GlobalData.constprop.0+0xe90>
					if(i >= global_data.bounces) break;
   1076c:	09402783          	lw	a5,148(zero) # 94 <main-0x1001c>
   10770:	00fb6463          	bltu	s6,a5,10778 <_ZL11path_tracerRK10GlobalData.constprop.0+0x6a8>
   10774:	4440106f          	j	11bb8 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1ae8>
					rtm::uvec3 ni = global_data.ni[hit.id];
   10778:	06c16703          	lwu	a4,108(sp)
   1077c:	0c803603          	ld	a2,200(zero) # c8 <main-0xffe8>
					rtm::vec3 n = rtm::normalize(global_data.normals[ni[0]] * hit.bc[0] + global_data.normals[ni[1]] * hit.bc[1] + global_data.normals[ni[2]] * (1.0f - hit.bc[0] - hit.bc[1])); 
   10780:	0d003683          	ld	a3,208(zero) # d0 <main-0xffe0>
					rtm::uvec3 ni = global_data.ni[hit.id];
   10784:	00171793          	sll	a5,a4,0x1
   10788:	00e787b3          	add	a5,a5,a4
   1078c:	00279793          	sll	a5,a5,0x2
   10790:	00f60633          	add	a2,a2,a5
					rtm::vec3 n = rtm::normalize(global_data.normals[ni[0]] * hit.bc[0] + global_data.normals[ni[1]] * hit.bc[1] + global_data.normals[ni[2]] * (1.0f - hit.bc[0] - hit.bc[1])); 
   10794:	00466783          	lwu	a5,4(a2)
   10798:	00066583          	lwu	a1,0(a2)
   1079c:	06412787          	flw	fa5,100(sp)
   107a0:	00179713          	sll	a4,a5,0x1
   107a4:	00f70733          	add	a4,a4,a5
   107a8:	00271713          	sll	a4,a4,0x2
   107ac:	00e68733          	add	a4,a3,a4
   107b0:	06812687          	flw	fa3,104(sp)
   107b4:	00472607          	flw	fa2,4(a4)
   107b8:	00159793          	sll	a5,a1,0x1
   107bc:	00b787b3          	add	a5,a5,a1
   107c0:	00d7f553          	fadd.s	fa0,fa5,fa3
   107c4:	10c6f653          	fmul.s	fa2,fa3,fa2
   107c8:	00866583          	lwu	a1,8(a2)
   107cc:	00279793          	sll	a5,a5,0x2
   107d0:	00f687b3          	add	a5,a3,a5
	inline float operator[](int i) const { return e[i]; }
   107d4:	0047a587          	flw	fa1,4(a5)
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   107d8:	00072007          	flw	ft0,0(a4)
   107dc:	2584a707          	flw	fa4,600(s1)
   107e0:	00159613          	sll	a2,a1,0x1
   107e4:	00b60633          	add	a2,a2,a1
   107e8:	08a77753          	fsub.s	fa4,fa4,fa0
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   107ec:	60b7f5c3          	fmadd.s	fa1,fa5,fa1,fa2
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   107f0:	1006f053          	fmul.s	ft0,fa3,ft0
   107f4:	00261613          	sll	a2,a2,0x2
   107f8:	00c686b3          	add	a3,a3,a2
   107fc:	00872087          	flw	ft1,8(a4)
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   10800:	0007a507          	flw	fa0,0(a5)
	inline float operator[](int i) const { return e[i]; }
   10804:	0046a607          	flw	fa2,4(a3)
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   10808:	1016f6d3          	fmul.s	fa3,fa3,ft1
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   1080c:	00a7f543          	fmadd.s	fa0,fa5,fa0,ft0
   10810:	58c77643          	fmadd.s	fa2,fa4,fa2,fa1
	inline float operator[](int i) const { return e[i]; }
   10814:	0087a087          	flw	ft1,8(a5)
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   10818:	0006a587          	flw	fa1,0(a3)
	inline float operator[](int i) const { return e[i]; }
   1081c:	0086a007          	flw	ft0,8(a3)
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   10820:	6817f7c3          	fmadd.s	fa5,fa5,ft1,fa3
   10824:	50b776c3          	fmadd.s	fa3,fa4,fa1,fa0
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   10828:	10c675d3          	fmul.s	fa1,fa2,fa2
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   1082c:	78077743          	fmadd.s	fa4,fa4,ft0,fa5
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   10830:	58d6f5c3          	fmadd.s	fa1,fa3,fa3,fa1
   10834:	58e775c3          	fmadd.s	fa1,fa4,fa4,fa1
	asm volatile ("fsqrt.s %[rd], %[rs1]\n\t" : [rd] "=f" (output) : [rs1] "f" (input));
   10838:	5805f5d3          	fsqrt.s	fa1,fa1
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   1083c:	18b67653          	fdiv.s	fa2,fa2,fa1
	if(dot <= -EPS_NORMAL_CORRECTION)
   10840:	0001a7b7          	lui	a5,0x1a
   10844:	18b6f6d3          	fdiv.s	fa3,fa3,fa1
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   10848:	114677d3          	fmul.s	fa5,fa2,fs4
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   1084c:	18b77753          	fdiv.s	fa4,fa4,fa1
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   10850:	7936f7c3          	fmadd.s	fa5,fa3,fs3,fa5
   10854:	2807a587          	flw	fa1,640(a5) # 1a280 <__DATA_BEGIN__+0x30>
   10858:	799777c3          	fmadd.s	fa5,fa4,fs9,fa5
   1085c:	a0b787d3          	fle.s	a5,fa5,fa1
   10860:	06079663          	bnez	a5,108cc <_ZL11path_tracerRK10GlobalData.constprop.0+0x7fc>
   10864:	0001a7b7          	lui	a5,0x1a
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   10868:	68f9f6cb          	fnmsub.s	fa3,fs3,fa5,fa3
   1086c:	60fa764b          	fnmsub.s	fa2,fs4,fa5,fa2
   10870:	2847a587          	flw	fa1,644(a5) # 1a284 <__DATA_BEGIN__+0x34>
   10874:	70fcf7cb          	fnmsub.s	fa5,fs9,fa5,fa4
   10878:	5805f5d3          	fsqrt.s	fa1,fa1
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   1087c:	10c67753          	fmul.s	fa4,fa2,fa2
   10880:	70d6f743          	fmadd.s	fa4,fa3,fa3,fa4
   10884:	70f7f743          	fmadd.s	fa4,fa5,fa5,fa4
   10888:	58077753          	fsqrt.s	fa4,fa4
		n += (numer * denom) * tmp;
   1088c:	10e5f5d3          	fmul.s	fa1,fa1,fa4
	e[0] += v[0];
   10890:	0001a7b7          	lui	a5,0x1a
   10894:	2887a707          	flw	fa4,648(a5) # 1a288 <__DATA_BEGIN__+0x38>
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   10898:	10b67653          	fmul.s	fa2,fa2,fa1
   1089c:	10b7f7d3          	fmul.s	fa5,fa5,fa1
   108a0:	10b6f6d3          	fmul.s	fa3,fa3,fa1
	e[1] += v[1];
   108a4:	60ea7643          	fmadd.s	fa2,fs4,fa4,fa2
	e[0] += v[0];
   108a8:	68e9f6c3          	fmadd.s	fa3,fs3,fa4,fa3
	e[2] += v[2];
   108ac:	78ecf743          	fmadd.s	fa4,fs9,fa4,fa5
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   108b0:	10c677d3          	fmul.s	fa5,fa2,fa2
   108b4:	78d6f7c3          	fmadd.s	fa5,fa3,fa3,fa5
   108b8:	78e777c3          	fmadd.s	fa5,fa4,fa4,fa5
   108bc:	5807f7d3          	fsqrt.s	fa5,fa5
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   108c0:	18f6f6d3          	fdiv.s	fa3,fa3,fa5
   108c4:	18f67653          	fdiv.s	fa2,fa2,fa5
   108c8:	18f77753          	fdiv.s	fa4,fa4,fa5
   108cc:	00196637          	lui	a2,0x196
   108d0:	60d6061b          	addw	a2,a2,1549 # 19660d <__global_pointer$+0x17bbbd>
   108d4:	02ca873b          	mulw	a4,s5,a2
					ray.o += ray.d * hit.t;
   108d8:	06012007          	flw	ft0,96(sp)
		uint32_t bits = u & 0x007FFFFFu | 0x3F800000u;
   108dc:	008007b7          	lui	a5,0x800
   108e0:	fff78793          	add	a5,a5,-1 # 7fffff <__global_pointer$+0x7e55af>
   108e4:	00faf6b3          	and	a3,s5,a5
	e[0] = v[0];
   108e8:	0d812027          	fsw	fs8,192(sp)
	e[1] = v[1];
   108ec:	0c912227          	fsw	fs1,196(sp)
	e[0] += v[0];
   108f0:	c1307c43          	fmadd.s	fs8,ft0,fs3,fs8
	e[1] += v[1];
   108f4:	494074c3          	fmadd.s	fs1,ft0,fs4,fs1
	e[2] = v[2];
   108f8:	0d712427          	fsw	fs7,200(sp)
   108fc:	3f8005b7          	lui	a1,0x3f800
	e[2] += v[2];
   10900:	b9907bc3          	fmadd.s	fs7,ft0,fs9,fs7
		return *((float*)(&bits)) - 1.0f;
   10904:	00b6e6b3          	or	a3,a3,a1
#pragma once
#include "stdafx.hpp"

#include "rtm.hpp"

struct Ray
   10908:	2584a787          	flw	fa5,600(s1)
   1090c:	25092107          	flw	ft2,592(s2)
   10910:	2789a587          	flw	fa1,632(s3)
   10914:	0b012507          	flw	fa0,176(sp)
   10918:	0b412087          	flw	ft1,180(sp)
   1091c:	f00681d3          	fmv.w.x	ft3,a3
		return 1664525 * u + 1013904223;
   10920:	3c6efab7          	lui	s5,0x3c6ef
   10924:	35fa8a9b          	addw	s5,s5,863 # 3c6ef35f <__global_pointer$+0x3c6d490f>
		return *((float*)(&bits)) - 1.0f;
   10928:	08f1f2d3          	fsub.s	ft5,ft3,fa5
					last_patch_index = hit.patch_index;
   1092c:	07012503          	lw	a0,112(sp)
   10930:	0c212627          	fsw	ft2,204(sp)
	e[0] = v[0];
   10934:	0d312827          	fsw	fs3,208(sp)
	e[1] = v[1];
   10938:	0d412a27          	fsw	fs4,212(sp)
	e[2] = v[2];
   1093c:	0d912c27          	fsw	fs9,216(sp)
   10940:	0cb12e27          	fsw	fa1,220(sp)
   10944:	0ea12027          	fsw	fa0,224(sp)
   10948:	0e112227          	fsw	ft1,228(sp)
   1094c:	0ef12427          	fsw	fa5,232(sp)
	e[0] += v[0];
   10950:	09812827          	fsw	fs8,144(sp)
	e[1] += v[1];
   10954:	08912a27          	fsw	fs1,148(sp)
	e[2] += v[2];
   10958:	09712c27          	fsw	fs7,152(sp)
		return 1664525 * u + 1013904223;
   1095c:	0157073b          	addw	a4,a4,s5
   10960:	5802f2d3          	fsqrt.s	ft5,ft5
		uint32_t bits = u & 0x007FFFFFu | 0x3F800000u;
   10964:	00e7f7b3          	and	a5,a5,a4
		return *((float*)(&bits)) - 1.0f;
   10968:	00b7e7b3          	or	a5,a5,a1
   1096c:	f00785d3          	fmv.w.x	fa1,a5

#if 1
inline rtm::vec2 uniform_sample_circle(RNG& rng)
{
	float r = fast_sqrtf(rng.randf());
	float theta = 2.0f * PI * rng.randf();
   10970:	0001a5b7          	lui	a1,0x1a
   10974:	28c5a187          	flw	ft3,652(a1) # 1a28c <__DATA_BEGIN__+0x3c>
   10978:	08f5f7d3          	fsub.s	fa5,fa1,fa5
	uint32_t quad = static_cast<uint>(x * (2.0f / PI)); // Get quadrant # (0 to 3)
   1097c:	0001a6b7          	lui	a3,0x1a
   10980:	2906a107          	flw	ft2,656(a3) # 1a290 <__DATA_BEGIN__+0x40>
		return 1664525 * u + 1013904223;
   10984:	02c7073b          	mulw	a4,a4,a2
	switch (quad)
   10988:	00200613          	li	a2,2
	float theta = 2.0f * PI * rng.randf();
   1098c:	1037f7d3          	fmul.s	fa5,fa5,ft3
  abs(double __x)
  { return __builtin_fabs(__x); }

  inline _GLIBCXX_CONSTEXPR float
  abs(float __x)
  { return __builtin_fabsf(__x); }
   10990:	20f7a5d3          	fabs.s	fa1,fa5
	uint32_t quad = static_cast<uint>(x * (2.0f / PI)); // Get quadrant # (0 to 3)
   10994:	1025f153          	fmul.s	ft2,fa1,ft2
   10998:	01570abb          	addw	s5,a4,s5
   1099c:	c01117d3          	fcvt.wu.s	a5,ft2,rtz
   109a0:	0007879b          	sext.w	a5,a5
	switch (quad)
   109a4:	00c79463          	bne	a5,a2,109ac <_ZL11path_tracerRK10GlobalData.constprop.0+0x8dc>
   109a8:	1200106f          	j	11ac8 <_ZL11path_tracerRK10GlobalData.constprop.0+0x19f8>
   109ac:	44f664e3          	bltu	a2,a5,115f4 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1524>
   109b0:	00079463          	bnez	a5,109b8 <_ZL11path_tracerRK10GlobalData.constprop.0+0x8e8>
   109b4:	1b80106f          	j	11b6c <_ZL11path_tracerRK10GlobalData.constprop.0+0x1a9c>
	case 1: return -cos_32s(PI - x);
   109b8:	0001a7b7          	lui	a5,0x1a
   109bc:	2a07a107          	flw	ft2,672(a5) # 1a2a0 <__DATA_BEGIN__+0x50>
	return (c1 + x_sq * (c2 + c3 * x_sq));
   109c0:	0001a7b7          	lui	a5,0x1a
   109c4:	29c7a187          	flw	ft3,668(a5) # 1a29c <__DATA_BEGIN__+0x4c>
	case 1: return -cos_32s(PI - x);
   109c8:	08b17153          	fsub.s	ft2,ft2,fa1
	return (c1 + x_sq * (c2 + c3 * x_sq));
   109cc:	0001a7b7          	lui	a5,0x1a
   109d0:	2947a207          	flw	ft4,660(a5) # 1a294 <__DATA_BEGIN__+0x44>
   109d4:	0001a7b7          	lui	a5,0x1a
   109d8:	2987a587          	flw	fa1,664(a5) # 1a298 <__DATA_BEGIN__+0x48>
	float x_sq = x * x;
   109dc:	10217153          	fmul.s	ft2,ft2,ft2
	return (c1 + x_sq * (c2 + c3 * x_sq));
   109e0:	58417243          	fmadd.s	ft4,ft2,ft4,fa1
   109e4:	182275c3          	fmadd.s	fa1,ft4,ft2,ft3
	case 1: return -cos_32s(PI - x);
   109e8:	1822724f          	fnmadd.s	ft4,ft4,ft2,ft3
}


inline float dot(const vec2& a, const vec2 &b)
{
	return a.e[0] * b.e[0] + a.e[1] * b.e[1];
   109ec:	10b5f1d3          	fmul.s	ft3,fa1,fa1
inline static float sin_32(float x) { return cos_32(x - PI / 2.0f);}
   109f0:	0001a7b7          	lui	a5,0x1a
   109f4:	2a47a587          	flw	fa1,676(a5) # 1a2a4 <__DATA_BEGIN__+0x54>
	uint32_t quad = static_cast<uint>(x * (2.0f / PI)); // Get quadrant # (0 to 3)
   109f8:	2906a107          	flw	ft2,656(a3)
	switch (quad)
   109fc:	00200713          	li	a4,2
inline static float sin_32(float x) { return cos_32(x - PI / 2.0f);}
   10a00:	08b7f7d3          	fsub.s	fa5,fa5,fa1
   10a04:	20f7a5d3          	fabs.s	fa1,fa5
	uint32_t quad = static_cast<uint>(x * (2.0f / PI)); // Get quadrant # (0 to 3)
   10a08:	1025f153          	fmul.s	ft2,fa1,ft2
   10a0c:	c01117d3          	fcvt.wu.s	a5,ft2,rtz
   10a10:	0007879b          	sext.w	a5,a5
	switch (quad)
   10a14:	00e79463          	bne	a5,a4,10a1c <_ZL11path_tracerRK10GlobalData.constprop.0+0x94c>
   10a18:	1180106f          	j	11b30 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1a60>
   10a1c:	40f768e3          	bltu	a4,a5,1162c <_ZL11path_tracerRK10GlobalData.constprop.0+0x155c>
   10a20:	00079463          	bnez	a5,10a28 <_ZL11path_tracerRK10GlobalData.constprop.0+0x958>
   10a24:	0e00106f          	j	11b04 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1a34>
	case 1: return -cos_32s(PI - x);
   10a28:	0001a7b7          	lui	a5,0x1a
   10a2c:	2a07a787          	flw	fa5,672(a5) # 1a2a0 <__DATA_BEGIN__+0x50>
	return (c1 + x_sq * (c2 + c3 * x_sq));
   10a30:	0001a7b7          	lui	a5,0x1a
   10a34:	29c7a307          	flw	ft6,668(a5) # 1a29c <__DATA_BEGIN__+0x4c>
	case 1: return -cos_32s(PI - x);
   10a38:	08b7f5d3          	fsub.s	fa1,fa5,fa1
	return (c1 + x_sq * (c2 + c3 * x_sq));
   10a3c:	0001a7b7          	lui	a5,0x1a
   10a40:	2947a787          	flw	fa5,660(a5) # 1a294 <__DATA_BEGIN__+0x44>
   10a44:	0001a7b7          	lui	a5,0x1a
   10a48:	2987a107          	flw	ft2,664(a5) # 1a298 <__DATA_BEGIN__+0x48>
	float x_sq = x * x;
   10a4c:	10b5f5d3          	fmul.s	fa1,fa1,fa1
	return (c1 + x_sq * (c2 + c3 * x_sq));
   10a50:	10f5f7c3          	fmadd.s	fa5,fa1,fa5,ft2
   10a54:	30b7f143          	fmadd.s	ft2,fa5,fa1,ft6
	case 1: return -cos_32s(PI - x);
   10a58:	30b7f7cf          	fnmadd.s	fa5,fa5,fa1,ft6
   10a5c:	182171c3          	fmadd.s	ft3,ft2,ft2,ft3
   10a60:	5801f5d3          	fsqrt.s	fa1,ft3
	return vec2(a.e[0] / b.e[0], a.e[1] / b.e[1]);
   10a64:	18b7f7d3          	fdiv.s	fa5,fa5,fa1
}

inline rtm::vec3 cosine_sample_hemisphere(RNG& rng)
{
	rtm::vec2 sample = uniform_sample_circle(rng);
	return rtm::vec3(sample.x, sample.y, fast_sqrtf(1.0f - rtm::length2(sample)));
   10a68:	2584a307          	flw	ft6,600(s1)
   10a6c:	18b27253          	fdiv.s	ft4,ft4,fa1
	return vec2(a.e[0] * b.e[0], a.e[1] * b.e[1]);
   10a70:	1057f1d3          	fmul.s	ft3,fa5,ft5
	return a.e[0] * b.e[0] + a.e[1] * b.e[1];
   10a74:	1031f7d3          	fmul.s	fa5,ft3,ft3
	return vec2(a.e[0] * b.e[0], a.e[1] * b.e[1]);
   10a78:	10527253          	fmul.s	ft4,ft4,ft5
	return a.e[0] * b.e[0] + a.e[1] * b.e[1];
   10a7c:	784272c3          	fmadd.s	ft5,ft4,ft4,fa5
   10a80:	085372d3          	fsub.s	ft5,ft6,ft5
   10a84:	5802f2d3          	fsqrt.s	ft5,ft5
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   10a88:	10c677d3          	fmul.s	fa5,fa2,fa2
   10a8c:	78d6f7c3          	fmadd.s	fa5,fa3,fa3,fa5
   10a90:	78e777c3          	fmadd.s	fa5,fa4,fa4,fa5
   10a94:	5807f7d3          	fsqrt.s	fa5,fa5
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   10a98:	18f6f5d3          	fdiv.s	fa1,fa3,fa5
	if (std::abs(normalized[0]) < 0.707106f)
   10a9c:	0001a7b7          	lui	a5,0x1a
   10aa0:	2a87a387          	flw	ft7,680(a5) # 1a2a8 <__DATA_BEGIN__+0x58>
   10aa4:	20b5a853          	fabs.s	fa6,fa1
   10aa8:	18f67153          	fdiv.s	ft2,fa2,fa5
   10aac:	a07817d3          	flt.s	a5,fa6,ft7
   10ab0:	18f777d3          	fdiv.s	fa5,fa4,fa5
   10ab4:	640784e3          	beqz	a5,118fc <_ZL11path_tracerRK10GlobalData.constprop.0+0x182c>
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   10ab8:	10f5f7d3          	fmul.s	fa5,fa1,fa5
   10abc:	1025f153          	fmul.s	ft2,fa1,ft2
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   10ac0:	30b5f5cb          	fnmsub.s	fa1,fa1,fa1,ft6
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   10ac4:	10f7f353          	fmul.s	ft6,fa5,fa5
   10ac8:	30217343          	fmadd.s	ft6,ft2,ft2,ft6
   10acc:	30b5f343          	fmadd.s	ft6,fa1,fa1,ft6
   10ad0:	58037353          	fsqrt.s	ft6,ft6
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   10ad4:	20211153          	fneg.s	ft2,ft2
   10ad8:	20f797d3          	fneg.s	fa5,fa5
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   10adc:	1865f5d3          	fdiv.s	fa1,fa1,ft6
   10ae0:	18617153          	fdiv.s	ft2,ft2,ft6
   10ae4:	1867f7d3          	fdiv.s	fa5,fa5,ft6
}

inline vec3 cross(const vec3 & a, const vec3 &b)
{
	return vec3(a[1] * b[2] - a[2] * b[1],
		(-(a[0] * b[2] - a[2] * b[0])),
   10ae8:	10f6f3d3          	fmul.s	ft7,fa3,fa5
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   10aec:	10567853          	fmul.s	fa6,fa2,ft5
	return vec3(a[1] * b[2] - a[2] * b[1],
   10af0:	10277353          	fmul.s	ft6,fa4,ft2
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   10af4:	1056fe53          	fmul.s	ft8,fa3,ft5
		a[0] * b[1] - a[1] * b[0]);
   10af8:	10b678d3          	fmul.s	fa7,fa2,fa1
	return vec3(a[1] * b[2] - a[2] * b[1],
   10afc:	38b773c7          	fmsub.s	ft7,fa4,fa1,ft7
   10b00:	80417843          	fmadd.s	fa6,ft2,ft4,fa6
   10b04:	30f67347          	fmsub.s	ft6,fa2,fa5,ft6
   10b08:	e0b275c3          	fmadd.s	fa1,ft4,fa1,ft8
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   10b0c:	105772d3          	fmul.s	ft5,fa4,ft5
	return vec3(a[1] * b[2] - a[2] * b[1],
   10b10:	8826f147          	fmsub.s	ft2,fa3,ft2,fa7
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   10b14:	8033f3c3          	fmadd.s	ft7,ft7,ft3,fa6
   10b18:	58337343          	fmadd.s	ft6,ft6,ft3,fa1
   10b1c:	2847f7c3          	fmadd.s	fa5,fa5,ft4,ft5
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   10b20:	1073f5d3          	fmul.s	fa1,ft7,ft7
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   10b24:	78317143          	fmadd.s	ft2,ft2,ft3,fa5
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   10b28:	586377c3          	fmadd.s	fa5,ft6,ft6,fa1
   10b2c:	782177c3          	fmadd.s	fa5,ft2,ft2,fa5
   10b30:	5807f7d3          	fsqrt.s	fa5,fa5
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   10b34:	18f3fa53          	fdiv.s	fs4,ft7,fa5
					ray.radius += ray.drdt * hit.t;
   10b38:	08057543          	fmadd.s	fa0,fa0,ft0,ft1
					ray.drdt = fast_sqrtf(3.1415926f * 2.0f / (glm::dot(ray.d, n) * samples));
   10b3c:	0001a7b7          	lui	a5,0x1a
					ray.radius += ray.drdt * hit.t;
   10b40:	0aa12a27          	fsw	fa0,180(sp)
   10b44:	18f379d3          	fdiv.s	fs3,ft6,fa5
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   10b48:	11467653          	fmul.s	fa2,fa2,fs4
	e[1] = v[1];
   10b4c:	0b412227          	fsw	fs4,164(sp)
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   10b50:	18f17cd3          	fdiv.s	fs9,ft2,fa5
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   10b54:	6136f6c3          	fmadd.s	fa3,fa3,fs3,fa2
					ray.drdt = fast_sqrtf(3.1415926f * 2.0f / (glm::dot(ray.d, n) * samples));
   10b58:	2ac7a787          	flw	fa5,684(a5) # 1a2ac <__DATA_BEGIN__+0x5c>
	e[0] = v[0];
   10b5c:	0b312027          	fsw	fs3,160(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   10b60:	69977743          	fmadd.s	fa4,fa4,fs9,fa3
	e[2] = v[2];
   10b64:	0b912427          	fsw	fs9,168(sp)
   10b68:	18e7f7d3          	fdiv.s	fa5,fa5,fa4
   10b6c:	5807f7d3          	fsqrt.s	fa5,fa5
	e[0] *= v[0];
   10b70:	0001a7b7          	lui	a5,0x1a
   10b74:	0af12827          	fsw	fa5,176(sp)
   10b78:	2b07a787          	flw	fa5,688(a5) # 1a2b0 <__DATA_BEGIN__+0x60>
				 hit.t = ray.t_max;
   10b7c:	0001a737          	lui	a4,0x1a
	switch(global_data.config)
   10b80:	09802783          	lw	a5,152(zero) # 98 <main-0x10018>
   10b84:	10fb7b53          	fmul.s	fs6,fs6,fa5
   10b88:	27872787          	flw	fa5,632(a4) # 1a278 <__DATA_BEGIN__+0x28>
   10b8c:	00200713          	li	a4,2
			for(uint i = 0; true; ++i)
   10b90:	001b0b1b          	addw	s6,s6,1
				 hit.t = ray.t_max;
   10b94:	06f12027          	fsw	fa5,96(sp)
   10b98:	f8e79c63          	bne	a5,a4,10330 <_ZL11path_tracerRK10GlobalData.constprop.0+0x260>
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   10b9c:	0001a8b7          	lui	a7,0x1a
   10ba0:	2588a787          	flw	fa5,600(a7) # 1a258 <__DATA_BEGIN__+0x8>
			return intersect(global_data.blas, global_data.mesh, ray, hit); //BVH
   10ba4:	0a003583          	ld	a1,160(zero) # a0 <main-0x10010>
   10ba8:	2588a587          	flw	fa1,600(a7)
   10bac:	25092107          	flw	ft2,592(s2)
		uint64_t r = ((uint64_t*)&src)[i];
   10bb0:	0005b683          	ld	a3,0(a1)
   10bb4:	0085b703          	ld	a4,8(a1)
   10bb8:	1937f0d3          	fdiv.s	ft1,fa5,fs3
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   10bbc:	00068793          	mv	a5,a3
   10bc0:	0206d693          	srl	a3,a3,0x20
   10bc4:	f0068753          	fmv.w.x	fa4,a3
   10bc8:	02075813          	srl	a6,a4,0x20
   10bcc:	f00787d3          	fmv.w.x	fa5,a5
   10bd0:	089776d3          	fsub.s	fa3,fa4,fs1
   10bd4:	f0080753          	fmv.w.x	fa4,a6
   10bd8:	0987f7d3          	fsub.s	fa5,fa5,fs8
   10bdc:	0105b603          	ld	a2,16(a1)
   10be0:	09877053          	fsub.s	ft0,fa4,fs8
		((uint64_t*)&dst)[i] = r;
   10be4:	0185b783          	ld	a5,24(a1)
   10be8:	f0060753          	fmv.w.x	fa4,a2
   10bec:	02065613          	srl	a2,a2,0x20
   10bf0:	f0060653          	fmv.w.x	fa2,a2
   10bf4:	08977553          	fsub.s	fa0,fa4,fs1
   10bf8:	f0070753          	fmv.w.x	fa4,a4
   10bfc:	09767653          	fsub.s	fa2,fa2,fs7
   10c00:	04fc3c23          	sd	a5,88(s8)
   10c04:	09777753          	fsub.s	fa4,fa4,fs7
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   10c08:	1945f953          	fdiv.s	fs2,fa1,fs4
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   10c0c:	10107053          	fmul.s	ft0,ft0,ft1
   10c10:	1017f7d3          	fmul.s	fa5,fa5,ft1
	if (tmin > tmax) return ray.t_max;//no hit || behind
   10c14:	0001a7b7          	lui	a5,0x1a
   10c18:	280785d3          	fmin.s	fa1,fa5,ft0
   10c1c:	280797d3          	fmax.s	fa5,fa5,ft0
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   10c20:	2588a007          	flw	ft0,600(a7)
   10c24:	199078d3          	fdiv.s	fa7,ft0,fs9
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   10c28:	1126f6d3          	fmul.s	fa3,fa3,fs2
   10c2c:	11257553          	fmul.s	fa0,fa0,fs2
   10c30:	28a68053          	fmin.s	ft0,fa3,fa0
   10c34:	28a696d3          	fmax.s	fa3,fa3,fa0
   10c38:	280595d3          	fmax.s	fa1,fa1,ft0
   10c3c:	28d787d3          	fmin.s	fa5,fa5,fa3
   10c40:	2787a687          	flw	fa3,632(a5) # 1a278 <__DATA_BEGIN__+0x28>
   10c44:	282595d3          	fmax.s	fa1,fa1,ft2
   10c48:	28d787d3          	fmin.s	fa5,fa5,fa3
   10c4c:	11177753          	fmul.s	fa4,fa4,fa7
   10c50:	111676d3          	fmul.s	fa3,fa2,fa7
	float tmin = std::max(std::max(tminv.x, tminv.y), std::max(tminv.z, ray.t_min));
   10c54:	28d70653          	fmin.s	fa2,fa4,fa3
	if (tmin > tmax) return ray.t_max;//no hit || behind
   10c58:	28d71753          	fmax.s	fa4,fa4,fa3
   10c5c:	28c595d3          	fmax.s	fa1,fa1,fa2
   10c60:	28e787d3          	fmin.s	fa5,fa5,fa4
   10c64:	a0b797d3          	flt.s	a5,fa5,fa1
   10c68:	00078663          	beqz	a5,10c74 <_ZL11path_tracerRK10GlobalData.constprop.0+0xba4>
   10c6c:	0001a7b7          	lui	a5,0x1a
   10c70:	2787a587          	flw	fa1,632(a5) # 1a278 <__DATA_BEGIN__+0x28>
	node_stack[0].data = root_node.data;
   10c74:	2789a787          	flw	fa5,632(s3)
   10c78:	058c2783          	lw	a5,88(s8)
   10c7c:	06c12603          	lw	a2,108(sp)
   10c80:	00f12c27          	fsw	fa5,24(sp)
   10c84:	06412787          	flw	fa5,100(sp)
	if(gn_dot_d > 0.0f) bc = -bc;
   10c88:	f0000453          	fmv.w.x	fs0,zero
   10c8c:	21188853          	fmv.s	fa6,fa7
   10c90:	02f12427          	fsw	fa5,40(sp)
   10c94:	06812787          	flw	fa5,104(sp)
   10c98:	21398d53          	fmv.s	fs10,fs3
   10c9c:	214a0fd3          	fmv.s	ft11,fs4
   10ca0:	02f12227          	fsw	fa5,36(sp)
	node_stack[0].t = intersect(root_node.aabb, ray, inv_d);
   10ca4:	0eb12827          	fsw	fa1,240(sp)
	node_stack[0].data = root_node.data;
   10ca8:	0ef12a23          	sw	a5,244(sp)
	bool found_hit = false;
   10cac:	00000413          	li	s0,0
	uint32_t node_stack_size = 1u;
   10cb0:	00100693          	li	a3,1
   10cb4:	02058813          	add	a6,a1,32
   10cb8:	0f010513          	add	a0,sp,240
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   10cbc:	fff6869b          	addw	a3,a3,-1
   10cc0:	02069713          	sll	a4,a3,0x20
   10cc4:	01d75793          	srl	a5,a4,0x1d
   10cc8:	43078793          	add	a5,a5,1072
   10ccc:	05010713          	add	a4,sp,80
   10cd0:	00e787b3          	add	a5,a5,a4
   10cd4:	c707b703          	ld	a4,-912(a5)
		if(current_entry.t >= hit.t) return found_hit;
   10cd8:	01812787          	flw	fa5,24(sp)
   10cdc:	f0070753          	fmv.w.x	fa4,a4
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   10ce0:	04e13c23          	sd	a4,88(sp)
		if(current_entry.t >= hit.t) return found_hit;
   10ce4:	a0e787d3          	fle.s	a5,fa5,fa4
   10ce8:	24079863          	bnez	a5,10f38 <_ZL11path_tracerRK10GlobalData.constprop.0+0xe68>
		if(!current_entry.data.is_leaf)
   10cec:	05c12783          	lw	a5,92(sp)
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   10cf0:	02175e93          	srl	t4,a4,0x21
   10cf4:	007efe93          	and	t4,t4,7
		if(!current_entry.data.is_leaf)
   10cf8:	0017f793          	and	a5,a5,1
				found_hit |= intersect(current_entry.data.fst_chld_ind + i, mesh, ray, hit);
   10cfc:	02475713          	srl	a4,a4,0x24
		if(!current_entry.data.is_leaf)
   10d00:	44078ce3          	beqz	a5,11958 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1888>
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   10d04:	0a803e03          	ld	t3,168(zero) # a8 <main-0x10008>
   10d08:	00171793          	sll	a5,a4,0x1
   10d0c:	00e787b3          	add	a5,a5,a4
   10d10:	00279793          	sll	a5,a5,0x2
   10d14:	0b003f03          	ld	t5,176(zero) # b0 <main-0x10000>
   10d18:	00fe0e33          	add	t3,t3,a5
   10d1c:	00ee8eb3          	add	t4,t4,a4
   10d20:	03612627          	fsw	fs6,44(sp)
   10d24:	02112827          	fsw	ft1,48(sp)
   10d28:	03212a27          	fsw	fs2,52(sp)
   10d2c:	03012c27          	fsw	fa6,56(sp)
   10d30:	0080006f          	j	10d38 <_ZL11path_tracerRK10GlobalData.constprop.0+0xc68>
   10d34:	00078713          	mv	a4,a5
	const Triangle tri(mesh.vertices[vi[0]], mesh.vertices[vi[1]], mesh.vertices[vi[2]]);
   10d38:	000e6383          	lwu	t2,0(t3)
   10d3c:	004e6283          	lwu	t0,4(t3)
   10d40:	008e6f83          	lwu	t6,8(t3)
   10d44:	00139313          	sll	t1,t2,0x1
   10d48:	00129793          	sll	a5,t0,0x1
   10d4c:	001f9893          	sll	a7,t6,0x1
   10d50:	00730333          	add	t1,t1,t2
   10d54:	005787b3          	add	a5,a5,t0
   10d58:	01f888b3          	add	a7,a7,t6
   10d5c:	00231313          	sll	t1,t1,0x2
   10d60:	00279793          	sll	a5,a5,0x2
   10d64:	00289893          	sll	a7,a7,0x2
   10d68:	00ff07b3          	add	a5,t5,a5
   10d6c:	006f0333          	add	t1,t5,t1
   10d70:	011f08b3          	add	a7,t5,a7
	inline float operator[](int i) const { return e[i]; }
   10d74:	0088ae87          	flw	ft9,8(a7)
   10d78:	00032587          	flw	fa1,0(t1)
   10d7c:	00832687          	flw	fa3,8(t1)
   10d80:	0007a287          	flw	ft5,0(a5)
   10d84:	0008a087          	flw	ft1,0(a7)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   10d88:	08def853          	fsub.s	fa6,ft9,fa3
   10d8c:	08b2f653          	fsub.s	fa2,ft5,fa1
	inline float operator[](int i) const { return e[i]; }
   10d90:	0087a787          	flw	fa5,8(a5)
   10d94:	0048ab07          	flw	fs6,4(a7)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   10d98:	08b0f153          	fsub.s	ft2,ft1,fa1
   10d9c:	08d7f553          	fsub.s	fa0,fa5,fa3
	inline float operator[](int i) const { return e[i]; }
   10da0:	00432707          	flw	fa4,4(t1)
		(-(a[0] * b[2] - a[2] * b[0])),
   10da4:	11067f53          	fmul.s	ft10,fa2,fa6
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   10da8:	0850f1d3          	fsub.s	ft3,ft1,ft5
   10dac:	08eb7a53          	fsub.s	fs4,fs6,fa4
   10db0:	0815f953          	fsub.s	fs2,fa1,ft1
   10db4:	0980f0d3          	fsub.s	ft1,ft1,fs8
	return vec3(a[1] * b[2] - a[2] * b[1],
   10db8:	f0257f47          	fmsub.s	ft10,fa0,ft2,ft10
	inline float operator[](int i) const { return e[i]; }
   10dbc:	0047a007          	flw	ft0,4(a5)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   10dc0:	0977fe53          	fsub.s	ft8,fa5,fs7
   10dc4:	0976f3d3          	fsub.s	ft7,fa3,fs7
   10dc8:	00312027          	fsw	ft3,0(sp)
   10dcc:	097ef1d3          	fsub.s	ft3,ft9,fs7
   10dd0:	08e07253          	fsub.s	ft4,ft0,fa4
	return vec3(a[1] * b[2] - a[2] * b[1],
   10dd4:	11457353          	fmul.s	ft6,fa0,fs4
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   10dd8:	00112427          	fsw	ft1,8(sp)
		(-(a[0] * b[2] - a[2] * b[0])),
   10ddc:	00012087          	flw	ft1,0(sp)
	return vec3(a[1] * b[2] - a[2] * b[1],
   10de0:	21ef08d3          	fmv.s	fa7,ft10
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   10de4:	08fef7d3          	fsub.s	fa5,ft9,fa5
		(-(a[0] * b[2] - a[2] * b[0])),
   10de8:	11c0fad3          	fmul.s	fs5,ft1,ft8
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   10dec:	089079d3          	fsub.s	fs3,ft0,fs1
   10df0:	09d6f6d3          	fsub.s	fa3,fa3,ft9
		(-(a[0] * b[2] - a[2] * b[0])),
   10df4:	10397dd3          	fmul.s	fs11,fs2,ft3
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   10df8:	08977ed3          	fsub.s	ft9,fa4,fs1
		(-(a[0] * b[2] - a[2] * b[0])),
   10dfc:	107670d3          	fmul.s	ft1,fa2,ft7
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   10e00:	0982f2d3          	fsub.s	ft5,ft5,fs8
   10e04:	0985f5d3          	fsub.s	fa1,fa1,fs8
	return vec3(a[1] * b[2] - a[2] * b[1],
   10e08:	01e12827          	fsw	ft10,16(sp)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   10e0c:	089b7f53          	fsub.s	ft10,fs6,fs1
	return vec3(a[1] * b[2] - a[2] * b[1],
   10e10:	31027847          	fmsub.s	fa6,ft4,fa6,ft6
		a[0] * b[1] - a[1] * b[0]);
   10e14:	10227153          	fmul.s	ft2,ft4,ft2
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   10e18:	11f8f353          	fmul.s	ft6,fa7,ft11
	return vec3(a[1] * b[2] - a[2] * b[1],
   10e1c:	00812887          	flw	fa7,8(sp)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   10e20:	080b7053          	fsub.s	ft0,fs6,ft0
   10e24:	09677753          	fsub.s	fa4,fa4,fs6
	return vec3(a[1] * b[2] - a[2] * b[1],
   10e28:	1137fb53          	fmul.s	fs6,fa5,fs3
   10e2c:	a857f7c7          	fmsub.s	fa5,fa5,ft5,fs5
   10e30:	11e6fad3          	fmul.s	fs5,fa3,ft10
   10e34:	d916f6c7          	fmsub.s	fa3,fa3,fa7,fs11
   10e38:	11d57dd3          	fmul.s	fs11,fa0,ft9
   10e3c:	08b57547          	fmsub.s	fa0,fa0,fa1,ft1
   10e40:	11467147          	fmsub.s	ft2,fa2,fs4,ft2
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   10e44:	31a87343          	fmadd.s	ft6,fa6,fs10,ft6
	return vec3(a[1] * b[2] - a[2] * b[1],
   10e48:	b1c07e47          	fmsub.s	ft8,ft0,ft8,fs6
   10e4c:	a83771c7          	fmsub.s	ft3,fa4,ft3,fs5
   10e50:	d8727dc7          	fmsub.s	fs11,ft4,ft7,fs11
		a[0] * b[1] - a[1] * b[0]);
   10e54:	11177753          	fmul.s	fa4,fa4,fa7
   10e58:	10507053          	fmul.s	ft0,ft0,ft5
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   10e5c:	11f7f7d3          	fmul.s	fa5,fa5,ft11
   10e60:	11f6f6d3          	fmul.s	fa3,fa3,ft11
		a[0] * b[1] - a[1] * b[0]);
   10e64:	10b27253          	fmul.s	ft4,ft4,fa1
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   10e68:	11f57553          	fmul.s	fa0,fa0,ft11
   10e6c:	31917343          	fmadd.s	ft6,ft2,fs9,ft6
	return vec3(a[1] * b[2] - a[2] * b[1],
   10e70:	00012087          	flw	ft1,0(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   10e74:	79ae77c3          	fmadd.s	fa5,ft8,fs10,fa5
	return vec3(a[1] * b[2] - a[2] * b[1],
   10e78:	71e97747          	fmsub.s	fa4,fs2,ft10,fa4
   10e7c:	0130f8c7          	fmsub.s	fa7,ft1,fs3,ft0
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   10e80:	69a1f1c3          	fmadd.s	ft3,ft3,fs10,fa3
	return vec3(a[1] * b[2] - a[2] * b[1],
   10e84:	21d67647          	fmsub.s	fa2,fa2,ft9,ft4
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   10e88:	51adfdc3          	fmadd.s	fs11,fs11,fs10,fa0
	if(gn_dot_d > 0.0f) bc = -bc;
   10e8c:	a06417d3          	flt.s	a5,fs0,ft6
   10e90:	7998f7c3          	fmadd.s	fa5,fa7,fs9,fa5
   10e94:	19977743          	fmadd.s	fa4,fa4,fs9,ft3
   10e98:	d9967643          	fmadd.s	fa2,fa2,fs9,fs11
   10e9c:	00078863          	beqz	a5,10eac <_ZL11path_tracerRK10GlobalData.constprop.0+0xddc>
	inline vec3 operator-() const { return vec3(-e[0], -e[1], -e[2]); }
   10ea0:	20f797d3          	fneg.s	fa5,fa5
   10ea4:	20e71753          	fneg.s	fa4,fa4
   10ea8:	20c61653          	fneg.s	fa2,fa2
	if(bc[0] < 0.0f || bc[1] < 0.0f || bc[2] < 0.0f) return false;
   10eac:	a08797d3          	flt.s	a5,fa5,fs0
   10eb0:	06079463          	bnez	a5,10f18 <_ZL11path_tracerRK10GlobalData.constprop.0+0xe48>
   10eb4:	a08717d3          	flt.s	a5,fa4,fs0
   10eb8:	06079063          	bnez	a5,10f18 <_ZL11path_tracerRK10GlobalData.constprop.0+0xe48>
   10ebc:	a08617d3          	flt.s	a5,fa2,fs0
   10ec0:	04079c63          	bnez	a5,10f18 <_ZL11path_tracerRK10GlobalData.constprop.0+0xe48>
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   10ec4:	01012687          	flw	fa3,16(sp)
	if(t < ray.t_min || t > hit.t) return false;
   10ec8:	0001a7b7          	lui	a5,0x1a
   10ecc:	10defed3          	fmul.s	ft9,ft9,fa3
   10ed0:	2507a687          	flw	fa3,592(a5) # 1a250 <__DATA_BEGIN__>
   10ed4:	e905f5c3          	fmadd.s	fa1,fa1,fa6,ft9
   10ed8:	5823f3c3          	fmadd.s	ft7,ft7,ft2,fa1
	float t = rtm::dot(gn, tri.vrts[0] - ray.o) / gn_dot_d;
   10edc:	1863f3d3          	fdiv.s	ft7,ft7,ft6
	if(t < ray.t_min || t > hit.t) return false;
   10ee0:	a0d397d3          	flt.s	a5,ft7,fa3
   10ee4:	02079a63          	bnez	a5,10f18 <_ZL11path_tracerRK10GlobalData.constprop.0+0xe48>
   10ee8:	01812687          	flw	fa3,24(sp)
   10eec:	a07697d3          	flt.s	a5,fa3,ft7
   10ef0:	02079463          	bnez	a5,10f18 <_ZL11path_tracerRK10GlobalData.constprop.0+0xe48>
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   10ef4:	00e7f6d3          	fadd.s	fa3,fa5,fa4
	hit.t = t ;
   10ef8:	00712c27          	fsw	ft7,24(sp)
		hit.id = face_index;
   10efc:	00070613          	mv	a2,a4
		return true;
   10f00:	00100413          	li	s0,1
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   10f04:	00c6f6d3          	fadd.s	fa3,fa3,fa2
	return vec2(a.e[0] / b.e[0], a.e[1] / b.e[1]);
   10f08:	18d7f7d3          	fdiv.s	fa5,fa5,fa3
   10f0c:	02f12427          	fsw	fa5,40(sp)
   10f10:	18d777d3          	fdiv.s	fa5,fa4,fa3
   10f14:	02f12227          	fsw	fa5,36(sp)
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   10f18:	00ce0e13          	add	t3,t3,12
   10f1c:	0017079b          	addw	a5,a4,1
   10f20:	e0ee9ae3          	bne	t4,a4,10d34 <_ZL11path_tracerRK10GlobalData.constprop.0+0xc64>
   10f24:	02c12b07          	flw	fs6,44(sp)
   10f28:	03012087          	flw	ft1,48(sp)
   10f2c:	03412907          	flw	fs2,52(sp)
   10f30:	03812807          	flw	fa6,56(sp)
	while(node_stack_size);
   10f34:	d80694e3          	bnez	a3,10cbc <_ZL11path_tracerRK10GlobalData.constprop.0+0xbec>
   10f38:	02412787          	flw	fa5,36(sp)
   10f3c:	06c12623          	sw	a2,108(sp)
   10f40:	21ad09d3          	fmv.s	fs3,fs10
   10f44:	06f12427          	fsw	fa5,104(sp)
   10f48:	02812787          	flw	fa5,40(sp)
   10f4c:	21ff8a53          	fmv.s	fs4,ft11
   10f50:	06f12227          	fsw	fa5,100(sp)
   10f54:	01812787          	flw	fa5,24(sp)
   10f58:	06f12027          	fsw	fa5,96(sp)
				if(intersect(global_data, last_patch_index, last_ray, ray, hit))
   10f5c:	800418e3          	bnez	s0,1076c <_ZL11path_tracerRK10GlobalData.constprop.0+0x69c>
	e[0] += v[0];
   10f60:	04412787          	flw	fa5,68(sp)
   10f64:	000d0d93          	mv	s11,s10
   10f68:	0167f7d3          	fadd.s	fa5,fa5,fs6
   10f6c:	04f12227          	fsw	fa5,68(sp)
		for(uint j = 0; j < samples; ++j)
   10f70:	fffa0a1b          	addw	s4,s4,-1
   10f74:	a40a1463          	bnez	s4,101bc <_ZL11path_tracerRK10GlobalData.constprop.0+0xec>
	e[0] /= v[0];
   10f78:	0001a7b7          	lui	a5,0x1a
   10f7c:	2b47a787          	flw	fa5,692(a5) # 1a2b4 <__DATA_BEGIN__+0x64>
   10f80:	04412d07          	flw	fs10,68(sp)
	out |= static_cast<uint32_t>(in.r * 255.0f + 0.5f) << 0;
   10f84:	f0000653          	fmv.w.x	fa2,zero
   10f88:	2584a687          	flw	fa3,600(s1)
   10f8c:	10fd7d53          	fmul.s	fs10,fs10,fa5
   10f90:	0001a7b7          	lui	a5,0x1a
   10f94:	2b87a707          	flw	fa4,696(a5) # 1a2b8 <__DATA_BEGIN__+0x68>
   10f98:	0001a7b7          	lui	a5,0x1a
   10f9c:	2687a787          	flw	fa5,616(a5) # 1a268 <__DATA_BEGIN__+0x18>
   10fa0:	28cd1d53          	fmax.s	fs10,fs10,fa2
		global_data.framebuffer[index] = encode_pixel(out);
   10fa4:	020d9793          	sll	a5,s11,0x20
   10fa8:	05003703          	ld	a4,80(zero) # 50 <main-0x10060>
	out |= static_cast<uint32_t>(in.r * 255.0f + 0.5f) << 0;
   10fac:	28dd0d53          	fmin.s	fs10,fs10,fa3
		global_data.framebuffer[index] = encode_pixel(out);
   10fb0:	01e7dd93          	srl	s11,a5,0x1e
   10fb4:	01b70733          	add	a4,a4,s11
	out |= static_cast<uint32_t>(in.r * 255.0f + 0.5f) << 0;
   10fb8:	78ed7d43          	fmadd.s	fs10,fs10,fa4,fa5
   10fbc:	c01d16d3          	fcvt.wu.s	a3,fs10,rtz
	out |= static_cast<uint32_t>(in.b * 255.0f + 0.5f) << 16;
   10fc0:	0106961b          	sllw	a2,a3,0x10
	out |= static_cast<uint32_t>(in.g * 255.0f + 0.5f) << 8;
   10fc4:	0086979b          	sllw	a5,a3,0x8
	out |= static_cast<uint32_t>(in.b * 255.0f + 0.5f) << 16;
   10fc8:	00c7e7b3          	or	a5,a5,a2
   10fcc:	00d7e7b3          	or	a5,a5,a3
	out |= 0xff                                        << 24;
   10fd0:	ff0006b7          	lui	a3,0xff000
   10fd4:	00d7e7b3          	or	a5,a5,a3
		global_data.framebuffer[index] = encode_pixel(out);
   10fd8:	00f72023          	sw	a5,0(a4)
   10fdc:	00000d8b          	traxamoin	s11
	for(uint32_t index = atomicinc(); index < global_data.framebuffer_size; index = atomicinc())
   10fe0:	04802783          	lw	a5,72(zero) # 48 <main-0x10068>
   10fe4:	000d8d9b          	sext.w	s11,s11
   10fe8:	96fdea63          	bltu	s11,a5,1015c <_ZL11path_tracerRK10GlobalData.constprop.0+0x8c>
}
   10fec:	51813083          	ld	ra,1304(sp)
   10ff0:	51013403          	ld	s0,1296(sp)
   10ff4:	50813483          	ld	s1,1288(sp)
   10ff8:	50013903          	ld	s2,1280(sp)
   10ffc:	4f813983          	ld	s3,1272(sp)
   11000:	4f013a03          	ld	s4,1264(sp)
   11004:	4e813a83          	ld	s5,1256(sp)
   11008:	4e013b03          	ld	s6,1248(sp)
   1100c:	4d813b83          	ld	s7,1240(sp)
   11010:	4d013c03          	ld	s8,1232(sp)
   11014:	4c813c83          	ld	s9,1224(sp)
   11018:	4c013d03          	ld	s10,1216(sp)
   1101c:	4b813d83          	ld	s11,1208(sp)
   11020:	4ac12407          	flw	fs0,1196(sp)
   11024:	4a812487          	flw	fs1,1192(sp)
   11028:	4a412907          	flw	fs2,1188(sp)
   1102c:	4a012987          	flw	fs3,1184(sp)
   11030:	49c12a07          	flw	fs4,1180(sp)
   11034:	49812a87          	flw	fs5,1176(sp)
   11038:	49412b07          	flw	fs6,1172(sp)
   1103c:	49012b87          	flw	fs7,1168(sp)
   11040:	48c12c07          	flw	fs8,1164(sp)
   11044:	48812c87          	flw	fs9,1160(sp)
   11048:	48412d07          	flw	fs10,1156(sp)
   1104c:	48012d87          	flw	fs11,1152(sp)
   11050:	52010113          	add	sp,sp,1312
   11054:	00008067          	ret
			move_to_stack(node4, blas[current_entry.data.fst_chld_ind]);
   11058:	006c9c93          	sll	s9,s9,0x6
		uint64_t r = ((uint64_t*)&src)[i];
   1105c:	019b87b3          	add	a5,s7,s9
   11060:	0001a737          	lui	a4,0x1a
   11064:	26c72787          	flw	fa5,620(a4) # 1a26c <__DATA_BEGIN__+0x1c>
   11068:	0207b503          	ld	a0,32(a5)
   1106c:	0287b583          	ld	a1,40(a5)
   11070:	0307b683          	ld	a3,48(a5)
   11074:	0087be83          	ld	t4,8(a5)
   11078:	0107be03          	ld	t3,16(a5)
   1107c:	0187b303          	ld	t1,24(a5)
   11080:	0387b703          	ld	a4,56(a5)
		((uint64_t*)&dst)[i] = r;
   11084:	0007b783          	ld	a5,0(a5)
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   11088:	0001a637          	lui	a2,0x1a
   1108c:	010a8893          	add	a7,s5,16
   11090:	00441413          	sll	s0,s0,0x4
		((uint64_t*)&dst)[i] = r;
   11094:	02aab023          	sd	a0,32(s5)
   11098:	02bab423          	sd	a1,40(s5)
   1109c:	02dab823          	sd	a3,48(s5)
   110a0:	0897f1d3          	fsub.s	ft3,fa5,fs1
   110a4:	0977f153          	fsub.s	ft2,fa5,fs7
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   110a8:	2584a507          	flw	fa0,600(s1)
   110ac:	26062587          	flw	fa1,608(a2) # 1a260 <__DATA_BEGIN__+0x10>
   110b0:	25092207          	flw	ft4,592(s2)
		((uint64_t*)&dst)[i] = r;
   110b4:	00fab023          	sd	a5,0(s5)
   110b8:	01dab423          	sd	t4,8(s5)
   110bc:	01cab823          	sd	t3,16(s5)
   110c0:	006abc23          	sd	t1,24(s5)
   110c4:	02eabc23          	sd	a4,56(s5)
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   110c8:	000a8693          	mv	a3,s5
   110cc:	008888b3          	add	a7,a7,s0
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   110d0:	3f8005b7          	lui	a1,0x3f800
   110d4:	0f010513          	add	a0,sp,240
   110d8:	00c0006f          	j	110e4 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1014>
   110dc:	01068693          	add	a3,a3,16 # ffffffffff000010 <__global_pointer$+0xfffffffffefe55c0>
   110e0:	b4d88663          	beq	a7,a3,1042c <_ZL11path_tracerRK10GlobalData.constprop.0+0x35c>
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   110e4:	0006d783          	lhu	a5,0(a3)
   110e8:	208407d3          	fmv.s	fa5,fs0
   110ec:	00f7d713          	srl	a4,a5,0xf
   110f0:	00071c63          	bnez	a4,11108 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1038>
   110f4:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   110f8:	00b7e7b3          	or	a5,a5,a1
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   110fc:	f00787d3          	fmv.w.x	fa5,a5
   11100:	08a7f7d3          	fsub.s	fa5,fa5,fa0
   11104:	00f7f7d3          	fadd.s	fa5,fa5,fa5
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   11108:	0066d783          	lhu	a5,6(a3)
   1110c:	20b58353          	fmv.s	ft6,fa1
   11110:	00f7d713          	srl	a4,a5,0xf
   11114:	00071c63          	bnez	a4,1112c <_ZL11path_tracerRK10GlobalData.constprop.0+0x105c>
   11118:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   1111c:	00b7e7b3          	or	a5,a5,a1
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   11120:	f0078753          	fmv.w.x	fa4,a5
   11124:	08a77353          	fsub.s	ft6,fa4,fa0
   11128:	00637353          	fadd.s	ft6,ft6,ft6
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   1112c:	0026d783          	lhu	a5,2(a3)
   11130:	20b58653          	fmv.s	fa2,fa1
   11134:	00f7d713          	srl	a4,a5,0xf
   11138:	00071c63          	bnez	a4,11150 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1080>
   1113c:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   11140:	00b7e7b3          	or	a5,a5,a1
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   11144:	f0078753          	fmv.w.x	fa4,a5
   11148:	08a77653          	fsub.s	fa2,fa4,fa0
   1114c:	00c67653          	fadd.s	fa2,fa2,fa2
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   11150:	0086d783          	lhu	a5,8(a3)
   11154:	20b582d3          	fmv.s	ft5,fa1
   11158:	00f7d713          	srl	a4,a5,0xf
   1115c:	00071c63          	bnez	a4,11174 <_ZL11path_tracerRK10GlobalData.constprop.0+0x10a4>
   11160:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   11164:	00b7e7b3          	or	a5,a5,a1
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   11168:	f0078753          	fmv.w.x	fa4,a5
   1116c:	08a772d3          	fsub.s	ft5,fa4,fa0
   11170:	0052f2d3          	fadd.s	ft5,ft5,ft5
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   11174:	0046d783          	lhu	a5,4(a3)
   11178:	20b586d3          	fmv.s	fa3,fa1
   1117c:	00f7d713          	srl	a4,a5,0xf
   11180:	00071c63          	bnez	a4,11198 <_ZL11path_tracerRK10GlobalData.constprop.0+0x10c8>
   11184:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   11188:	00b7e7b3          	or	a5,a5,a1
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   1118c:	f0078753          	fmv.w.x	fa4,a5
   11190:	08a776d3          	fsub.s	fa3,fa4,fa0
   11194:	00d6f6d3          	fadd.s	fa3,fa3,fa3
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   11198:	00a6d783          	lhu	a5,10(a3)
   1119c:	0001a737          	lui	a4,0x1a
   111a0:	26072087          	flw	ft1,608(a4) # 1a260 <__DATA_BEGIN__+0x10>
   111a4:	00f7d713          	srl	a4,a5,0xf
   111a8:	00071c63          	bnez	a4,111c0 <_ZL11path_tracerRK10GlobalData.constprop.0+0x10f0>
   111ac:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   111b0:	00b7e7b3          	or	a5,a5,a1
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   111b4:	f0078753          	fmv.w.x	fa4,a5
   111b8:	092770d3          	fsub.s	ft1,fa4,fs2
   111bc:	0010f0d3          	fadd.s	ft1,ft1,ft1
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   111c0:	00f9f7d3          	fadd.s	fa5,fs3,fa5
   111c4:	0069f353          	fadd.s	ft6,fs3,ft6
   111c8:	00c1f653          	fadd.s	fa2,ft3,fa2
   111cc:	0051f2d3          	fadd.s	ft5,ft3,ft5
   111d0:	00d176d3          	fadd.s	fa3,ft2,fa3
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   111d4:	11b7f7d3          	fmul.s	fa5,fa5,fs11
   111d8:	11b37353          	fmul.s	ft6,ft6,fs11
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   111dc:	001170d3          	fadd.s	ft1,ft2,ft1
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   111e0:	11a2f2d3          	fmul.s	ft5,ft5,fs10
   111e4:	11a67653          	fmul.s	fa2,fa2,fs10
	if (tmin > tmax) return ray.t_max;//no hit || behind
   111e8:	0001a7b7          	lui	a5,0x1a
   111ec:	28678753          	fmin.s	fa4,fa5,ft6
   111f0:	2787a387          	flw	ft7,632(a5) # 1a278 <__DATA_BEGIN__+0x28>
   111f4:	286797d3          	fmax.s	fa5,fa5,ft6
   111f8:	1156f6d3          	fmul.s	fa3,fa3,fs5
   111fc:	1150f0d3          	fmul.s	ft1,ft1,fs5
	float tmin = std::max(std::max(tminv.x, tminv.y), std::max(tminv.z, ray.t_min));
   11200:	28560353          	fmin.s	ft6,fa2,ft5
   11204:	28471753          	fmax.s	fa4,fa4,ft4
	if (tmin > tmax) return ray.t_max;//no hit || behind
   11208:	28561653          	fmax.s	fa2,fa2,ft5
   1120c:	287787d3          	fmin.s	fa5,fa5,ft7
   11210:	281682d3          	fmin.s	ft5,fa3,ft1
   11214:	28671753          	fmax.s	fa4,fa4,ft6
   11218:	28c787d3          	fmin.s	fa5,fa5,fa2
   1121c:	281696d3          	fmax.s	fa3,fa3,ft1
   11220:	28571753          	fmax.s	fa4,fa4,ft5
   11224:	28d787d3          	fmin.s	fa5,fa5,fa3
   11228:	a0e797d3          	flt.s	a5,fa5,fa4
   1122c:	00078463          	beqz	a5,11234 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1164>
   11230:	20738753          	fmv.s	fa4,ft7
				new_entry.data = node4.nodes[i].data;
   11234:	00c6a703          	lw	a4,12(a3)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   11238:	a00717d3          	flt.s	a5,fa4,ft0
				new_entry.data = node4.nodes[i].data;
   1123c:	04e12e23          	sw	a4,92(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   11240:	e8078ee3          	beqz	a5,110dc <_ZL11path_tracerRK10GlobalData.constprop.0+0x100c>
   11244:	001d881b          	addw	a6,s11,1
	for(; j != min; --j)
   11248:	060d8263          	beqz	s11,112ac <_ZL11path_tracerRK10GlobalData.constprop.0+0x11dc>
   1124c:	fffd879b          	addw	a5,s11,-1
   11250:	020d9613          	sll	a2,s11,0x20
   11254:	01d65713          	srl	a4,a2,0x1d
   11258:	02079613          	sll	a2,a5,0x20
   1125c:	01d65793          	srl	a5,a2,0x1d
   11260:	00050e13          	mv	t3,a0
   11264:	00e50733          	add	a4,a0,a4
   11268:	00f507b3          	add	a5,a0,a5
   1126c:	0180006f          	j	11284 <_ZL11path_tracerRK10GlobalData.constprop.0+0x11b4>
		stack[j] = stack[j - 1];
   11270:	0007b603          	ld	a2,0(a5)
	for(; j != min; --j)
   11274:	ff870713          	add	a4,a4,-8
		stack[j] = stack[j - 1];
   11278:	00c73423          	sd	a2,8(a4)
	for(; j != min; --j)
   1127c:	02f50a63          	beq	a0,a5,112b0 <_ZL11path_tracerRK10GlobalData.constprop.0+0x11e0>
   11280:	000e8793          	mv	a5,t4
		if(stack[j - 1].t >= entry.t) break;
   11284:	0007a787          	flw	fa5,0(a5)
		stack[j] = stack[j - 1];
   11288:	00070313          	mv	t1,a4
	for(; j != min; --j)
   1128c:	ff878e93          	add	t4,a5,-8
		if(stack[j - 1].t >= entry.t) break;
   11290:	a0f70653          	fle.s	a2,fa4,fa5
   11294:	fc060ee3          	beqz	a2,11270 <_ZL11path_tracerRK10GlobalData.constprop.0+0x11a0>
	stack[j] = entry;
   11298:	04e12c27          	fsw	fa4,88(sp)
   1129c:	05813783          	ld	a5,88(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   112a0:	00080d93          	mv	s11,a6
	stack[j] = entry;
   112a4:	00f33023          	sd	a5,0(t1)
}
   112a8:	e35ff06f          	j	110dc <_ZL11path_tracerRK10GlobalData.constprop.0+0x100c>
   112ac:	0f010e13          	add	t3,sp,240
	stack[j] = entry;
   112b0:	04e12c27          	fsw	fa4,88(sp)
   112b4:	05813783          	ld	a5,88(sp)
   112b8:	000e0313          	mv	t1,t3
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   112bc:	00080d93          	mv	s11,a6
	stack[j] = entry;
   112c0:	00f33023          	sd	a5,0(t1)
   112c4:	e19ff06f          	j	110dc <_ZL11path_tracerRK10GlobalData.constprop.0+0x100c>
			return intersect(global_data.cblas, global_data.mesh, ray, hit); //BVHC
   112c8:	0001a7b7          	lui	a5,0x1a
   112cc:	26c7a687          	flw	fa3,620(a5) # 1a26c <__DATA_BEGIN__+0x1c>
	node_stack[0].t = ray.t_min;
   112d0:	0001a737          	lui	a4,0x1a
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   112d4:	0001a6b7          	lui	a3,0x1a
   112d8:	0986f753          	fsub.s	fa4,fa3,fs8
   112dc:	0976f553          	fsub.s	fa0,fa3,fs7
   112e0:	0896f653          	fsub.s	fa2,fa3,fs1
   112e4:	06412687          	flw	fa3,100(sp)
   112e8:	2586a787          	flw	fa5,600(a3) # 1a258 <__DATA_BEGIN__+0x8>
   112ec:	0001a7b7          	lui	a5,0x1a
   112f0:	02d12227          	fsw	fa3,36(sp)
   112f4:	06812687          	flw	fa3,104(sp)
   112f8:	1937f7d3          	fdiv.s	fa5,fa5,fs3
   112fc:	2507b783          	ld	a5,592(a5) # 1a250 <__DATA_BEGIN__>
   11300:	00d12c27          	fsw	fa3,24(sp)
   11304:	27872687          	flw	fa3,632(a4) # 1a278 <__DATA_BEGIN__+0x28>
   11308:	20e70853          	fmv.s	fa6,fa4
   1130c:	06c12883          	lw	a7,108(sp)
   11310:	00d12827          	fsw	fa3,16(sp)
   11314:	2586a687          	flw	fa3,600(a3)
   11318:	218c0d53          	fmv.s	fs10,fs8
   1131c:	20c60153          	fmv.s	ft2,fa2
   11320:	0a003303          	ld	t1,160(zero) # a0 <main-0x10010>
	bool found_hit = false;
   11324:	00000413          	li	s0,0
	node_stack[0].t = ray.t_min;
   11328:	0ef13823          	sd	a5,240(sp)
	uint32_t node_stack_size = 1u;
   1132c:	00100713          	li	a4,1
   11330:	1946f053          	fdiv.s	ft0,fa3,fs4
   11334:	1996f1d3          	fdiv.s	ft3,fa3,fs9
   11338:	20000753          	fmv.s	fa4,ft0
   1133c:	20a506d3          	fmv.s	fa3,fa0
   11340:	20f78553          	fmv.s	fa0,fa5
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   11344:	fff7071b          	addw	a4,a4,-1
   11348:	02071693          	sll	a3,a4,0x20
   1134c:	01d6d793          	srl	a5,a3,0x1d
   11350:	43078793          	add	a5,a5,1072
   11354:	05010693          	add	a3,sp,80
   11358:	00d787b3          	add	a5,a5,a3
   1135c:	c707b583          	ld	a1,-912(a5)
		if(current_entry.t >= hit.t) return found_hit;
   11360:	01012607          	flw	fa2,16(sp)
   11364:	f00587d3          	fmv.w.x	fa5,a1
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   11368:	04b13c23          	sd	a1,88(sp)
		if(current_entry.t >= hit.t) return found_hit;
   1136c:	a0f607d3          	fle.s	a5,fa2,fa5
   11370:	020794e3          	bnez	a5,11b98 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1ac8>
		if(!current_entry.data.is_leaf)
   11374:	05c12783          	lw	a5,92(sp)
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   11378:	0215de13          	srl	t3,a1,0x21
   1137c:	007e7e13          	and	t3,t3,7
		if(!current_entry.data.is_leaf)
   11380:	0017f793          	and	a5,a5,1
				found_hit |= intersect(current_entry.data.fst_chld_ind + i, mesh, ray, hit);
   11384:	0245d593          	srl	a1,a1,0x24
		if(!current_entry.data.is_leaf)
   11388:	2e078263          	beqz	a5,1166c <_ZL11path_tracerRK10GlobalData.constprop.0+0x159c>
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   1138c:	0a803503          	ld	a0,168(zero) # a8 <main-0x10008>
   11390:	00159793          	sll	a5,a1,0x1
   11394:	00b787b3          	add	a5,a5,a1
   11398:	00279793          	sll	a5,a5,0x2
   1139c:	0b003803          	ld	a6,176(zero) # b0 <main-0x10000>
	if(gn_dot_d > 0.0f) bc = -bc;
   113a0:	f0000453          	fmv.w.x	fs0,zero
   113a4:	00f50533          	add	a0,a0,a5
   113a8:	00be0e33          	add	t3,t3,a1
   113ac:	03612427          	fsw	fs6,40(sp)
   113b0:	02a12627          	fsw	fa0,44(sp)
   113b4:	02e12827          	fsw	fa4,48(sp)
   113b8:	02312a27          	fsw	ft3,52(sp)
   113bc:	02d12c27          	fsw	fa3,56(sp)
   113c0:	02212e27          	fsw	ft2,60(sp)
   113c4:	05012027          	fsw	fa6,64(sp)
   113c8:	0080006f          	j	113d0 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1300>
   113cc:	00078593          	mv	a1,a5
	const Triangle tri(mesh.vertices[vi[0]], mesh.vertices[vi[1]], mesh.vertices[vi[2]]);
   113d0:	00056f83          	lwu	t6,0(a0)
   113d4:	00456f03          	lwu	t5,4(a0)
   113d8:	00856e83          	lwu	t4,8(a0)
   113dc:	001f9613          	sll	a2,t6,0x1
   113e0:	001f1793          	sll	a5,t5,0x1
   113e4:	001e9693          	sll	a3,t4,0x1
   113e8:	01f60633          	add	a2,a2,t6
   113ec:	01e787b3          	add	a5,a5,t5
   113f0:	01d686b3          	add	a3,a3,t4
   113f4:	00261613          	sll	a2,a2,0x2
   113f8:	00279793          	sll	a5,a5,0x2
   113fc:	00269693          	sll	a3,a3,0x2
   11400:	00f807b3          	add	a5,a6,a5
   11404:	00c80633          	add	a2,a6,a2
   11408:	00d806b3          	add	a3,a6,a3
	inline float operator[](int i) const { return e[i]; }
   1140c:	0086af07          	flw	ft10,8(a3)
   11410:	00062507          	flw	fa0,0(a2)
   11414:	00862787          	flw	fa5,8(a2)
   11418:	0007a207          	flw	ft4,0(a5)
   1141c:	0006a107          	flw	ft2,0(a3)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   11420:	08ff73d3          	fsub.s	ft7,ft10,fa5
   11424:	08a27e53          	fsub.s	ft8,ft4,fa0
	inline float operator[](int i) const { return e[i]; }
   11428:	0087a687          	flw	fa3,8(a5)
   1142c:	0046ac07          	flw	fs8,4(a3)
   11430:	00462587          	flw	fa1,4(a2)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   11434:	08f6f053          	fsub.s	ft0,fa3,fa5
   11438:	08a171d3          	fsub.s	ft3,ft2,fa0
		(-(a[0] * b[2] - a[2] * b[0])),
   1143c:	107e7fd3          	fmul.s	ft11,ft8,ft7
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   11440:	08bc7ad3          	fsub.s	fs5,fs8,fa1
	inline float operator[](int i) const { return e[i]; }
   11444:	0047a087          	flw	ft1,4(a5)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   11448:	084178d3          	fsub.s	fa7,ft2,ft4
   1144c:	0976f653          	fsub.s	fa2,fa3,fs7
	return vec3(a[1] * b[2] - a[2] * b[1],
   11450:	f8307fc7          	fmsub.s	ft11,ft0,ft3,ft11
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   11454:	08b0f753          	fsub.s	fa4,ft1,fa1
	return vec3(a[1] * b[2] - a[2] * b[1],
   11458:	115072d3          	fmul.s	ft5,ft0,fs5
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   1145c:	08257853          	fsub.s	fa6,fa0,ft2
   11460:	097f7ed3          	fsub.s	ft9,ft10,fs7
   11464:	0977f353          	fsub.s	ft6,fa5,fs7
	return vec3(a[1] * b[2] - a[2] * b[1],
   11468:	01f12027          	fsw	ft11,0(sp)
   1146c:	287773c7          	fmsub.s	ft7,fa4,ft7,ft5
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   11470:	00012287          	flw	ft5,0(sp)
		(-(a[0] * b[2] - a[2] * b[0])),
   11474:	10c8fb53          	fmul.s	fs6,fa7,fa2
   11478:	11d87dd3          	fmul.s	fs11,fa6,ft9
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   1147c:	08df76d3          	fsub.s	fa3,ft10,fa3
   11480:	0890f953          	fsub.s	fs2,ft1,fs1
   11484:	09e7f7d3          	fsub.s	fa5,fa5,ft10
   11488:	089c7fd3          	fsub.s	ft11,fs8,fs1
   1148c:	0895ff53          	fsub.s	ft10,fa1,fs1
   11490:	09a27253          	fsub.s	ft4,ft4,fs10
   11494:	09a17153          	fsub.s	ft2,ft2,fs10
   11498:	09a57553          	fsub.s	fa0,fa0,fs10
		(-(a[0] * b[2] - a[2] * b[0])),
   1149c:	00c12427          	fsw	fa2,8(sp)
   114a0:	106e7653          	fmul.s	fa2,ft8,ft6
		a[0] * b[1] - a[1] * b[0]);
   114a4:	103771d3          	fmul.s	ft3,fa4,ft3
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   114a8:	1142f2d3          	fmul.s	ft5,ft5,fs4
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   114ac:	081c70d3          	fsub.s	ft1,fs8,ft1
   114b0:	0985f5d3          	fsub.s	fa1,fa1,fs8
	return vec3(a[1] * b[2] - a[2] * b[1],
   114b4:	1126fc53          	fmul.s	fs8,fa3,fs2
   114b8:	b046f6c7          	fmsub.s	fa3,fa3,ft4,fs6
   114bc:	11f7fb53          	fmul.s	fs6,fa5,ft11
   114c0:	d827f7c7          	fmsub.s	fa5,fa5,ft2,fs11
   114c4:	11e07dd3          	fmul.s	fs11,ft0,ft10
   114c8:	60a07047          	fmsub.s	ft0,ft0,fa0,fa2
   114cc:	195e71c7          	fmsub.s	ft3,ft8,fs5,ft3
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   114d0:	2933f2c3          	fmadd.s	ft5,ft7,fs3,ft5
	return vec3(a[1] * b[2] - a[2] * b[1],
   114d4:	00812607          	flw	fa2,8(sp)
   114d8:	b1d5fec7          	fmsub.s	ft9,fa1,ft9,fs6
   114dc:	d8677dc7          	fmsub.s	fs11,fa4,ft6,fs11
   114e0:	c0c0f647          	fmsub.s	fa2,ft1,fa2,fs8
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   114e4:	1146f6d3          	fmul.s	fa3,fa3,fs4
		a[0] * b[1] - a[1] * b[0]);
   114e8:	1040f0d3          	fmul.s	ft1,ft1,ft4
   114ec:	1025f5d3          	fmul.s	fa1,fa1,ft2
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   114f0:	1147f7d3          	fmul.s	fa5,fa5,fs4
		a[0] * b[1] - a[1] * b[0]);
   114f4:	10a77753          	fmul.s	fa4,fa4,fa0
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   114f8:	11407053          	fmul.s	ft0,ft0,fs4
   114fc:	2991f2c3          	fmadd.s	ft5,ft3,fs9,ft5
	return vec3(a[1] * b[2] - a[2] * b[1],
   11500:	0928f8c7          	fmsub.s	fa7,fa7,fs2,ft1
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   11504:	69367643          	fmadd.s	fa2,fa2,fs3,fa3
	return vec3(a[1] * b[2] - a[2] * b[1],
   11508:	59f87847          	fmsub.s	fa6,fa6,ft11,fa1
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   1150c:	793ef7c3          	fmadd.s	fa5,ft9,fs3,fa5
	return vec3(a[1] * b[2] - a[2] * b[1],
   11510:	71ee7747          	fmsub.s	fa4,ft8,ft10,fa4
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   11514:	013dfdc3          	fmadd.s	fs11,fs11,fs3,ft0
	if(gn_dot_d > 0.0f) bc = -bc;
   11518:	a05417d3          	flt.s	a5,fs0,ft5
   1151c:	6198f643          	fmadd.s	fa2,fa7,fs9,fa2
   11520:	799877c3          	fmadd.s	fa5,fa6,fs9,fa5
   11524:	d9977743          	fmadd.s	fa4,fa4,fs9,fs11
   11528:	00078863          	beqz	a5,11538 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1468>
	inline vec3 operator-() const { return vec3(-e[0], -e[1], -e[2]); }
   1152c:	20c61653          	fneg.s	fa2,fa2
   11530:	20f797d3          	fneg.s	fa5,fa5
   11534:	20e71753          	fneg.s	fa4,fa4
	if(bc[0] < 0.0f || bc[1] < 0.0f || bc[2] < 0.0f) return false;
   11538:	a08617d3          	flt.s	a5,fa2,fs0
   1153c:	06079463          	bnez	a5,115a4 <_ZL11path_tracerRK10GlobalData.constprop.0+0x14d4>
   11540:	a08797d3          	flt.s	a5,fa5,fs0
   11544:	06079063          	bnez	a5,115a4 <_ZL11path_tracerRK10GlobalData.constprop.0+0x14d4>
   11548:	a08717d3          	flt.s	a5,fa4,fs0
   1154c:	04079c63          	bnez	a5,115a4 <_ZL11path_tracerRK10GlobalData.constprop.0+0x14d4>
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   11550:	00012687          	flw	fa3,0(sp)
	if(t < ray.t_min || t > hit.t) return false;
   11554:	0001a7b7          	lui	a5,0x1a
   11558:	10df7f53          	fmul.s	ft10,ft10,fa3
   1155c:	2507a687          	flw	fa3,592(a5) # 1a250 <__DATA_BEGIN__>
   11560:	f0757543          	fmadd.s	fa0,fa0,ft7,ft10
   11564:	50337343          	fmadd.s	ft6,ft6,ft3,fa0
	float t = rtm::dot(gn, tri.vrts[0] - ray.o) / gn_dot_d;
   11568:	18537353          	fdiv.s	ft6,ft6,ft5
	if(t < ray.t_min || t > hit.t) return false;
   1156c:	a0d317d3          	flt.s	a5,ft6,fa3
   11570:	02079a63          	bnez	a5,115a4 <_ZL11path_tracerRK10GlobalData.constprop.0+0x14d4>
   11574:	01012687          	flw	fa3,16(sp)
   11578:	a06697d3          	flt.s	a5,fa3,ft6
   1157c:	02079463          	bnez	a5,115a4 <_ZL11path_tracerRK10GlobalData.constprop.0+0x14d4>
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   11580:	00f676d3          	fadd.s	fa3,fa2,fa5
	hit.t = t ;
   11584:	00612827          	fsw	ft6,16(sp)
		hit.id = face_index;
   11588:	00058893          	mv	a7,a1
		return true;
   1158c:	00100413          	li	s0,1
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   11590:	00e6f753          	fadd.s	fa4,fa3,fa4
   11594:	18e676d3          	fdiv.s	fa3,fa2,fa4
   11598:	18e7f7d3          	fdiv.s	fa5,fa5,fa4
   1159c:	02d12227          	fsw	fa3,36(sp)
   115a0:	00f12c27          	fsw	fa5,24(sp)
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   115a4:	00c50513          	add	a0,a0,12
   115a8:	0015879b          	addw	a5,a1,1 # 3f800001 <__global_pointer$+0x3f7e55b1>
   115ac:	e2be10e3          	bne	t3,a1,113cc <_ZL11path_tracerRK10GlobalData.constprop.0+0x12fc>
   115b0:	02812b07          	flw	fs6,40(sp)
   115b4:	02c12507          	flw	fa0,44(sp)
   115b8:	03012707          	flw	fa4,48(sp)
   115bc:	03412187          	flw	ft3,52(sp)
   115c0:	03812687          	flw	fa3,56(sp)
   115c4:	03c12107          	flw	ft2,60(sp)
   115c8:	04012807          	flw	fa6,64(sp)
	while(node_stack_size);
   115cc:	d6071ce3          	bnez	a4,11344 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1274>
   115d0:	01812787          	flw	fa5,24(sp)
   115d4:	21ad0c53          	fmv.s	fs8,fs10
   115d8:	07112623          	sw	a7,108(sp)
   115dc:	06f12427          	fsw	fa5,104(sp)
   115e0:	02412787          	flw	fa5,36(sp)
   115e4:	06f12227          	fsw	fa5,100(sp)
   115e8:	01012787          	flw	fa5,16(sp)
   115ec:	06f12027          	fsw	fa5,96(sp)
   115f0:	978ff06f          	j	10768 <_ZL11path_tracerRK10GlobalData.constprop.0+0x698>
	switch (quad)
   115f4:	00300713          	li	a4,3
   115f8:	32e79c63          	bne	a5,a4,11930 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1860>
	case 3: return cos_32s(2.0f * PI - x);
   115fc:	08b1f1d3          	fsub.s	ft3,ft3,fa1
	return (c1 + x_sq * (c2 + c3 * x_sq));
   11600:	0001a7b7          	lui	a5,0x1a
   11604:	2947a207          	flw	ft4,660(a5) # 1a294 <__DATA_BEGIN__+0x44>
   11608:	0001a7b7          	lui	a5,0x1a
   1160c:	2987a587          	flw	fa1,664(a5) # 1a298 <__DATA_BEGIN__+0x48>
	float x_sq = x * x;
   11610:	1031f1d3          	fmul.s	ft3,ft3,ft3
	return (c1 + x_sq * (c2 + c3 * x_sq));
   11614:	0001a7b7          	lui	a5,0x1a
   11618:	5841f243          	fmadd.s	ft4,ft3,ft4,fa1
   1161c:	29c7a587          	flw	fa1,668(a5) # 1a29c <__DATA_BEGIN__+0x4c>
   11620:	58327243          	fmadd.s	ft4,ft4,ft3,fa1
	return a.e[0] * b.e[0] + a.e[1] * b.e[1];
   11624:	104271d3          	fmul.s	ft3,ft4,ft4
	case 3: return cos_32s(2.0f * PI - x);
   11628:	bc8ff06f          	j	109f0 <_ZL11path_tracerRK10GlobalData.constprop.0+0x920>
	switch (quad)
   1162c:	00300713          	li	a4,3
   11630:	f00007d3          	fmv.w.x	fa5,zero
   11634:	c2e79663          	bne	a5,a4,10a60 <_ZL11path_tracerRK10GlobalData.constprop.0+0x990>
	case 3: return cos_32s(2.0f * PI - x);
   11638:	28c5a787          	flw	fa5,652(a1)
	return (c1 + x_sq * (c2 + c3 * x_sq));
   1163c:	0001a7b7          	lui	a5,0x1a
	case 3: return cos_32s(2.0f * PI - x);
   11640:	08b7f5d3          	fsub.s	fa1,fa5,fa1
	return (c1 + x_sq * (c2 + c3 * x_sq));
   11644:	2947a787          	flw	fa5,660(a5) # 1a294 <__DATA_BEGIN__+0x44>
   11648:	0001a7b7          	lui	a5,0x1a
   1164c:	2987a107          	flw	ft2,664(a5) # 1a298 <__DATA_BEGIN__+0x48>
   11650:	0001a7b7          	lui	a5,0x1a
	float x_sq = x * x;
   11654:	10b5f5d3          	fmul.s	fa1,fa1,fa1
	return (c1 + x_sq * (c2 + c3 * x_sq));
   11658:	10f5f7c3          	fmadd.s	fa5,fa1,fa5,ft2
   1165c:	29c7a107          	flw	ft2,668(a5) # 1a29c <__DATA_BEGIN__+0x4c>
   11660:	10b7f7c3          	fmadd.s	fa5,fa5,fa1,ft2
   11664:	18f7f1c3          	fmadd.s	ft3,fa5,fa5,ft3
	case 3: return cos_32s(2.0f * PI - x);
   11668:	bf8ff06f          	j	10a60 <_ZL11path_tracerRK10GlobalData.constprop.0+0x990>
			move_to_stack(node4, blas[current_entry.data.fst_chld_ind]);
   1166c:	00659593          	sll	a1,a1,0x6
		uint64_t r = ((uint64_t*)&src)[i];
   11670:	00b307b3          	add	a5,t1,a1
   11674:	0287b583          	ld	a1,40(a5)
   11678:	0307b603          	ld	a2,48(a5)
   1167c:	0387b683          	ld	a3,56(a5)
   11680:	0087bf83          	ld	t6,8(a5)
   11684:	0107bf03          	ld	t5,16(a5)
   11688:	0187be83          	ld	t4,24(a5)
   1168c:	0207b803          	ld	a6,32(a5)
		((uint64_t*)&dst)[i] = r;
   11690:	0007b783          	ld	a5,0(a5)
   11694:	010c0513          	add	a0,s8,16
   11698:	004e1e13          	sll	t3,t3,0x4
   1169c:	02bc3423          	sd	a1,40(s8)
   116a0:	02cc3823          	sd	a2,48(s8)
   116a4:	02dc3c23          	sd	a3,56(s8)
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   116a8:	20c602d3          	fmv.s	ft5,fa2
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   116ac:	2584a007          	flw	ft0,600(s1)
   116b0:	25092087          	flw	ft1,592(s2)
		((uint64_t*)&dst)[i] = r;
   116b4:	00fc3023          	sd	a5,0(s8)
   116b8:	01fc3423          	sd	t6,8(s8)
   116bc:	01ec3823          	sd	t5,16(s8)
   116c0:	01dc3c23          	sd	t4,24(s8)
   116c4:	030c3023          	sd	a6,32(s8)
   116c8:	000c0693          	mv	a3,s8
   116cc:	01c50533          	add	a0,a0,t3
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   116d0:	3f800637          	lui	a2,0x3f800
   116d4:	0f010593          	add	a1,sp,240
   116d8:	00c0006f          	j	116e4 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1614>
   116dc:	01068693          	add	a3,a3,16
   116e0:	eed506e3          	beq	a0,a3,115cc <_ZL11path_tracerRK10GlobalData.constprop.0+0x14fc>
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   116e4:	0006d783          	lhu	a5,0(a3)
   116e8:	0001a837          	lui	a6,0x1a
   116ec:	26082787          	flw	fa5,608(a6) # 1a260 <__DATA_BEGIN__+0x10>
   116f0:	00f7d813          	srl	a6,a5,0xf
   116f4:	00081c63          	bnez	a6,1170c <_ZL11path_tracerRK10GlobalData.constprop.0+0x163c>
   116f8:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   116fc:	00c7e7b3          	or	a5,a5,a2
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   11700:	f00787d3          	fmv.w.x	fa5,a5
   11704:	0807f7d3          	fsub.s	fa5,fa5,ft0
   11708:	00f7f7d3          	fadd.s	fa5,fa5,fa5
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   1170c:	0066d783          	lhu	a5,6(a3)
   11710:	0001a837          	lui	a6,0x1a
   11714:	26082887          	flw	fa7,608(a6) # 1a260 <__DATA_BEGIN__+0x10>
   11718:	00f7d813          	srl	a6,a5,0xf
   1171c:	00081c63          	bnez	a6,11734 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1664>
   11720:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   11724:	00c7e7b3          	or	a5,a5,a2
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   11728:	f0078653          	fmv.w.x	fa2,a5
   1172c:	080678d3          	fsub.s	fa7,fa2,ft0
   11730:	0118f8d3          	fadd.s	fa7,fa7,fa7
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   11734:	0026d783          	lhu	a5,2(a3)
   11738:	0001a837          	lui	a6,0x1a
   1173c:	26082207          	flw	ft4,608(a6) # 1a260 <__DATA_BEGIN__+0x10>
   11740:	00f7d813          	srl	a6,a5,0xf
   11744:	02081063          	bnez	a6,11764 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1694>
   11748:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   1174c:	00c7e7b3          	or	a5,a5,a2
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   11750:	0001a837          	lui	a6,0x1a
   11754:	f0078653          	fmv.w.x	fa2,a5
   11758:	25882587          	flw	fa1,600(a6) # 1a258 <__DATA_BEGIN__+0x8>
   1175c:	08b67253          	fsub.s	ft4,fa2,fa1
   11760:	00427253          	fadd.s	ft4,ft4,ft4
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   11764:	0086d783          	lhu	a5,8(a3)
   11768:	0001a837          	lui	a6,0x1a
   1176c:	26082387          	flw	ft7,608(a6) # 1a260 <__DATA_BEGIN__+0x10>
   11770:	00f7d813          	srl	a6,a5,0xf
   11774:	02081063          	bnez	a6,11794 <_ZL11path_tracerRK10GlobalData.constprop.0+0x16c4>
   11778:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   1177c:	00c7e7b3          	or	a5,a5,a2
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   11780:	0001a837          	lui	a6,0x1a
   11784:	f0078653          	fmv.w.x	fa2,a5
   11788:	25882587          	flw	fa1,600(a6) # 1a258 <__DATA_BEGIN__+0x8>
   1178c:	08b673d3          	fsub.s	ft7,fa2,fa1
   11790:	0073f3d3          	fadd.s	ft7,ft7,ft7
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   11794:	0046d783          	lhu	a5,4(a3)
   11798:	0001a837          	lui	a6,0x1a
   1179c:	26082587          	flw	fa1,608(a6) # 1a260 <__DATA_BEGIN__+0x10>
   117a0:	00f7d813          	srl	a6,a5,0xf
   117a4:	02081063          	bnez	a6,117c4 <_ZL11path_tracerRK10GlobalData.constprop.0+0x16f4>
   117a8:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   117ac:	00c7e7b3          	or	a5,a5,a2
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   117b0:	0001a837          	lui	a6,0x1a
   117b4:	f0078653          	fmv.w.x	fa2,a5
   117b8:	25882587          	flw	fa1,600(a6) # 1a258 <__DATA_BEGIN__+0x8>
   117bc:	08b675d3          	fsub.s	fa1,fa2,fa1
   117c0:	00b5f5d3          	fadd.s	fa1,fa1,fa1
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   117c4:	00a6d783          	lhu	a5,10(a3)
   117c8:	0001a837          	lui	a6,0x1a
   117cc:	26082307          	flw	ft6,608(a6) # 1a260 <__DATA_BEGIN__+0x10>
   117d0:	00f7d813          	srl	a6,a5,0xf
   117d4:	02081063          	bnez	a6,117f4 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1724>
   117d8:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   117dc:	00c7e7b3          	or	a5,a5,a2
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   117e0:	0001a837          	lui	a6,0x1a
   117e4:	f0078653          	fmv.w.x	fa2,a5
   117e8:	25882307          	flw	ft6,600(a6) # 1a258 <__DATA_BEGIN__+0x8>
   117ec:	08667353          	fsub.s	ft6,fa2,ft6
   117f0:	00637353          	fadd.s	ft6,ft6,ft6
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   117f4:	00f877d3          	fadd.s	fa5,fa6,fa5
   117f8:	011878d3          	fadd.s	fa7,fa6,fa7
   117fc:	00417253          	fadd.s	ft4,ft2,ft4
   11800:	007173d3          	fadd.s	ft7,ft2,ft7
   11804:	00b6f5d3          	fadd.s	fa1,fa3,fa1
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   11808:	10a7f7d3          	fmul.s	fa5,fa5,fa0
   1180c:	10a8f8d3          	fmul.s	fa7,fa7,fa0
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   11810:	0066f353          	fadd.s	ft6,fa3,ft6
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   11814:	10e3f3d3          	fmul.s	ft7,ft7,fa4
   11818:	10e27253          	fmul.s	ft4,ft4,fa4
	if (tmin > tmax) return ray.t_max;//no hit || behind
   1181c:	0001a7b7          	lui	a5,0x1a
   11820:	29178653          	fmin.s	fa2,fa5,fa7
   11824:	2787ae07          	flw	ft8,632(a5) # 1a278 <__DATA_BEGIN__+0x28>
   11828:	291797d3          	fmax.s	fa5,fa5,fa7
   1182c:	1035f5d3          	fmul.s	fa1,fa1,ft3
   11830:	10337353          	fmul.s	ft6,ft6,ft3
	float tmin = std::max(std::max(tminv.x, tminv.y), std::max(tminv.z, ray.t_min));
   11834:	287208d3          	fmin.s	fa7,ft4,ft7
   11838:	28161653          	fmax.s	fa2,fa2,ft1
	if (tmin > tmax) return ray.t_max;//no hit || behind
   1183c:	28721253          	fmax.s	ft4,ft4,ft7
   11840:	29c787d3          	fmin.s	fa5,fa5,ft8
   11844:	286583d3          	fmin.s	ft7,fa1,ft6
   11848:	29161653          	fmax.s	fa2,fa2,fa7
   1184c:	284787d3          	fmin.s	fa5,fa5,ft4
   11850:	286595d3          	fmax.s	fa1,fa1,ft6
   11854:	28761653          	fmax.s	fa2,fa2,ft7
   11858:	28b787d3          	fmin.s	fa5,fa5,fa1
   1185c:	a0c797d3          	flt.s	a5,fa5,fa2
   11860:	00078463          	beqz	a5,11868 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1798>
   11864:	21ce0653          	fmv.s	fa2,ft8
				new_entry.data = node4.nodes[i].data;
   11868:	00c6a803          	lw	a6,12(a3)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   1186c:	a05617d3          	flt.s	a5,fa2,ft5
				new_entry.data = node4.nodes[i].data;
   11870:	07012e23          	sw	a6,124(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   11874:	e60784e3          	beqz	a5,116dc <_ZL11path_tracerRK10GlobalData.constprop.0+0x160c>
   11878:	00170e1b          	addw	t3,a4,1
	for(; j != min; --j)
   1187c:	06070263          	beqz	a4,118e0 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1810>
   11880:	fff7079b          	addw	a5,a4,-1
   11884:	02071813          	sll	a6,a4,0x20
   11888:	01d85713          	srl	a4,a6,0x1d
   1188c:	02079813          	sll	a6,a5,0x20
   11890:	01d85793          	srl	a5,a6,0x1d
   11894:	00058f13          	mv	t5,a1
   11898:	00e58733          	add	a4,a1,a4
   1189c:	00f587b3          	add	a5,a1,a5
   118a0:	0180006f          	j	118b8 <_ZL11path_tracerRK10GlobalData.constprop.0+0x17e8>
		stack[j] = stack[j - 1];
   118a4:	0007b803          	ld	a6,0(a5)
	for(; j != min; --j)
   118a8:	ff870713          	add	a4,a4,-8
		stack[j] = stack[j - 1];
   118ac:	01073423          	sd	a6,8(a4)
	for(; j != min; --j)
   118b0:	02f58a63          	beq	a1,a5,118e4 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1814>
   118b4:	000f8793          	mv	a5,t6
		if(stack[j - 1].t >= entry.t) break;
   118b8:	0007a787          	flw	fa5,0(a5)
		stack[j] = stack[j - 1];
   118bc:	00070e93          	mv	t4,a4
	for(; j != min; --j)
   118c0:	ff878f93          	add	t6,a5,-8
		if(stack[j - 1].t >= entry.t) break;
   118c4:	a0f60853          	fle.s	a6,fa2,fa5
   118c8:	fc080ee3          	beqz	a6,118a4 <_ZL11path_tracerRK10GlobalData.constprop.0+0x17d4>
	stack[j] = entry;
   118cc:	06c12c27          	fsw	fa2,120(sp)
   118d0:	07813783          	ld	a5,120(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   118d4:	000e0713          	mv	a4,t3
	stack[j] = entry;
   118d8:	00feb023          	sd	a5,0(t4)
}
   118dc:	e01ff06f          	j	116dc <_ZL11path_tracerRK10GlobalData.constprop.0+0x160c>
   118e0:	0f010f13          	add	t5,sp,240
	stack[j] = entry;
   118e4:	06c12c27          	fsw	fa2,120(sp)
   118e8:	07813783          	ld	a5,120(sp)
   118ec:	000f0e93          	mv	t4,t5
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   118f0:	000e0713          	mv	a4,t3
	stack[j] = entry;
   118f4:	00feb023          	sd	a5,0(t4)
   118f8:	de5ff06f          	j	116dc <_ZL11path_tracerRK10GlobalData.constprop.0+0x160c>
   118fc:	10f177d3          	fmul.s	fa5,ft2,fa5
   11900:	1025f5d3          	fmul.s	fa1,fa1,ft2
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   11904:	3021714b          	fnmsub.s	ft2,ft2,ft2,ft6
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   11908:	10f7f353          	fmul.s	ft6,fa5,fa5
   1190c:	30b5f343          	fmadd.s	ft6,fa1,fa1,ft6
   11910:	30217343          	fmadd.s	ft6,ft2,ft2,ft6
	asm volatile ("fsqrt.s %[rd], %[rs1]\n\t" : [rd] "=f" (output) : [rs1] "f" (input));
   11914:	58037353          	fsqrt.s	ft6,ft6
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   11918:	20b595d3          	fneg.s	fa1,fa1
   1191c:	20f797d3          	fneg.s	fa5,fa5
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   11920:	18617153          	fdiv.s	ft2,ft2,ft6
   11924:	1865f5d3          	fdiv.s	fa1,fa1,ft6
   11928:	1867f7d3          	fdiv.s	fa5,fa5,ft6
	vec3(float e0, float e1, float e2) { e[0] = e0; e[1] = e1; e[2] = e2; }
   1192c:	9bcff06f          	j	10ae8 <_ZL11path_tracerRK10GlobalData.constprop.0+0xa18>
	switch (quad)
   11930:	f00001d3          	fmv.w.x	ft3,zero
   11934:	20318253          	fmv.s	ft4,ft3
   11938:	8b8ff06f          	j	109f0 <_ZL11path_tracerRK10GlobalData.constprop.0+0x920>
   1193c:	000a0413          	mv	s0,s4
   11940:	000a8c13          	mv	s8,s5
   11944:	00813b03          	ld	s6,8(sp)
   11948:	01012987          	flw	fs3,16(sp)
   1194c:	01813a03          	ld	s4,24(sp)
   11950:	00013a83          	ld	s5,0(sp)
   11954:	e15fe06f          	j	10768 <_ZL11path_tracerRK10GlobalData.constprop.0+0x698>
   11958:	00ee8eb3          	add	t4,t4,a4
   1195c:	005e9e93          	sll	t4,t4,0x5
   11960:	00571713          	sll	a4,a4,0x5
   11964:	20f78153          	fmv.s	ft2,fa5
   11968:	00e58733          	add	a4,a1,a4
   1196c:	010e8eb3          	add	t4,t4,a6
   11970:	00c0006f          	j	1197c <_ZL11path_tracerRK10GlobalData.constprop.0+0x18ac>
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   11974:	02070713          	add	a4,a4,32
   11978:	daee8e63          	beq	t4,a4,10f34 <_ZL11path_tracerRK10GlobalData.constprop.0+0xe64>
		uint64_t r = ((uint64_t*)&src)[i];
   1197c:	00073303          	ld	t1,0(a4)
   11980:	00873883          	ld	a7,8(a4)
   11984:	01073e03          	ld	t3,16(a4)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   11988:	00030793          	mv	a5,t1
   1198c:	02035313          	srl	t1,t1,0x20
   11990:	f0030753          	fmv.w.x	fa4,t1
   11994:	0208df93          	srl	t6,a7,0x20
   11998:	f00787d3          	fmv.w.x	fa5,a5
   1199c:	089776d3          	fsub.s	fa3,fa4,fs1
   119a0:	f00f8753          	fmv.w.x	fa4,t6
   119a4:	0987f7d3          	fsub.s	fa5,fa5,fs8
		((uint64_t*)&dst)[i] = r;
   119a8:	01873783          	ld	a5,24(a4)
   119ac:	09877053          	fsub.s	ft0,fa4,fs8
   119b0:	f00e0753          	fmv.w.x	fa4,t3
   119b4:	020e5e13          	srl	t3,t3,0x20
   119b8:	f00e0653          	fmv.w.x	fa2,t3
   119bc:	08977553          	fsub.s	fa0,fa4,fs1
   119c0:	f0088753          	fmv.w.x	fa4,a7
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   119c4:	1017f7d3          	fmul.s	fa5,fa5,ft1
   119c8:	1126f6d3          	fmul.s	fa3,fa3,fs2
   119cc:	10107053          	fmul.s	ft0,ft0,ft1
   119d0:	11257553          	fmul.s	fa0,fa0,fs2
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   119d4:	097675d3          	fsub.s	fa1,fa2,fs7
   119d8:	09777753          	fsub.s	fa4,fa4,fs7
   119dc:	0001a8b7          	lui	a7,0x1a
   119e0:	28078653          	fmin.s	fa2,fa5,ft0
   119e4:	28a681d3          	fmin.s	ft3,fa3,fa0
	if (tmin > tmax) return ray.t_max;//no hit || behind
   119e8:	280797d3          	fmax.s	fa5,fa5,ft0
   119ec:	28a696d3          	fmax.s	fa3,fa3,fa0
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   119f0:	11077753          	fmul.s	fa4,fa4,fa6
   119f4:	1105f5d3          	fmul.s	fa1,fa1,fa6
   119f8:	28d787d3          	fmin.s	fa5,fa5,fa3
   119fc:	2508a687          	flw	fa3,592(a7) # 1a250 <__DATA_BEGIN__>
   11a00:	0001a8b7          	lui	a7,0x1a
   11a04:	28361653          	fmax.s	fa2,fa2,ft3
   11a08:	2788a507          	flw	fa0,632(a7) # 1a278 <__DATA_BEGIN__+0x28>
   11a0c:	00fc3c23          	sd	a5,24(s8)
   11a10:	28d61653          	fmax.s	fa2,fa2,fa3
   11a14:	28a787d3          	fmin.s	fa5,fa5,fa0
   11a18:	28b706d3          	fmin.s	fa3,fa4,fa1
   11a1c:	28b71753          	fmax.s	fa4,fa4,fa1
   11a20:	28d616d3          	fmax.s	fa3,fa2,fa3
   11a24:	28e787d3          	fmin.s	fa5,fa5,fa4
   11a28:	a0d797d3          	flt.s	a5,fa5,fa3
   11a2c:	00078463          	beqz	a5,11a34 <_ZL11path_tracerRK10GlobalData.constprop.0+0x1964>
   11a30:	20a506d3          	fmv.s	fa3,fa0
				new_entry.data = node.data;
   11a34:	018c2883          	lw	a7,24(s8)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   11a38:	a02697d3          	flt.s	a5,fa3,ft2
				new_entry.data = node.data;
   11a3c:	07112e23          	sw	a7,124(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   11a40:	f2078ae3          	beqz	a5,11974 <_ZL11path_tracerRK10GlobalData.constprop.0+0x18a4>
   11a44:	0016831b          	addw	t1,a3,1
	for(; j != min; --j)
   11a48:	06068263          	beqz	a3,11aac <_ZL11path_tracerRK10GlobalData.constprop.0+0x19dc>
   11a4c:	fff6879b          	addw	a5,a3,-1
   11a50:	02069893          	sll	a7,a3,0x20
   11a54:	01d8d693          	srl	a3,a7,0x1d
   11a58:	02079893          	sll	a7,a5,0x20
   11a5c:	01d8d793          	srl	a5,a7,0x1d
   11a60:	00050f13          	mv	t5,a0
   11a64:	00d506b3          	add	a3,a0,a3
   11a68:	00f507b3          	add	a5,a0,a5
   11a6c:	0180006f          	j	11a84 <_ZL11path_tracerRK10GlobalData.constprop.0+0x19b4>
		stack[j] = stack[j - 1];
   11a70:	0007b883          	ld	a7,0(a5)
	for(; j != min; --j)
   11a74:	ff868693          	add	a3,a3,-8
		stack[j] = stack[j - 1];
   11a78:	0116b423          	sd	a7,8(a3)
	for(; j != min; --j)
   11a7c:	02f50a63          	beq	a0,a5,11ab0 <_ZL11path_tracerRK10GlobalData.constprop.0+0x19e0>
   11a80:	000f8793          	mv	a5,t6
		if(stack[j - 1].t >= entry.t) break;
   11a84:	0007a787          	flw	fa5,0(a5)
		stack[j] = stack[j - 1];
   11a88:	00068e13          	mv	t3,a3
	for(; j != min; --j)
   11a8c:	ff878f93          	add	t6,a5,-8
		if(stack[j - 1].t >= entry.t) break;
   11a90:	a0f688d3          	fle.s	a7,fa3,fa5
   11a94:	fc088ee3          	beqz	a7,11a70 <_ZL11path_tracerRK10GlobalData.constprop.0+0x19a0>
	stack[j] = entry;
   11a98:	06d12c27          	fsw	fa3,120(sp)
   11a9c:	07813783          	ld	a5,120(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   11aa0:	00030693          	mv	a3,t1
	stack[j] = entry;
   11aa4:	00fe3023          	sd	a5,0(t3)
}
   11aa8:	ecdff06f          	j	11974 <_ZL11path_tracerRK10GlobalData.constprop.0+0x18a4>
   11aac:	0f010f13          	add	t5,sp,240
	stack[j] = entry;
   11ab0:	06d12c27          	fsw	fa3,120(sp)
   11ab4:	07813783          	ld	a5,120(sp)
   11ab8:	000f0e13          	mv	t3,t5
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   11abc:	00030693          	mv	a3,t1
	stack[j] = entry;
   11ac0:	00fe3023          	sd	a5,0(t3)
   11ac4:	eb1ff06f          	j	11974 <_ZL11path_tracerRK10GlobalData.constprop.0+0x18a4>
	case 2: return -cos_32s(x - PI);
   11ac8:	0001a7b7          	lui	a5,0x1a
   11acc:	2a07a107          	flw	ft2,672(a5) # 1a2a0 <__DATA_BEGIN__+0x50>
	return (c1 + x_sq * (c2 + c3 * x_sq));
   11ad0:	0001a7b7          	lui	a5,0x1a
   11ad4:	29c7a187          	flw	ft3,668(a5) # 1a29c <__DATA_BEGIN__+0x4c>
	case 2: return -cos_32s(x - PI);
   11ad8:	0825f253          	fsub.s	ft4,fa1,ft2
	return (c1 + x_sq * (c2 + c3 * x_sq));
   11adc:	0001a7b7          	lui	a5,0x1a
   11ae0:	2947a107          	flw	ft2,660(a5) # 1a294 <__DATA_BEGIN__+0x44>
   11ae4:	0001a7b7          	lui	a5,0x1a
   11ae8:	2987a587          	flw	fa1,664(a5) # 1a298 <__DATA_BEGIN__+0x48>
	float x_sq = x * x;
   11aec:	10427253          	fmul.s	ft4,ft4,ft4
	return (c1 + x_sq * (c2 + c3 * x_sq));
   11af0:	58227143          	fmadd.s	ft2,ft4,ft2,fa1
   11af4:	182275c3          	fmadd.s	fa1,ft4,ft2,ft3
	case 2: return -cos_32s(x - PI);
   11af8:	1822724f          	fnmadd.s	ft4,ft4,ft2,ft3
   11afc:	10b5f1d3          	fmul.s	ft3,fa1,fa1
   11b00:	ef1fe06f          	j	109f0 <_ZL11path_tracerRK10GlobalData.constprop.0+0x920>
	float x_sq = x * x;
   11b04:	10f7f153          	fmul.s	ft2,fa5,fa5
	return (c1 + x_sq * (c2 + c3 * x_sq));
   11b08:	0001a7b7          	lui	a5,0x1a
   11b0c:	2947a787          	flw	fa5,660(a5) # 1a294 <__DATA_BEGIN__+0x44>
   11b10:	0001a7b7          	lui	a5,0x1a
   11b14:	2987a587          	flw	fa1,664(a5) # 1a298 <__DATA_BEGIN__+0x48>
   11b18:	0001a7b7          	lui	a5,0x1a
   11b1c:	58f177c3          	fmadd.s	fa5,ft2,fa5,fa1
   11b20:	29c7a587          	flw	fa1,668(a5) # 1a29c <__DATA_BEGIN__+0x4c>
   11b24:	58f177c3          	fmadd.s	fa5,ft2,fa5,fa1
   11b28:	18f7f1c3          	fmadd.s	ft3,fa5,fa5,ft3
   11b2c:	f35fe06f          	j	10a60 <_ZL11path_tracerRK10GlobalData.constprop.0+0x990>
	case 2: return -cos_32s(x - PI);
   11b30:	0001a7b7          	lui	a5,0x1a
   11b34:	2a07a787          	flw	fa5,672(a5) # 1a2a0 <__DATA_BEGIN__+0x50>
	return (c1 + x_sq * (c2 + c3 * x_sq));
   11b38:	0001a7b7          	lui	a5,0x1a
   11b3c:	29c7a307          	flw	ft6,668(a5) # 1a29c <__DATA_BEGIN__+0x4c>
	case 2: return -cos_32s(x - PI);
   11b40:	08f5f7d3          	fsub.s	fa5,fa1,fa5
	return (c1 + x_sq * (c2 + c3 * x_sq));
   11b44:	0001a7b7          	lui	a5,0x1a
   11b48:	2947a587          	flw	fa1,660(a5) # 1a294 <__DATA_BEGIN__+0x44>
   11b4c:	0001a7b7          	lui	a5,0x1a
   11b50:	2987a107          	flw	ft2,664(a5) # 1a298 <__DATA_BEGIN__+0x48>
	float x_sq = x * x;
   11b54:	10f7f7d3          	fmul.s	fa5,fa5,fa5
	return (c1 + x_sq * (c2 + c3 * x_sq));
   11b58:	10b7f5c3          	fmadd.s	fa1,fa5,fa1,ft2
   11b5c:	30b7f143          	fmadd.s	ft2,fa5,fa1,ft6
	case 2: return -cos_32s(x - PI);
   11b60:	30b7f7cf          	fnmadd.s	fa5,fa5,fa1,ft6
   11b64:	182171c3          	fmadd.s	ft3,ft2,ft2,ft3
   11b68:	ef9fe06f          	j	10a60 <_ZL11path_tracerRK10GlobalData.constprop.0+0x990>
	float x_sq = x * x;
   11b6c:	10f7f253          	fmul.s	ft4,fa5,fa5
	return (c1 + x_sq * (c2 + c3 * x_sq));
   11b70:	0001a7b7          	lui	a5,0x1a
   11b74:	2947a587          	flw	fa1,660(a5) # 1a294 <__DATA_BEGIN__+0x44>
   11b78:	0001a7b7          	lui	a5,0x1a
   11b7c:	2987a107          	flw	ft2,664(a5) # 1a298 <__DATA_BEGIN__+0x48>
   11b80:	0001a7b7          	lui	a5,0x1a
   11b84:	10b275c3          	fmadd.s	fa1,ft4,fa1,ft2
   11b88:	29c7a107          	flw	ft2,668(a5) # 1a29c <__DATA_BEGIN__+0x4c>
   11b8c:	10b27243          	fmadd.s	ft4,ft4,fa1,ft2
   11b90:	104271d3          	fmul.s	ft3,ft4,ft4
   11b94:	e5dfe06f          	j	109f0 <_ZL11path_tracerRK10GlobalData.constprop.0+0x920>
   11b98:	01812787          	flw	fa5,24(sp)
   11b9c:	21ad0c53          	fmv.s	fs8,fs10
   11ba0:	07112623          	sw	a7,108(sp)
   11ba4:	06f12427          	fsw	fa5,104(sp)
   11ba8:	02412787          	flw	fa5,36(sp)
   11bac:	06c12027          	fsw	fa2,96(sp)
   11bb0:	06f12227          	fsw	fa5,100(sp)
   11bb4:	bb5fe06f          	j	10768 <_ZL11path_tracerRK10GlobalData.constprop.0+0x698>
   11bb8:	000d0d93          	mv	s11,s10
   11bbc:	bb4ff06f          	j	10f70 <_ZL11path_tracerRK10GlobalData.constprop.0+0xea0>

0000000000011bc0 <_Z9intersectRK10GlobalDataRK3RayR3Hit>:
	switch(global_data.config)
   11bc0:	05852703          	lw	a4,88(a0)
{
   11bc4:	00050793          	mv	a5,a0
	switch(global_data.config)
   11bc8:	00200513          	li	a0,2
{
   11bcc:	00060693          	mv	a3,a2
	switch(global_data.config)
   11bd0:	02a70e63          	beq	a4,a0,11c0c <_Z9intersectRK10GlobalDataRK3RayR3Hit+0x4c>
   11bd4:	00e56e63          	bltu	a0,a4,11bf0 <_Z9intersectRK10GlobalDataRK3RayR3Hit+0x30>
   11bd8:	04070863          	beqz	a4,11c28 <_Z9intersectRK10GlobalDataRK3RayR3Hit+0x68>
		case 1: return intersect(global_data.cblas, global_data.tt4, ray, hit); //TTC
   11bdc:	0607b503          	ld	a0,96(a5)
   11be0:	00058613          	mv	a2,a1
   11be4:	06878593          	add	a1,a5,104
   11be8:	00003317          	auipc	t1,0x3
   11bec:	57430067          	jr	1396(t1) # 1515c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit>
	switch(global_data.config)
   11bf0:	00300613          	li	a2,3
   11bf4:	02c71663          	bne	a4,a2,11c20 <_Z9intersectRK10GlobalDataRK3RayR3Hit+0x60>
		case 3: return intersect(global_data.blas, global_data.tt1, ray, hit); //TT
   11bf8:	0607b503          	ld	a0,96(a5)
   11bfc:	00058613          	mv	a2,a1
   11c00:	06878593          	add	a1,a5,104
   11c04:	00005317          	auipc	t1,0x5
   11c08:	35030067          	jr	848(t1) # 16f54 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit>
		case 2: return intersect(global_data.blas, global_data.mesh, ray, hit); //BVH
   11c0c:	0607b503          	ld	a0,96(a5)
   11c10:	00058613          	mv	a2,a1
   11c14:	06878593          	add	a1,a5,104
   11c18:	00005317          	auipc	t1,0x5
   11c1c:	dcc30067          	jr	-564(t1) # 169e4 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit>
}
   11c20:	00000513          	li	a0,0
   11c24:	00008067          	ret
		case 0: return intersect(global_data.cblas, global_data.mesh, ray, hit); //BVHC
   11c28:	0607b503          	ld	a0,96(a5)
   11c2c:	00058613          	mv	a2,a1
   11c30:	06878593          	add	a1,a5,104
   11c34:	00003317          	auipc	t1,0x3
   11c38:	f1030067          	jr	-240(t1) # 14b44 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit>

0000000000011c3c <_Z9intersectRK10GlobalDatajRK3RayRS2_R3Hit>:
{
   11c3c:	00050793          	mv	a5,a0
	switch(global_data.config)
   11c40:	05852503          	lw	a0,88(a0)
   11c44:	00200313          	li	t1,2
{
   11c48:	00060893          	mv	a7,a2
   11c4c:	00068613          	mv	a2,a3
   11c50:	00070693          	mv	a3,a4
	switch(global_data.config)
   11c54:	08650463          	beq	a0,t1,11cdc <_Z9intersectRK10GlobalDatajRK3RayRS2_R3Hit+0xa0>
{
   11c58:	fd010113          	add	sp,sp,-48
   11c5c:	02113423          	sd	ra,40(sp)
   11c60:	00058813          	mv	a6,a1
	switch(global_data.config)
   11c64:	02a36a63          	bltu	t1,a0,11c98 <_Z9intersectRK10GlobalDatajRK3RayRS2_R3Hit+0x5c>
   11c68:	08050263          	beqz	a0,11cec <_Z9intersectRK10GlobalDatajRK3RayRS2_R3Hit+0xb0>
			return intersect(global_data.cblas, data4, ray, hit); //TTC
   11c6c:	0607b503          	ld	a0,96(a5)
   11c70:	00810593          	add	a1,sp,8
			TesselationTree4SecondaryRayData data4(global_data.tt4, last_patch_index, last_ray);
   11c74:	06878793          	add	a5,a5,104
   11c78:	00f13423          	sd	a5,8(sp)
   11c7c:	01113823          	sd	a7,16(sp)
   11c80:	01012c23          	sw	a6,24(sp)
			return intersect(global_data.cblas, data4, ray, hit); //TTC
   11c84:	00006097          	auipc	ra,0x6
   11c88:	794080e7          	jalr	1940(ra) # 18418 <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit>
		}
	}
	return false;
}
   11c8c:	02813083          	ld	ra,40(sp)
   11c90:	03010113          	add	sp,sp,48
   11c94:	00008067          	ret
	switch(global_data.config)
   11c98:	00300713          	li	a4,3
   11c9c:	02e51863          	bne	a0,a4,11ccc <_Z9intersectRK10GlobalDatajRK3RayRS2_R3Hit+0x90>
 			return intersect(global_data.blas, data1, ray, hit); //TT
   11ca0:	0607b503          	ld	a0,96(a5)
   11ca4:	00810593          	add	a1,sp,8
			TesselationTree1SecondaryRayData data1(global_data.tt1, last_patch_index, last_ray);
   11ca8:	06878793          	add	a5,a5,104
   11cac:	00f13423          	sd	a5,8(sp)
   11cb0:	01113823          	sd	a7,16(sp)
   11cb4:	01012c23          	sw	a6,24(sp)
 			return intersect(global_data.blas, data1, ray, hit); //TT
   11cb8:	00007097          	auipc	ra,0x7
   11cbc:	b54080e7          	jalr	-1196(ra) # 1880c <_Z9intersectI32TesselationTree1SecondaryRayDataEbPKN3BVH4NodeERKT_RK3RayR3Hit>
}
   11cc0:	02813083          	ld	ra,40(sp)
   11cc4:	03010113          	add	sp,sp,48
   11cc8:	00008067          	ret
   11ccc:	02813083          	ld	ra,40(sp)
	switch(global_data.config)
   11cd0:	00000513          	li	a0,0
}
   11cd4:	03010113          	add	sp,sp,48
   11cd8:	00008067          	ret
			return intersect(global_data.blas, global_data.mesh, ray, hit); //BVH
   11cdc:	0607b503          	ld	a0,96(a5)
   11ce0:	06878593          	add	a1,a5,104
   11ce4:	00005317          	auipc	t1,0x5
   11ce8:	d0030067          	jr	-768(t1) # 169e4 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit>
}
   11cec:	02813083          	ld	ra,40(sp)
			return intersect(global_data.cblas, global_data.mesh, ray, hit); //BVHC
   11cf0:	0607b503          	ld	a0,96(a5)
   11cf4:	06878593          	add	a1,a5,104
}
   11cf8:	03010113          	add	sp,sp,48
			return intersect(global_data.cblas, global_data.mesh, ray, hit); //BVHC
   11cfc:	00003317          	auipc	t1,0x3
   11d00:	e4830067          	jr	-440(t1) # 14b44 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit>

0000000000011d04 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit>:
		std::vector<BuildObject> build_objects;
		for(uint i = 0; i < mesh.size(); ++i)
			build_objects.push_back(mesh.get_build_object(i));

		blas.build(build_objects);
		mesh.reorder(build_objects);
   11d04:	ad010113          	add	sp,sp,-1328
   11d08:	4da13823          	sd	s10,1232(sp)
		global_data.tt1.triangles = tt1.triangles.data();
	}

	global_data.ni = mesh.normal_indices.data();
	global_data.normals = mesh.normals.data();

   11d0c:	0005bd03          	ld	s10,0(a1)
		mesh.reorder(build_objects);
   11d10:	51213823          	sd	s2,1296(sp)
   11d14:	47f10793          	add	a5,sp,1151

   11d18:	000d3903          	ld	s2,0(s10)
		mesh.reorder(build_objects);
   11d1c:	fe07f713          	and	a4,a5,-32
		bool child_transformed;
	}
	tri_stack[8];

	TesselationTree1::Header header;
	move_to_stack(header, data.tes_tree.headers[patch_index]);
   11d20:	02051793          	sll	a5,a0,0x20
{
   11d24:	4db13423          	sd	s11,1224(sp)
   11d28:	00058d93          	mv	s11,a1
	move_to_stack(header, data.tes_tree.headers[patch_index]);
   11d2c:	01b7d593          	srl	a1,a5,0x1b
{
   11d30:	52813023          	sd	s0,1312(sp)
   11d34:	51413023          	sd	s4,1280(sp)
   11d38:	00060413          	mv	s0,a2
   11d3c:	00050a13          	mv	s4,a0
   11d40:	02000613          	li	a2,32
   11d44:	00070513          	mv	a0,a4
   11d48:	00b905b3          	add	a1,s2,a1
   11d4c:	50913c23          	sd	s1,1304(sp)
   11d50:	4f813023          	sd	s8,1248(sp)
   11d54:	4b312827          	fsw	fs3,1200(sp)
   11d58:	4b412627          	fsw	fs4,1196(sp)
   11d5c:	4b512427          	fsw	fs5,1192(sp)
   11d60:	4b712027          	fsw	fs7,1184(sp)
   11d64:	49812e27          	fsw	fs8,1180(sp)
   11d68:	49b12827          	fsw	fs11,1168(sp)
   11d6c:	52113423          	sd	ra,1320(sp)
   11d70:	51313423          	sd	s3,1288(sp)
   11d74:	4f513c23          	sd	s5,1272(sp)
   11d78:	4f613823          	sd	s6,1264(sp)
   11d7c:	4f713423          	sd	s7,1256(sp)
   11d80:	4d913c23          	sd	s9,1240(sp)
   11d84:	4a812e27          	fsw	fs0,1212(sp)
   11d88:	4a912c27          	fsw	fs1,1208(sp)
   11d8c:	4b212a27          	fsw	fs2,1204(sp)
   11d90:	4b612227          	fsw	fs6,1188(sp)
   11d94:	49912c27          	fsw	fs9,1176(sp)
   11d98:	49a12a27          	fsw	fs10,1172(sp)
   11d9c:	00068493          	mv	s1,a3
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   11da0:	0001ac37          	lui	s8,0x1a
   11da4:	00007097          	auipc	ra,0x7
   11da8:	dec080e7          	jalr	-532(ra) # 18b90 <memcpy>
   11dac:	258c2087          	flw	ft1,600(s8) # 1a258 <__DATA_BEGIN__+0x8>
	inline float operator[](int i) const { return e[i]; }
   11db0:	01042c07          	flw	fs8,16(s0)
   11db4:	01442987          	flw	fs3,20(s0)

	glm::vec3 inv_d = glm::vec3(1.0f) / ray.d;
	float max_db_over_max_error = header.max_db * ray.rcp_max_error;
	const TesselationTree1::Node* nodes = &data.tes_tree.nodes[header.root_node_offset];
   11db8:	01456783          	lwu	a5,20(a0)
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   11dbc:	1980f153          	fdiv.s	ft2,ft1,fs8
   11dc0:	00050713          	mv	a4,a0
   11dc4:	008d3503          	ld	a0,8(s10)
   11dc8:	06f13423          	sd	a5,104(sp)
   11dcc:	00579793          	sll	a5,a5,0x5
   11dd0:	00f50533          	add	a0,a0,a5
	inline float operator[](int i) const { return e[i]; }
   11dd4:	00042b87          	flw	fs7,0(s0)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   11dd8:	00052787          	flw	fa5,0(a0)
   11ddc:	00c52007          	flw	ft0,12(a0)
	inline float operator[](int i) const { return e[i]; }
   11de0:	01842d87          	flw	fs11,24(s0)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   11de4:	0977f7d3          	fsub.s	fa5,fa5,fs7
   11de8:	09707053          	fsub.s	ft0,ft0,fs7
	inline float operator[](int i) const { return e[i]; }
   11dec:	00442a07          	flw	fs4,4(s0)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   11df0:	00452707          	flw	fa4,4(a0)
   11df4:	01052507          	flw	fa0,16(a0)
	inline float operator[](int i) const { return e[i]; }
   11df8:	00842a87          	flw	fs5,8(s0)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   11dfc:	09477753          	fsub.s	fa4,fa4,fs4
   11e00:	09457553          	fsub.s	fa0,fa0,fs4
   11e04:	00852687          	flw	fa3,8(a0)
	float max_db_over_max_error = header.max_db * ray.rcp_max_error;
   11e08:	00c72287          	flw	ft5,12(a4)
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   11e0c:	1930f353          	fdiv.s	ft6,ft1,fs3
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   11e10:	10207053          	fmul.s	ft0,ft0,ft2
   11e14:	1027f7d3          	fmul.s	fa5,fa5,ft2
   11e18:	02842207          	flw	ft4,40(s0)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   11e1c:	0956f653          	fsub.s	fa2,fa3,fs5
   11e20:	01452587          	flw	fa1,20(a0)
   11e24:	00c42187          	flw	ft3,12(s0)
   11e28:	280786d3          	fmin.s	fa3,fa5,ft0
	if (tmin > tmax) return ray.t_max;//no hit || behind
   11e2c:	280797d3          	fmax.s	fa5,fa5,ft0
   11e30:	1042f053          	fmul.s	ft0,ft5,ft4
   11e34:	0955f5d3          	fsub.s	fa1,fa1,fs5
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   11e38:	08212e27          	fsw	ft2,156(sp)
    min(const _Tp& __a, const _Tp& __b)
    {
      // concept requirements
      __glibcxx_function_requires(_LessThanComparableConcept<_Tp>)
      //return __b < __a ? __b : __a;
      if (__b < __a)
   11e3c:	01c42107          	flw	ft2,28(s0)
	const CompactTri* triangles = &data.tes_tree.triangles[header.root_node_offset];
   11e40:	018d3783          	ld	a5,24(s10)
	float max_db_over_max_error = header.max_db * ray.rcp_max_error;
   11e44:	04012627          	fsw	ft0,76(sp)
	const CompactTri* triangles = &data.tes_tree.triangles[header.root_node_offset];
   11e48:	06f13823          	sd	a5,112(sp)
   11e4c:	19b0f0d3          	fdiv.s	ft1,ft1,fs11
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   11e50:	10677753          	fmul.s	fa4,fa4,ft6
   11e54:	10657553          	fmul.s	fa0,fa0,ft6
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   11e58:	08612c27          	fsw	ft6,152(sp)
	inline float operator[](int i) const { return e[i]; }
   11e5c:	28a70053          	fmin.s	ft0,fa4,fa0
   11e60:	28a71753          	fmax.s	fa4,fa4,fa0
   11e64:	280696d3          	fmax.s	fa3,fa3,ft0
   11e68:	28e787d3          	fmin.s	fa5,fa5,fa4
   11e6c:	28369753          	fmax.s	fa4,fa3,ft3
   11e70:	282787d3          	fmin.s	fa5,fa5,ft2
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   11e74:	101676d3          	fmul.s	fa3,fa2,ft1
   11e78:	1015f653          	fmul.s	fa2,fa1,ft1
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   11e7c:	08112a27          	fsw	ft1,148(sp)
	float tmin = std::max(std::max(tminv.x, tminv.y), std::max(tminv.z, ray.t_min));
   11e80:	28c685d3          	fmin.s	fa1,fa3,fa2
	if (tmin > tmax) return ray.t_max;//no hit || behind
   11e84:	28c696d3          	fmax.s	fa3,fa3,fa2
   11e88:	28b71753          	fmax.s	fa4,fa4,fa1
   11e8c:	28d787d3          	fmin.s	fa5,fa5,fa3
   11e90:	a0e797d3          	flt.s	a5,fa5,fa4
   11e94:	00079463          	bnez	a5,11e9c <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x198>
	return tmin;
   11e98:	20e70153          	fmv.s	ft2,fa4

	uint32_t node_stack_size = 1u;
	node_stack[0].t = intersect(nodes[0].aabb, ray, inv_d);
	node_stack[0].dbs = nodes[0].dbs;
   11e9c:	01852783          	lw	a5,24(a0)
	node_stack[0].node_index = 0;
	node_stack[0].lod = 0;
	node_stack[0].tri_type = 0;

	glm::uvec3 previous_patch_indices(0);
	if(data.last_patch_index != ~0) previous_patch_indices  = data.tes_tree.headers[data.last_patch_index].vi;
   11ea0:	010daf83          	lw	t6,16(s11)
	node_stack[0].t = intersect(nodes[0].aabb, ray, inv_d);
   11ea4:	0e212027          	fsw	ft2,224(sp)
	node_stack[0].dbs = nodes[0].dbs;
   11ea8:	0ef12423          	sw	a5,232(sp)
	node_stack[0].node_index = 0;
   11eac:	0e012223          	sw	zero,228(sp)
	if(data.last_patch_index != ~0) previous_patch_indices  = data.tes_tree.headers[data.last_patch_index].vi;
   11eb0:	fff00793          	li	a5,-1
   11eb4:	00ff9463          	bne	t6,a5,11ebc <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1b8>
   11eb8:	20c0106f          	j	130c4 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x13c0>
   11ebc:	020f9693          	sll	a3,t6,0x20
   11ec0:	01b6d793          	srl	a5,a3,0x1b
   11ec4:	00f907b3          	add	a5,s2,a5
   11ec8:	0007a683          	lw	a3,0(a5)
   11ecc:	04d13c23          	sd	a3,88(sp)
   11ed0:	0047a683          	lw	a3,4(a5)
   11ed4:	0087a783          	lw	a5,8(a5)
   11ed8:	08d13423          	sd	a3,136(sp)
   11edc:	06f13c23          	sd	a5,120(sp)
		uint32_t lod = current_node_entry.lod;
		uint32_t tri_type = current_node_entry.tri_type;

		if(lod == 0)
		{
			tri_stack[lod].tri = Triangle(data.tes_tree.vertices[header.vi[0]], data.tes_tree.vertices[header.vi[1]], data.tes_tree.vertices[header.vi[2]]);
   11ee0:	00872c83          	lw	s9,8(a4)
   11ee4:	00472783          	lw	a5,4(a4)
   11ee8:	00072e83          	lw	t4,0(a4)
   11eec:	020c9813          	sll	a6,s9,0x20
   11ef0:	02085813          	srl	a6,a6,0x20
   11ef4:	02079893          	sll	a7,a5,0x20
   11ef8:	0af13c23          	sd	a5,184(sp)
   11efc:	00181793          	sll	a5,a6,0x1
   11f00:	010787b3          	add	a5,a5,a6
   11f04:	020e9313          	sll	t1,t4,0x20
inline uint find_shared_edge(const glm::uvec3& crnt_ptch_inds, const glm::uvec3& prev_ptch_inds)
{
	uint32_t match_mask = 0;
	for(uint i = 0; i < 3; ++i)
		for(uint j = 0; j < 3; ++j)
			if(crnt_ptch_inds[i] == prev_ptch_inds[j])
   11f08:	07813803          	ld	a6,120(sp)
   11f0c:	0208d893          	srl	a7,a7,0x20
   11f10:	02035313          	srl	t1,t1,0x20
	e[0] *= v[0];
   11f14:	0001ae37          	lui	t3,0x1a
   11f18:	25ce2787          	flw	fa5,604(t3) # 1a25c <__DATA_BEGIN__+0xc>
   11f1c:	00189693          	sll	a3,a7,0x1

		//if the next LOD is the leaf intersect othewise push the child nodes onto the stack
		uint32_t next_level = lod + 1;
		uint32_t first_child_index = node_index << 2; //compute first child idnex
		
		if(next_level == header.last_lod) //leaf node
   11f20:	01072603          	lw	a2,16(a4)
			tri_stack[lod].tri = Triangle(data.tes_tree.vertices[header.vi[0]], data.tes_tree.vertices[header.vi[1]], data.tes_tree.vertices[header.vi[2]]);
   11f24:	00131593          	sll	a1,t1,0x1
   11f28:	011686b3          	add	a3,a3,a7
   11f2c:	410e8833          	sub	a6,t4,a6
   11f30:	00279793          	sll	a5,a5,0x2
   11f34:	006585b3          	add	a1,a1,t1
		if(next_level == header.last_lod) //leaf node
   11f38:	01812627          	fsw	fs8,12(sp)
    max(const _Tp& __a, const _Tp& __b)
    {
      // concept requirements
      __glibcxx_function_requires(_LessThanComparableConcept<_Tp>)
      //return  __a < __b ? __b : __a;
      if (__a < __b)
   11f3c:	258c2d07          	flw	fs10,600(s8)
   11f40:	217b8c53          	fmv.s	fs8,fs7
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   11f44:	0001ae37          	lui	t3,0x1a
			tri_stack[lod].tri = Triangle(data.tes_tree.vertices[header.vi[0]], data.tes_tree.vertices[header.vi[1]], data.tes_tree.vertices[header.vi[2]]);
   11f48:	00259593          	sll	a1,a1,0x2
   11f4c:	00269693          	sll	a3,a3,0x2
   11f50:	0af13823          	sd	a5,176(sp)
   11f54:	00183793          	seqz	a5,a6
   11f58:	268e2c87          	flw	fs9,616(t3) # 1a268 <__DATA_BEGIN__+0x18>
   11f5c:	09d13023          	sd	t4,128(sp)
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   11f60:	0001abb7          	lui	s7,0x1a
   11f64:	0001ab37          	lui	s6,0x1a
	e[0] *= v[0];
   11f68:	08f12827          	fsw	fa5,144(sp)
   11f6c:	0ab13023          	sd	a1,160(sp)
   11f70:	0ad13423          	sd	a3,168(sp)
   11f74:	0cf13023          	sd	a5,192(sp)
		if(next_level == header.last_lod) //leaf node
   11f78:	fff00893          	li	a7,-1
   11f7c:	00100e13          	li	t3,1
   11f80:	000c8813          	mv	a6,s9
   11f84:	01312427          	fsw	fs3,8(sp)
   11f88:	0ce13423          	sd	a4,200(sp)
   11f8c:	05b13823          	sd	s11,80(sp)
   11f90:	04c13023          	sd	a2,64(sp)
		const NodeStackEntry current_node_entry = node_stack[--node_stack_size];
   11f94:	fffe031b          	addw	t1,t3,-1
   11f98:	02031793          	sll	a5,t1,0x20
   11f9c:	0207d793          	srl	a5,a5,0x20
   11fa0:	00179713          	sll	a4,a5,0x1
   11fa4:	00f70733          	add	a4,a4,a5
   11fa8:	00271713          	sll	a4,a4,0x2
   11fac:	3c070793          	add	a5,a4,960
   11fb0:	0d010713          	add	a4,sp,208
   11fb4:	00e78733          	add	a4,a5,a4
   11fb8:	c5072783          	lw	a5,-944(a4)
		if(current_node_entry.t >= hit.t) continue;
   11fbc:	0004ab07          	flw	fs6,0(s1)
		const NodeStackEntry current_node_entry = node_stack[--node_stack_size];
   11fc0:	c5472583          	lw	a1,-940(a4)
		if(current_node_entry.t >= hit.t) continue;
   11fc4:	f00787d3          	fmv.w.x	fa5,a5
		const NodeStackEntry current_node_entry = node_stack[--node_stack_size];
   11fc8:	c5872683          	lw	a3,-936(a4)
   11fcc:	0cf12823          	sw	a5,208(sp)
		if(current_node_entry.t >= hit.t) continue;
   11fd0:	a0fb0753          	fle.s	a4,fs6,fa5
		const NodeStackEntry current_node_entry = node_stack[--node_stack_size];
   11fd4:	0cb12a23          	sw	a1,212(sp)
   11fd8:	0cd12c23          	sw	a3,216(sp)
		if(current_node_entry.t >= hit.t) continue;
   11fdc:	340710e3          	bnez	a4,12b1c <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xe18>
		uint32_t node_index = current_node_entry.node_index;
   11fe0:	0d013683          	ld	a3,208(sp)
   11fe4:	04c00593          	li	a1,76

#include "rtm.hpp"
#include "aabb.hpp"
#include "ray.hpp"

class Triangle
   11fe8:	20010713          	add	a4,sp,512
		uint32_t lod = current_node_entry.lod;
   11fec:	03a6de93          	srl	t4,a3,0x3a
   11ff0:	00fef293          	and	t0,t4,15
   11ff4:	02b282b3          	mul	t0,t0,a1
		uint32_t node_index = current_node_entry.node_index;
   11ff8:	00669f13          	sll	t5,a3,0x6
		uint32_t lod = current_node_entry.lod;
   11ffc:	00fefe93          	and	t4,t4,15
		uint32_t dbs = current_node_entry.dbs;
   12000:	0d812783          	lw	a5,216(sp)
		uint32_t node_index = current_node_entry.node_index;
   12004:	026f5f13          	srl	t5,t5,0x26
		uint32_t tri_type = current_node_entry.tri_type;
   12008:	03e6d693          	srl	a3,a3,0x3e
   1200c:	00570733          	add	a4,a4,t0
		if(lod == 0)
   12010:	580e9ce3          	bnez	t4,12da8 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x10a4>
			tri_stack[lod].tri = Triangle(data.tes_tree.vertices[header.vi[0]], data.tes_tree.vertices[header.vi[1]], data.tes_tree.vertices[header.vi[2]]);
   12014:	010d3683          	ld	a3,16(s10)
   12018:	0a013603          	ld	a2,160(sp)
			if(data.last_patch_index != ~0) tri_stack[0].shared_edge = find_shared_edge(header.vi, previous_patch_indices);
   1201c:	fff00913          	li	s2,-1
			tri_stack[lod].tri = Triangle(data.tes_tree.vertices[header.vi[0]], data.tes_tree.vertices[header.vi[1]], data.tes_tree.vertices[header.vi[2]]);
   12020:	00c685b3          	add	a1,a3,a2
   12024:	0a813603          	ld	a2,168(sp)
	inline float operator[](int i) const { return e[i]; }
   12028:	0045a107          	flw	ft2,4(a1)
   1202c:	0085a087          	flw	ft1,8(a1)
   12030:	00c683b3          	add	t2,a3,a2
   12034:	0b013603          	ld	a2,176(sp)
   12038:	0003a507          	flw	fa0,0(t2)
   1203c:	0043a587          	flw	fa1,4(t2)
   12040:	00c686b3          	add	a3,a3,a2
   12044:	0083a607          	flw	fa2,8(t2)
   12048:	0006a687          	flw	fa3,0(a3)
   1204c:	0046a707          	flw	fa4,4(a3)
   12050:	0086a787          	flw	fa5,8(a3)
	e[0] = v[0];
   12054:	0005a007          	flw	ft0,0(a1)
	e[1] = v[1];
   12058:	20212227          	fsw	ft2,516(sp)
	e[2] = v[2];
   1205c:	20112427          	fsw	ft1,520(sp)
	e[0] = v[0];
   12060:	20012027          	fsw	ft0,512(sp)
   12064:	20a12627          	fsw	fa0,524(sp)
	e[1] = v[1];
   12068:	20b12827          	fsw	fa1,528(sp)
	e[2] = v[2];
   1206c:	20c12a27          	fsw	fa2,532(sp)
	e[0] = v[0];
   12070:	20d12c27          	fsw	fa3,536(sp)
	e[1] = v[1];
   12074:	20e12e27          	fsw	fa4,540(sp)
	e[2] = v[2];
   12078:	22f12027          	fsw	fa5,544(sp)
			if(data.last_patch_index != ~0) tri_stack[0].shared_edge = find_shared_edge(header.vi, previous_patch_indices);
   1207c:	732f88e3          	beq	t6,s2,12fac <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x12a8>
   12080:	08013683          	ld	a3,128(sp)
   12084:	05813603          	ld	a2,88(sp)
   12088:	00c69463          	bne	a3,a2,12090 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x38c>
   1208c:	0bc0106f          	j	13148 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1444>
   12090:	08813603          	ld	a2,136(sp)
   12094:	00c69463          	bne	a3,a2,1209c <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x398>
   12098:	0b00106f          	j	13148 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1444>
   1209c:	0b813683          	ld	a3,184(sp)
   120a0:	05813583          	ld	a1,88(sp)
   120a4:	00b69463          	bne	a3,a1,120ac <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x3a8>
   120a8:	02c0106f          	j	130d4 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x13d0>
   120ac:	00c69463          	bne	a3,a2,120b4 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x3b0>
   120b0:	0240106f          	j	130d4 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x13d0>
   120b4:	07813603          	ld	a2,120(sp)
   120b8:	00c69463          	bne	a3,a2,120c0 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x3bc>
   120bc:	0180106f          	j	130d4 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x13d0>
	uint32_t match_mask = 0;
   120c0:	0c013583          	ld	a1,192(sp)
			if(crnt_ptch_inds[i] == prev_ptch_inds[j])
   120c4:	05813683          	ld	a3,88(sp)
   120c8:	00d81463          	bne	a6,a3,120d0 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x3cc>
   120cc:	05c0106f          	j	13128 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1424>
   120d0:	08813683          	ld	a3,136(sp)
   120d4:	00d81463          	bne	a6,a3,120dc <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x3d8>
   120d8:	0500106f          	j	13128 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1424>
   120dc:	07813603          	ld	a2,120(sp)
   120e0:	00300693          	li	a3,3
   120e4:	00c81463          	bne	a6,a2,120ec <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x3e8>
   120e8:	0400106f          	j	13128 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1424>
			else                            tri_stack[0].shared_edge = 3;
   120ec:	24d10423          	sb	a3,584(sp)
		bool edge_mask[3] = {patch_index == data.last_patch_index || tri_stack[lod].shared_edge == 0, patch_index == data.last_patch_index || tri_stack[lod].shared_edge == 1, patch_index == data.last_patch_index || tri_stack[lod].shared_edge == 2};
   120f0:	57fa08e3          	beq	s4,t6,12e60 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x115c>
   120f4:	04c00693          	li	a3,76
   120f8:	02de86b3          	mul	a3,t4,a3
   120fc:	0d010613          	add	a2,sp,208
   12100:	3c068693          	add	a3,a3,960
   12104:	00c686b3          	add	a3,a3,a2
   12108:	db86c583          	lbu	a1,-584(a3)
   1210c:	fff58a93          	add	s5,a1,-1
   12110:	ffe58993          	add	s3,a1,-2
   12114:	001aba93          	seqz	s5,s5
   12118:	0015b593          	seqz	a1,a1
   1211c:	0019b993          	seqz	s3,s3
		glm::vec3 edge_states = evalute_deformation_bounds(dbs, max_db_over_max_error, tri_stack[lod].tri, data.last_ray, ray, edge_mask);
   12120:	05013683          	ld	a3,80(sp)
	inline float operator[](int i) const { return e[i]; }
   12124:	01072487          	flw	fs1,16(a4)
   12128:	00472107          	flw	ft2,4(a4)
   1212c:	0086b683          	ld	a3,8(a3)
   12130:	01c72507          	flw	fa0,28(a4)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   12134:	0944f253          	fsub.s	ft4,fs1,fs4
	inline float operator[](int i) const { return e[i]; }
   12138:	0046a787          	flw	fa5,4(a3)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   1213c:	00812087          	flw	ft1,8(sp)
	inline float operator[](int i) const { return e[i]; }
   12140:	00c72987          	flw	fs3,12(a4)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   12144:	08f172d3          	fsub.s	ft5,ft2,fa5
   12148:	08f4f6d3          	fsub.s	fa3,fs1,fa5
   1214c:	08f577d3          	fsub.s	fa5,fa0,fa5
	inline float operator[](int i) const { return e[i]; }
   12150:	0146a587          	flw	fa1,20(a3)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   12154:	0989ffd3          	fsub.s	ft11,fs3,fs8
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12158:	1040f853          	fmul.s	fa6,ft1,ft4
   1215c:	00c12e87          	flw	ft9,12(sp)
   12160:	10b2f2d3          	fmul.s	ft5,ft5,fa1
   12164:	10b6f6d3          	fmul.s	fa3,fa3,fa1
   12168:	10b7f7d3          	fmul.s	fa5,fa5,fa1
	inline float operator[](int i) const { return e[i]; }
   1216c:	01872007          	flw	ft0,24(a4)
   12170:	02072587          	flw	fa1,32(a4)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   12174:	09457353          	fsub.s	ft6,fa0,fs4
   12178:	81fef843          	fmadd.s	fa6,ft9,ft11,fa6
   1217c:	00412c27          	fsw	ft4,24(sp)
   12180:	03f12027          	fsw	ft11,32(sp)
   12184:	09807253          	fsub.s	ft4,ft0,fs8
   12188:	0955ffd3          	fsub.s	ft11,fa1,fs5
	inline float operator[](int i) const { return e[i]; }
   1218c:	0006a707          	flw	fa4,0(a3)
   12190:	00072187          	flw	ft3,0(a4)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   12194:	09417653          	fsub.s	fa2,ft2,fs4
   12198:	08e9f8d3          	fsub.s	fa7,fs3,fa4
   1219c:	08e1ff53          	fsub.s	ft10,ft3,fa4
   121a0:	02412227          	fsw	ft4,36(sp)
   121a4:	08e07753          	fsub.s	fa4,ft0,fa4
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   121a8:	1060f253          	fmul.s	ft4,ft1,ft6
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   121ac:	03f12627          	fsw	ft11,44(sp)
   121b0:	09807fd3          	fsub.s	ft11,ft0,fs8
	inline float operator[](int i) const { return e[i]; }
   121b4:	0086a387          	flw	ft7,8(a3)
   121b8:	01472907          	flw	fs2,20(a4)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   121bc:	02612427          	fsw	ft6,40(sp)
	inline float operator[](int i) const { return e[i]; }
   121c0:	0106a307          	flw	ft6,16(a3)
	return prnt_shrd_edg;
}

inline glm::vec3 evalute_deformation_bounds(uint32_t qdb, float max_db_over_max_error, const Triangle& tri, const Ray& last_ray,  const Ray& ray, const bool edge_mask[3])
{
	glm::vec3 fdbs((float)(qdb >> 00 & 0x3ff), (float)(qdb >> 10 & 0x3ff), (float)(qdb >> 20 & 0x3ff));
   121c4:	00a7d91b          	srlw	s2,a5,0xa
   121c8:	0147d39b          	srlw	t2,a5,0x14
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   121cc:	0981f453          	fsub.s	fs0,ft3,fs8
   121d0:	00c12a27          	fsw	fa2,20(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   121d4:	10c0f653          	fmul.s	fa2,ft1,fa2
   121d8:	286f7f43          	fmadd.s	ft10,ft10,ft6,ft5
   121dc:	3ff7f793          	and	a5,a5,1023
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   121e0:	087972d3          	fsub.s	ft5,fs2,ft7
   121e4:	3ff97913          	and	s2,s2,1023
   121e8:	3ff3f393          	and	t2,t2,1023
   121ec:	09597e53          	fsub.s	ft8,fs2,fs5
   121f0:	21fef243          	fmadd.s	ft4,ft9,ft11,ft4
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   121f4:	691378c3          	fmadd.s	fa7,ft6,fa7,fa3
	e[0] *= v[0];
   121f8:	09012f87          	flw	ft11,144(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   121fc:	78e37343          	fmadd.s	ft6,ft6,fa4,fa5
	inline float operator[](int i) const { return e[i]; }
   12200:	00872087          	flw	ft1,8(a4)
   12204:	d007f6d3          	fcvt.s.w	fa3,a5
   12208:	d0097753          	fcvt.s.w	fa4,s2
   1220c:	d003f7d3          	fcvt.s.w	fa5,t2
   12210:	608ef643          	fmadd.s	fa2,ft9,fs0,fa2
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   12214:	0950fbd3          	fsub.s	fs7,ft1,fs5
   12218:	0870fed3          	fsub.s	ft9,ft1,ft7
	e[0] *= v[0];
   1221c:	11f6f6d3          	fmul.s	fa3,fa3,ft11
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   12220:	0875f3d3          	fsub.s	ft7,fa1,ft7
	e[1] *= v[1];
   12224:	11f77753          	fmul.s	fa4,fa4,ft11
	e[2] *= v[2];
   12228:	11f7f7d3          	fmul.s	fa5,fa5,ft11
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   1222c:	0955ffd3          	fsub.s	ft11,fa1,fs5
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   12230:	00512827          	fsw	ft5,16(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12234:	81cdf843          	fmadd.s	fa6,fs11,ft8,fa6
	inline float operator[](int i) const { return e[i]; }
   12238:	0186a287          	flw	ft5,24(a3)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   1223c:	03c12827          	fsw	ft8,48(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12240:	01012e07          	flw	ft8,16(sp)
   12244:	f05efec3          	fmadd.s	ft9,ft9,ft5,ft10
   12248:	617df643          	fmadd.s	fa2,fs11,fs7,fa2
   1224c:	89c2f8c3          	fmadd.s	fa7,ft5,ft8,fa7
   12250:	21fdf243          	fmadd.s	ft4,fs11,ft11,ft4
   12254:	3072f2c3          	fmadd.s	ft5,ft5,ft7,ft6

	glm::vec3 dlen(glm::dot(tri.vrts[0] - ray.o, ray.d), glm::dot(tri.vrts[1] - ray.o, ray.d), glm::dot(tri.vrts[2] - ray.o, ray.d));
	glm::vec3 last_dlen(glm::dot(tri.vrts[0] - last_ray.o, last_ray.d), glm::dot(tri.vrts[1] - last_ray.o, last_ray.d), glm::dot(tri.vrts[2] - last_ray.o, last_ray.d));
	
	glm::vec3 r;
	if(edge_mask[0]) r[0] = std::min(last_dlen[1], last_dlen[2]) * last_ray.drdt + last_ray.radius;
   12258:	440580e3          	beqz	a1,12e98 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1194>
   1225c:	28588353          	fmin.s	ft6,fa7,ft5
   12260:	0206a387          	flw	ft7,32(a3)
   12264:	0246af07          	flw	ft10,36(a3)
   12268:	f063f343          	fmadd.s	ft6,ft7,ft6,ft10
	else             r[0] = std::min(     dlen[1],      dlen[2]) *      ray.drdt +      ray.radius;
	if(edge_mask[1]) r[1] = std::min(last_dlen[2], last_dlen[0]) * last_ray.drdt + last_ray.radius;
   1226c:	400a82e3          	beqz	s5,12e70 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x116c>
   12270:	285e82d3          	fmin.s	ft5,ft9,ft5
   12274:	0206a207          	flw	ft4,32(a3)
   12278:	0246a387          	flw	ft7,36(a3)
   1227c:	385272c3          	fmadd.s	ft5,ft4,ft5,ft7
	else             r[1] = std::min(     dlen[2],      dlen[0]) *      ray.drdt +      ray.radius;
	if(edge_mask[2]) r[2] = std::min(last_dlen[0], last_dlen[1]) * last_ray.drdt + last_ray.radius;
   12280:	400982e3          	beqz	s3,12e84 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1180>
   12284:	291e8ed3          	fmin.s	ft9,ft9,fa7
   12288:	0206a607          	flw	fa2,32(a3)
   1228c:	0246a207          	flw	ft4,36(a3)
   12290:	21d67643          	fmadd.s	fa2,fa2,ft9,ft4
	asm volatile("frcp.s %0,%1\n\t" 
   12294:	60037353          	frcp.s	ft6,ft6
   12298:	6002f2d3          	frcp.s	ft5,ft5
   1229c:	60067653          	frcp.s	fa2,fa2
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   122a0:	10d6f6d3          	fmul.s	fa3,fa3,fa3
   122a4:	04c12387          	flw	ft7,76(sp)
   122a8:	10e77753          	fmul.s	fa4,fa4,fa4
   122ac:	10f7f7d3          	fmul.s	fa5,fa5,fa5
   122b0:	f0000253          	fmv.w.x	ft4,zero
   122b4:	1076f6d3          	fmul.s	fa3,fa3,ft7
   122b8:	10777753          	fmul.s	fa4,fa4,ft7
   122bc:	1077f7d3          	fmul.s	fa5,fa5,ft7
   122c0:	1066f6d3          	fmul.s	fa3,fa3,ft6
   122c4:	10577753          	fmul.s	fa4,fa4,ft5
   122c8:	10c7f7d3          	fmul.s	fa5,fa5,fa2
   122cc:	a1a697d3          	flt.s	a5,fa3,fs10
   122d0:	00079663          	bnez	a5,122dc <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x5d8>
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   122d4:	09a6f253          	fsub.s	ft4,fa3,fs10
   122d8:	29a20253          	fmin.s	ft4,ft4,fs10
   122dc:	a1a717d3          	flt.s	a5,fa4,fs10
   122e0:	f00002d3          	fmv.w.x	ft5,zero
   122e4:	00079663          	bnez	a5,122f0 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x5ec>
   122e8:	09a772d3          	fsub.s	ft5,fa4,fs10
   122ec:	29a282d3          	fmin.s	ft5,ft5,fs10
   122f0:	a1a797d3          	flt.s	a5,fa5,fs10
   122f4:	f0000353          	fmv.w.x	ft6,zero
   122f8:	00079663          	bnez	a5,12304 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x600>
   122fc:	09a7f353          	fsub.s	ft6,fa5,fs10
   12300:	29a30353          	fmin.s	ft6,ft6,fs10
		if(edge_states[0] <= 0.0f && edge_states[1] <= 0.0f && edge_states[2] <= 0.0f)
   12304:	f00007d3          	fmv.w.x	fa5,zero
   12308:	a0f207d3          	fle.s	a5,ft4,fa5
   1230c:	00078a63          	beqz	a5,12320 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x61c>
   12310:	a0f287d3          	fle.s	a5,ft5,fa5
   12314:	00078663          	beqz	a5,12320 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x61c>
   12318:	a0f307d3          	fle.s	a5,ft6,fa5
   1231c:	68079263          	bnez	a5,129a0 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xc9c>
		uint32_t absoulte_node_index = lod_node_offset[lod] + node_index;
   12320:	000193b7          	lui	t2,0x19
   12324:	d3838393          	add	t2,t2,-712 # 18d38 <_ZL15lod_node_offset>
   12328:	002e9793          	sll	a5,t4,0x2
   1232c:	00f387b3          	add	a5,t2,a5
   12330:	0007a783          	lw	a5,0(a5)
   12334:	06813683          	ld	a3,104(sp)
   12338:	020e9a93          	sll	s5,t4,0x20
   1233c:	01e787bb          	addw	a5,a5,t5
		move_to_stack(new_tri, triangles[absoulte_node_index]);
   12340:	02079793          	sll	a5,a5,0x20
   12344:	0207d793          	srl	a5,a5,0x20
   12348:	00d787b3          	add	a5,a5,a3
		uint64_t r = ((uint64_t*)&src)[i];
   1234c:	07013683          	ld	a3,112(sp)
   12350:	00579793          	sll	a5,a5,0x5
		uint32_t absoulte_node_index = lod_node_offset[lod] + node_index;
   12354:	020ada93          	srl	s5,s5,0x20
   12358:	00f687b3          	add	a5,a3,a5
   1235c:	0007b583          	ld	a1,0(a5)
   12360:	0087b683          	ld	a3,8(a5)
   12364:	0107b983          	ld	s3,16(a5)
	float f0 = u24_to_f32(dw0 & 0xffffff);
   12368:	0005891b          	sext.w	s2,a1
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   1236c:	01795c93          	srl	s9,s2,0x17
   12370:	001cfc93          	and	s9,s9,1
		uint64_t r = ((uint64_t*)&src)[i];
   12374:	0187b783          	ld	a5,24(a5)
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   12378:	340c96e3          	bnez	s9,12ec4 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x11c0>
   1237c:	02891913          	sll	s2,s2,0x28
   12380:	02895913          	srl	s2,s2,0x28
   12384:	3f800cb7          	lui	s9,0x3f800
	return *((float*)&u);
   12388:	01996933          	or	s2,s2,s9
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   1238c:	260ba707          	flw	fa4,608(s7) # 1a260 <__DATA_BEGIN__+0x10>
   12390:	264b2787          	flw	fa5,612(s6) # 1a264 <__DATA_BEGIN__+0x14>
   12394:	f00906d3          	fmv.w.x	fa3,s2
   12398:	78e6f643          	fmadd.s	fa2,fa3,fa4,fa5
	float f1 = u24_to_f32((dw0 >> 24) & 0xffffff);
   1239c:	0185d913          	srl	s2,a1,0x18
   123a0:	0009091b          	sext.w	s2,s2
   123a4:	01795c93          	srl	s9,s2,0x17
   123a8:	001cfc93          	and	s9,s9,1
   123ac:	300c98e3          	bnez	s9,12ebc <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x11b8>
   123b0:	02891913          	sll	s2,s2,0x28
   123b4:	02895913          	srl	s2,s2,0x28
   123b8:	3f800cb7          	lui	s9,0x3f800
	return *((float*)&u);
   123bc:	01996933          	or	s2,s2,s9
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   123c0:	260ba707          	flw	fa4,608(s7)
   123c4:	264b2787          	flw	fa5,612(s6)
   123c8:	f00906d3          	fmv.w.x	fa3,s2
   123cc:	78e6f6c3          	fmadd.s	fa3,fa3,fa4,fa5
	float f2 = u24_to_f32(((dw0 >> 48) | (dw1 << 16)) & 0xffffff);
   123d0:	0106991b          	sllw	s2,a3,0x10
   123d4:	0305d593          	srl	a1,a1,0x30
   123d8:	0125e5b3          	or	a1,a1,s2
   123dc:	0005859b          	sext.w	a1,a1
   123e0:	0175d913          	srl	s2,a1,0x17
   123e4:	00197913          	and	s2,s2,1
   123e8:	2c0916e3          	bnez	s2,12eb4 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x11b0>
   123ec:	02859593          	sll	a1,a1,0x28
   123f0:	0285d593          	srl	a1,a1,0x28
   123f4:	3f800937          	lui	s2,0x3f800
	return *((float*)&u);
   123f8:	0125e5b3          	or	a1,a1,s2
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   123fc:	260ba707          	flw	fa4,608(s7)
   12400:	264b2787          	flw	fa5,612(s6)
   12404:	f00583d3          	fmv.w.x	ft7,a1
   12408:	78e3f7c3          	fmadd.s	fa5,ft7,fa4,fa5
	float f3 = u24_to_f32((dw1 >> 8) & 0xffffff);
   1240c:	0086d593          	srl	a1,a3,0x8
   12410:	0005859b          	sext.w	a1,a1
   12414:	0175d913          	srl	s2,a1,0x17
   12418:	00197913          	and	s2,s2,1
   1241c:	280918e3          	bnez	s2,12eac <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x11a8>
   12420:	02859593          	sll	a1,a1,0x28
   12424:	0285d593          	srl	a1,a1,0x28
   12428:	3f800937          	lui	s2,0x3f800
	return *((float*)&u);
   1242c:	0125e5b3          	or	a1,a1,s2
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   12430:	260ba387          	flw	ft7,608(s7)
   12434:	264b2707          	flw	fa4,612(s6)
   12438:	f0058853          	fmv.w.x	fa6,a1
   1243c:	70787743          	fmadd.s	fa4,fa6,ft7,fa4
	float f4 = u24_to_f32((dw1 >> 32) & 0xffffff);
   12440:	4206d593          	sra	a1,a3,0x20
   12444:	0175d913          	srl	s2,a1,0x17
   12448:	00197913          	and	s2,s2,1
   1244c:	21ad03d3          	fmv.s	ft7,fs10
   12450:	02091263          	bnez	s2,12474 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x770>
   12454:	02859593          	sll	a1,a1,0x28
   12458:	0285d593          	srl	a1,a1,0x28
   1245c:	3f800937          	lui	s2,0x3f800
	return *((float*)&u);
   12460:	0125e5b3          	or	a1,a1,s2
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   12464:	260ba387          	flw	ft7,608(s7)
   12468:	264b2807          	flw	fa6,612(s6)
   1246c:	f00588d3          	fmv.w.x	fa7,a1
   12470:	8078f3c3          	fmadd.s	ft7,fa7,ft7,fa6
	float f5 = u24_to_f32(((dw1 >> 56) | (dw2 << 8)) & 0xffffff);
   12474:	0089959b          	sllw	a1,s3,0x8
   12478:	0386d693          	srl	a3,a3,0x38
   1247c:	00b6e6b3          	or	a3,a3,a1
   12480:	0006869b          	sext.w	a3,a3
   12484:	0176d593          	srl	a1,a3,0x17
   12488:	0015f593          	and	a1,a1,1
   1248c:	21ad0853          	fmv.s	fa6,fs10
   12490:	02059663          	bnez	a1,124bc <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x7b8>
   12494:	02869693          	sll	a3,a3,0x28
   12498:	3f8005b7          	lui	a1,0x3f800
   1249c:	0286d693          	srl	a3,a3,0x28
	return *((float*)&u);
   124a0:	00b6e6b3          	or	a3,a3,a1
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   124a4:	0001a637          	lui	a2,0x1a
   124a8:	0001a5b7          	lui	a1,0x1a
   124ac:	26062807          	flw	fa6,608(a2) # 1a260 <__DATA_BEGIN__+0x10>
   124b0:	f00688d3          	fmv.w.x	fa7,a3
   124b4:	2645ae07          	flw	ft8,612(a1) # 1a264 <__DATA_BEGIN__+0x14>
   124b8:	e1187843          	fmadd.s	fa6,fa6,fa7,ft8
	float f6 = u24_to_f32((dw2 >> 16) & 0xffffff);
   124bc:	0109d693          	srl	a3,s3,0x10
   124c0:	0006869b          	sext.w	a3,a3
   124c4:	0176d593          	srl	a1,a3,0x17
   124c8:	0015f593          	and	a1,a1,1
   124cc:	21ad0fd3          	fmv.s	ft11,fs10
   124d0:	02059663          	bnez	a1,124fc <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x7f8>
   124d4:	02869693          	sll	a3,a3,0x28
   124d8:	3f8005b7          	lui	a1,0x3f800
   124dc:	0286d693          	srl	a3,a3,0x28
	return *((float*)&u);
   124e0:	00b6e6b3          	or	a3,a3,a1
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   124e4:	0001a637          	lui	a2,0x1a
   124e8:	0001a5b7          	lui	a1,0x1a
   124ec:	26062887          	flw	fa7,608(a2) # 1a260 <__DATA_BEGIN__+0x10>
   124f0:	f0068e53          	fmv.w.x	ft8,a3
   124f4:	2645ae87          	flw	ft9,612(a1) # 1a264 <__DATA_BEGIN__+0x14>
   124f8:	e9c8ffc3          	fmadd.s	ft11,fa7,ft8,ft9
   124fc:	21ad0453          	fmv.s	fs0,fs10
	float f7 = u24_to_f32((dw2 >> 40) & 0xffffff);
   12500:	0289d693          	srl	a3,s3,0x28
   12504:	0209c263          	bltz	s3,12528 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x824>
   12508:	3f8005b7          	lui	a1,0x3f800
	return *((float*)&u);
   1250c:	00b6e6b3          	or	a3,a3,a1
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   12510:	0001a637          	lui	a2,0x1a
   12514:	0001a5b7          	lui	a1,0x1a
   12518:	26062887          	flw	fa7,608(a2) # 1a260 <__DATA_BEGIN__+0x10>
   1251c:	f0068e53          	fmv.w.x	ft8,a3
   12520:	2645ae87          	flw	ft9,612(a1) # 1a264 <__DATA_BEGIN__+0x14>
   12524:	e9c8f443          	fmadd.s	fs0,fa7,ft8,ft9
	float f8 = u24_to_f32(dw3 & 0xffffff);
   12528:	0007879b          	sext.w	a5,a5
   1252c:	0177d693          	srl	a3,a5,0x17
   12530:	0016f693          	and	a3,a3,1
   12534:	21ad0f53          	fmv.s	ft10,fs10
   12538:	02069663          	bnez	a3,12564 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x860>
   1253c:	02879793          	sll	a5,a5,0x28
   12540:	3f8006b7          	lui	a3,0x3f800
   12544:	0287d793          	srl	a5,a5,0x28
	return *((float*)&u);
   12548:	00d7e7b3          	or	a5,a5,a3
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   1254c:	0001a637          	lui	a2,0x1a
   12550:	0001a6b7          	lui	a3,0x1a
   12554:	2606a887          	flw	fa7,608(a3) # 1a260 <__DATA_BEGIN__+0x10>
   12558:	f0078e53          	fmv.w.x	ft8,a5
   1255c:	26462e87          	flw	ft9,612(a2) # 1a264 <__DATA_BEGIN__+0x14>
   12560:	e9c8ff43          	fmadd.s	ft10,fa7,ft8,ft9
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   12564:	0009fed3          	fadd.s	ft9,fs3,ft0
   12568:	00a4fe53          	fadd.s	ft8,fs1,fa0
   1256c:	0001f053          	fadd.s	ft0,ft3,ft0
   12570:	00b978d3          	fadd.s	fa7,fs2,fa1
   12574:	00a17553          	fadd.s	fa0,ft2,fa0
   12578:	00b0f5d3          	fadd.s	fa1,ft1,fa1
   1257c:	0131f1d3          	fadd.s	ft3,ft3,fs3
   12580:	00917153          	fadd.s	ft2,ft2,fs1
   12584:	0120f0d3          	fadd.s	ft1,ft1,fs2
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   12588:	7190774b          	fnmsub.s	fa4,ft0,fs9,fa4
   1258c:	399573cb          	fnmsub.s	ft7,fa0,fs9,ft7
   12590:	8195f84b          	fnmsub.s	fa6,fa1,fs9,fa6
   12594:	4191744b          	fnmsub.s	fs0,ft2,fs9,fs0
   12598:	f190ff4b          	fnmsub.s	ft10,ft1,fs9,ft10
   1259c:	619ef64b          	fnmsub.s	fa2,ft9,fs9,fa2
   125a0:	699e76cb          	fnmsub.s	fa3,ft8,fs9,fa3
   125a4:	7998f7cb          	fnmsub.s	fa5,fa7,fs9,fa5
   125a8:	f991ffcb          	fnmsub.s	ft11,ft3,fs9,ft11
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   125ac:	1053f3d3          	fmul.s	ft7,ft7,ft5
   125b0:	10467653          	fmul.s	fa2,fa2,ft4
   125b4:	1046f6d3          	fmul.s	fa3,fa3,ft4
   125b8:	1047f7d3          	fmul.s	fa5,fa5,ft4
   125bc:	10587853          	fmul.s	fa6,fa6,ft5
   125c0:	10577753          	fmul.s	fa4,fa4,ft5
   125c4:	10647453          	fmul.s	fs0,fs0,ft6
   125c8:	106f7f53          	fmul.s	ft10,ft10,ft6
   125cc:	106fffd3          	fmul.s	ft11,ft11,ft6
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   125d0:	619ef643          	fmadd.s	fa2,ft9,fs9,fa2
   125d4:	71907743          	fmadd.s	fa4,ft0,fs9,fa4
   125d8:	699e76c3          	fmadd.s	fa3,ft8,fs9,fa3
   125dc:	7998f7c3          	fmadd.s	fa5,fa7,fs9,fa5
   125e0:	39957543          	fmadd.s	fa0,fa0,fs9,ft7
   125e4:	8195f5c3          	fmadd.s	fa1,fa1,fs9,fa6
   125e8:	f991f043          	fmadd.s	ft0,ft3,fs9,ft11
   125ec:	41917143          	fmadd.s	ft2,ft2,fs9,fs0
   125f0:	f190f0c3          	fmadd.s	ft1,ft1,fs9,ft10
   125f4:	02428293          	add	t0,t0,36
   125f8:	20010793          	add	a5,sp,512
		if(next_level == header.last_lod) //leaf node
   125fc:	04013603          	ld	a2,64(sp)
   12600:	005787b3          	add	a5,a5,t0
	e[0] = v[0];
   12604:	00c7a027          	fsw	fa2,0(a5)
	e[1] = v[1];
   12608:	00d7a227          	fsw	fa3,4(a5)
	e[2] = v[2];
   1260c:	00f7a427          	fsw	fa5,8(a5)
	e[0] = v[0];
   12610:	00e7a627          	fsw	fa4,12(a5)
	e[1] = v[1];
   12614:	00a7a827          	fsw	fa0,16(a5)
	e[2] = v[2];
   12618:	00b7aa27          	fsw	fa1,20(a5)
	e[0] = v[0];
   1261c:	0007ac27          	fsw	ft0,24(a5)
	e[1] = v[1];
   12620:	0027ae27          	fsw	ft2,28(a5)
	e[2] = v[2];
   12624:	0217a027          	fsw	ft1,32(a5)
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   12628:	02c12827          	fsw	fa2,48(sp)
   1262c:	02d12a27          	fsw	fa3,52(sp)
   12630:	04f12427          	fsw	fa5,72(sp)
   12634:	02e12227          	fsw	fa4,36(sp)
   12638:	02a12427          	fsw	fa0,40(sp)
   1263c:	02b12627          	fsw	fa1,44(sp)
   12640:	00012827          	fsw	ft0,16(sp)
   12644:	00212a27          	fsw	ft2,20(sp)
   12648:	02112027          	fsw	ft1,32(sp)
		uint32_t next_level = lod + 1;
   1264c:	001e8793          	add	a5,t4,1
		uint32_t first_child_index = node_index << 2; //compute first child idnex
   12650:	002f129b          	sllw	t0,t5,0x2
		uint32_t next_level = lod + 1;
   12654:	001e869b          	addw	a3,t4,1
		uint32_t first_child_index = node_index << 2; //compute first child idnex
   12658:	002f1f13          	sll	t5,t5,0x2
		if(next_level == header.last_lod) //leaf node
   1265c:	54f60c63          	beq	a2,a5,12bb4 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xeb0>
				}
			}
		}
		else //interior node
		{
			tri_stack[lod].child_transformed = (edge_states[0] < 1.0f) || (edge_states[1] < 1.0f) || (edge_states[2] < 1.0f) || ((lod != 0) && tri_stack[lod - 1].child_transformed);
   12660:	a1a215d3          	flt.s	a1,ft4,fs10
   12664:	00100993          	li	s3,1
   12668:	00059e63          	bnez	a1,12684 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x980>
   1266c:	a1a295d3          	flt.s	a1,ft5,fs10
   12670:	00059a63          	bnez	a1,12684 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x980>
   12674:	a1a315d3          	flt.s	a1,ft6,fs10
   12678:	00059663          	bnez	a1,12684 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x980>
   1267c:	00000993          	li	s3,0
   12680:	1c0e90e3          	bnez	t4,13040 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x133c>
   12684:	04c00e93          	li	t4,76
   12688:	03da8eb3          	mul	t4,s5,t4

			uint32_t temp_node_stack_size = node_stack_size;
			uint32_t absolute_first_child_index = lod_node_offset[next_level] + first_child_index;
   1268c:	02069693          	sll	a3,a3,0x20
   12690:	01e6d693          	srl	a3,a3,0x1e
	stack[j] = entry;
   12694:	01a7959b          	sllw	a1,a5,0x1a
			tri_stack[lod].child_transformed = (edge_states[0] < 1.0f) || (edge_states[1] < 1.0f) || (edge_states[2] < 1.0f) || ((lod != 0) && tri_stack[lod - 1].child_transformed);
   12698:	0d010613          	add	a2,sp,208
			uint32_t absolute_first_child_index = lod_node_offset[next_level] + first_child_index;
   1269c:	00d383b3          	add	t2,t2,a3
   126a0:	0003a683          	lw	a3,0(t2)
   126a4:	04000937          	lui	s2,0x4000
   126a8:	fff90913          	add	s2,s2,-1 # 3ffffff <__global_pointer$+0x3fe55af>
   126ac:	00c42107          	flw	ft2,12(s0)
			tri_stack[lod].child_transformed = (edge_states[0] < 1.0f) || (edge_states[1] < 1.0f) || (edge_states[2] < 1.0f) || ((lod != 0) && tri_stack[lod - 1].child_transformed);
   126b0:	3c0e8793          	add	a5,t4,960
   126b4:	00c78eb3          	add	t4,a5,a2
   126b8:	db3e8ca3          	sb	s3,-583(t4)
      if (__b < __a)
   126bc:	01c42587          	flw	fa1,28(s0)
   126c0:	3c000eb7          	lui	t4,0x3c000
			for(uint32_t i = 0; i < 4; ++i)
   126c4:	09412507          	flw	fa0,148(sp)
   126c8:	09812007          	flw	ft0,152(sp)
   126cc:	09c12087          	flw	ft1,156(sp)
   126d0:	012f7db3          	and	s11,t5,s2
   126d4:	01d5f633          	and	a2,a1,t4
			uint32_t absolute_first_child_index = lod_node_offset[next_level] + first_child_index;
   126d8:	00d282bb          	addw	t0,t0,a3
			for(uint32_t i = 0; i < 4; ++i)
   126dc:	03013c23          	sd	a6,56(sp)
   126e0:	07113023          	sd	a7,96(sp)
		const NodeStackEntry current_node_entry = node_stack[--node_stack_size];
   126e4:	00030793          	mv	a5,t1
			for(uint32_t i = 0; i < 4; ++i)
   126e8:	000d8893          	mv	a7,s11
   126ec:	00000693          	li	a3,0
   126f0:	00400c93          	li	s9,4
   126f4:	01c13c23          	sd	t3,24(sp)
   126f8:	00060813          	mv	a6,a2
   126fc:	00030d93          	mv	s11,t1
			{
				TesselationTree1::Node node;
				move_to_stack(node, nodes[absolute_first_child_index + i]);
   12700:	00568abb          	addw	s5,a3,t0
   12704:	020a9613          	sll	a2,s5,0x20
   12708:	01b65a93          	srl	s5,a2,0x1b
		uint64_t r = ((uint64_t*)&src)[i];
   1270c:	01550ab3          	add	s5,a0,s5
   12710:	000ab303          	ld	t1,0(s5)
   12714:	008ab583          	ld	a1,8(s5)
   12718:	010ab603          	ld	a2,16(s5)
	for(uint i = 0; i < sizeof(T) / sizeof(uint64_t); ++i)
   1271c:	00030393          	mv	t2,t1
   12720:	00058f13          	mv	t5,a1
   12724:	00060e93          	mv	t4,a2
   12728:	02035313          	srl	t1,t1,0x20
   1272c:	0205d593          	srl	a1,a1,0x20
   12730:	02065613          	srl	a2,a2,0x20
		uint64_t r = ((uint64_t*)&src)[i];
   12734:	018aba83          	ld	s5,24(s5)

				if(tri_stack[lod].child_transformed)
   12738:	f00387d3          	fmv.w.x	fa5,t2
   1273c:	f0030653          	fmv.w.x	fa2,t1
   12740:	f00f06d3          	fmv.w.x	fa3,t5
   12744:	f00582d3          	fmv.w.x	ft5,a1
   12748:	f00e8253          	fmv.w.x	ft4,t4
   1274c:	f00601d3          	fmv.w.x	ft3,a2
   12750:	3c099c63          	bnez	s3,12b28 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xe24>
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   12754:	0987f7d3          	fsub.s	fa5,fa5,fs8
   12758:	09467653          	fsub.s	fa2,fa2,fs4
   1275c:	0982f2d3          	fsub.s	ft5,ft5,fs8
   12760:	09427253          	fsub.s	ft4,ft4,fs4
   12764:	0956f6d3          	fsub.s	fa3,fa3,fs5
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   12768:	1017f7d3          	fmul.s	fa5,fa5,ft1
   1276c:	10067653          	fmul.s	fa2,fa2,ft0
   12770:	1012f2d3          	fmul.s	ft5,ft5,ft1
   12774:	10027253          	fmul.s	ft4,ft4,ft0
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   12778:	0951f1d3          	fsub.s	ft3,ft3,fs5
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   1277c:	10a6f6d3          	fmul.s	fa3,fa3,fa0
   12780:	28578753          	fmin.s	fa4,fa5,ft5
   12784:	28460353          	fmin.s	ft6,fa2,ft4
	if (tmin > tmax) return ray.t_max;//no hit || behind
   12788:	285797d3          	fmax.s	fa5,fa5,ft5
   1278c:	28461653          	fmax.s	fa2,fa2,ft4
   12790:	10a1f1d3          	fmul.s	ft3,ft3,fa0
	float tmin = std::max(std::max(tminv.x, tminv.y), std::max(tminv.z, ray.t_min));
   12794:	28671753          	fmax.s	fa4,fa4,ft6
	if (tmin > tmax) return ray.t_max;//no hit || behind
   12798:	28c787d3          	fmin.s	fa5,fa5,fa2
   1279c:	28271753          	fmax.s	fa4,fa4,ft2
   127a0:	28368653          	fmin.s	fa2,fa3,ft3
   127a4:	28b787d3          	fmin.s	fa5,fa5,fa1
   127a8:	283696d3          	fmax.s	fa3,fa3,ft3
   127ac:	28c71753          	fmax.s	fa4,fa4,fa2
   127b0:	28d787d3          	fmin.s	fa5,fa5,fa3
   127b4:	a0e79653          	flt.s	a2,fa5,fa4
   127b8:	00060463          	beqz	a2,127c0 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xabc>
   127bc:	20b58753          	fmv.s	fa4,fa1
				new_entry.t = intersect(node.aabb, ray, inv_d);
				new_entry.node_index = first_child_index + i;
				new_entry.lod = next_level;
				new_entry.tri_type = i;
				new_entry.dbs = node.dbs;
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++, temp_node_stack_size);
   127c0:	a1671653          	flt.s	a2,fa4,fs6
   127c4:	12061863          	bnez	a2,128f4 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xbf0>
			for(uint32_t i = 0; i < 4; ++i)
   127c8:	00168693          	add	a3,a3,1
   127cc:	f3969ae3          	bne	a3,s9,12700 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x9fc>
   127d0:	03813803          	ld	a6,56(sp)
   127d4:	06013883          	ld	a7,96(sp)
   127d8:	00078e13          	mv	t3,a5
			}
		}
	} while(node_stack_size);
   127dc:	fa0e1c63          	bnez	t3,11f94 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x290>

	//if we found a hit convert barycentric coords to max lod
	if(hit_lod != ~0u)
   127e0:	fff00793          	li	a5,-1
   127e4:	0c813703          	ld	a4,200(sp)
   127e8:	04013603          	ld	a2,64(sp)
   127ec:	08f88a63          	beq	a7,a5,12880 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xb7c>
	{
	#if 1
		for(uint32_t i = hit_lod; i <  header.last_lod; ++i)
   127f0:	00c4a783          	lw	a5,12(s1)
   127f4:	08c8f063          	bgeu	a7,a2,12874 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xb70>
		{
			uint32_t tri_type;
			hit.bc *= glm::vec2(2.0f);

			if(hit.bc.x > 1.0f)
   127f8:	0001a6b7          	lui	a3,0x1a
   127fc:	0084a707          	flw	fa4,8(s1)
   12800:	0044a787          	flw	fa5,4(s1)
   12804:	2686a587          	flw	fa1,616(a3) # 1a268 <__DATA_BEGIN__+0x18>
			else if(hit.bc.y > 1.0f)
			{
				tri_type = 1;
				hit.bc -= glm::vec2(0.0f, 1.0f);
			}
			else if(hit.bc.x + hit.bc.y < 1.0f)
   12808:	258c2507          	flw	fa0,600(s8)
		for(uint32_t i = hit_lod; i <  header.last_lod; ++i)
   1280c:	00088593          	mv	a1,a7
   12810:	0240006f          	j	12834 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xb30>
	e[0] -= v[0];
   12814:	08a677d3          	fsub.s	fa5,fa2,fa0
	e[1] *= v.e[1];
   12818:	20d68753          	fmv.s	fa4,fa3
				tri_type = 0;
   1281c:	00000693          	li	a3,0
			{
				tri_type = 3;
				hit.bc = glm::vec2(1.0f, 1.0f) - hit.bc;
			}

			hit.id <<= 2;
   12820:	0027979b          	sllw	a5,a5,0x2
			hit.id |= tri_type;
   12824:	00f6e6b3          	or	a3,a3,a5
		for(uint32_t i = hit_lod; i <  header.last_lod; ++i)
   12828:	0015859b          	addw	a1,a1,1
			hit.id |= tri_type;
   1282c:	0006879b          	sext.w	a5,a3
		for(uint32_t i = hit_lod; i <  header.last_lod; ++i)
   12830:	02b60e63          	beq	a2,a1,1286c <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xb68>
			if(hit.bc.x > 1.0f)
   12834:	a0f596d3          	flt.s	a3,fa1,fa5
	e[0] *= v.e[0];
   12838:	00f7f653          	fadd.s	fa2,fa5,fa5
	e[1] *= v.e[1];
   1283c:	00e776d3          	fadd.s	fa3,fa4,fa4
			else if(hit.bc.y > 1.0f)
   12840:	a0e59553          	flt.s	a0,fa1,fa4
			if(hit.bc.x > 1.0f)
   12844:	fc0698e3          	bnez	a3,12814 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xb10>
			else if(hit.bc.y > 1.0f)
   12848:	70050663          	beqz	a0,12f54 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1250>
			hit.id <<= 2;
   1284c:	0027979b          	sllw	a5,a5,0x2
				tri_type = 1;
   12850:	00100693          	li	a3,1
			hit.id |= tri_type;
   12854:	00f6e6b3          	or	a3,a3,a5
		for(uint32_t i = hit_lod; i <  header.last_lod; ++i)
   12858:	0015859b          	addw	a1,a1,1
	e[1] -= v[1];
   1285c:	08a6f753          	fsub.s	fa4,fa3,fa0
	e[0] *= v.e[0];
   12860:	20c607d3          	fmv.s	fa5,fa2
			hit.id |= tri_type;
   12864:	0006879b          	sext.w	a5,a3
		for(uint32_t i = hit_lod; i <  header.last_lod; ++i)
   12868:	fcb616e3          	bne	a2,a1,12834 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xb30>
   1286c:	00e4a427          	fsw	fa4,8(s1)
   12870:	00f4a227          	fsw	fa5,4(s1)
		}
	#endif
		hit.id += header.id_offset;
   12874:	01872703          	lw	a4,24(a4)
   12878:	00f707bb          	addw	a5,a4,a5
   1287c:	00f4a623          	sw	a5,12(s1)
	}

	return hit_lod != ~0u;
   12880:	52813083          	ld	ra,1320(sp)
   12884:	52013403          	ld	s0,1312(sp)
	return hit_lod != ~0u;
   12888:	00188513          	add	a0,a7,1
   1288c:	51813483          	ld	s1,1304(sp)
   12890:	51013903          	ld	s2,1296(sp)
   12894:	50813983          	ld	s3,1288(sp)
   12898:	50013a03          	ld	s4,1280(sp)
   1289c:	4f813a83          	ld	s5,1272(sp)
   128a0:	4f013b03          	ld	s6,1264(sp)
   128a4:	4e813b83          	ld	s7,1256(sp)
   128a8:	4e013c03          	ld	s8,1248(sp)
   128ac:	4d813c83          	ld	s9,1240(sp)
   128b0:	4d013d03          	ld	s10,1232(sp)
   128b4:	4c813d83          	ld	s11,1224(sp)
   128b8:	4bc12407          	flw	fs0,1212(sp)
   128bc:	4b812487          	flw	fs1,1208(sp)
   128c0:	4b412907          	flw	fs2,1204(sp)
   128c4:	4b012987          	flw	fs3,1200(sp)
   128c8:	4ac12a07          	flw	fs4,1196(sp)
   128cc:	4a812a87          	flw	fs5,1192(sp)
   128d0:	4a412b07          	flw	fs6,1188(sp)
   128d4:	4a012b87          	flw	fs7,1184(sp)
   128d8:	49c12c07          	flw	fs8,1180(sp)
   128dc:	49812c87          	flw	fs9,1176(sp)
   128e0:	49412d07          	flw	fs10,1172(sp)
   128e4:	49012d87          	flw	fs11,1168(sp)
	return hit_lod != ~0u;
   128e8:	00a03533          	snez	a0,a0
   128ec:	53010113          	add	sp,sp,1328
   128f0:	00008067          	ret
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++, temp_node_stack_size);
   128f4:	0017831b          	addw	t1,a5,1
	for(; j != min; --j)
   128f8:	00fd88e3          	beq	s11,a5,13108 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1404>
   128fc:	01813e03          	ld	t3,24(sp)
   12900:	0200006f          	j	12920 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xc1c>
		stack[j] = stack[j - 1];
   12904:	00062e83          	lw	t4,0(a2)
   12908:	01d5a023          	sw	t4,0(a1)
   1290c:	00462e83          	lw	t4,4(a2)
   12910:	01d5a223          	sw	t4,4(a1)
   12914:	00862e83          	lw	t4,8(a2)
   12918:	01d5a423          	sw	t4,8(a1)
	for(; j != min; --j)
   1291c:	5bee0863          	beq	t3,t5,12ecc <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x11c8>
		if(stack[j - 1].t >= entry.t) break;
   12920:	fff78e9b          	addw	t4,a5,-1
   12924:	020e9593          	sll	a1,t4,0x20
   12928:	0205d593          	srl	a1,a1,0x20
   1292c:	00159613          	sll	a2,a1,0x1
   12930:	00b60633          	add	a2,a2,a1
   12934:	00261613          	sll	a2,a2,0x2
   12938:	0e010593          	add	a1,sp,224
   1293c:	00c58633          	add	a2,a1,a2
   12940:	00062787          	flw	fa5,0(a2)
   12944:	00078f1b          	sext.w	t5,a5
		stack[j] = stack[j - 1];
   12948:	020f1793          	sll	a5,t5,0x20
   1294c:	0207d793          	srl	a5,a5,0x20
   12950:	00179593          	sll	a1,a5,0x1
		if(stack[j - 1].t >= entry.t) break;
   12954:	a0f703d3          	fle.s	t2,fa4,fa5
		stack[j] = stack[j - 1];
   12958:	00f585b3          	add	a1,a1,a5
   1295c:	00259593          	sll	a1,a1,0x2
   12960:	0e010793          	add	a5,sp,224
   12964:	00b785b3          	add	a1,a5,a1
		if(stack[j - 1].t >= entry.t) break;
   12968:	000e879b          	sext.w	a5,t4
   1296c:	f8038ce3          	beqz	t2,12904 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xc00>
   12970:	01c13c23          	sd	t3,24(sp)
	stack[j] = entry;
   12974:	0126f7b3          	and	a5,a3,s2
   12978:	00f887bb          	addw	a5,a7,a5
   1297c:	0127f7b3          	and	a5,a5,s2
   12980:	00f867b3          	or	a5,a6,a5
   12984:	01e6961b          	sllw	a2,a3,0x1e
   12988:	00c7e7b3          	or	a5,a5,a2
   1298c:	00f5a223          	sw	a5,4(a1)
   12990:	00e5a027          	fsw	fa4,0(a1)
   12994:	0155a423          	sw	s5,8(a1)
   12998:	00030793          	mv	a5,t1
}
   1299c:	e2dff06f          	j	127c8 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xac4>
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   129a0:	0839f6d3          	fsub.s	fa3,fs3,ft3
   129a4:	0815f2d3          	fsub.s	ft5,fa1,ft1
   129a8:	08197653          	fsub.s	fa2,fs2,ft1
   129ac:	082573d3          	fsub.s	ft7,fa0,ft2
   129b0:	08307253          	fsub.s	ft4,ft0,ft3
   129b4:	09307853          	fsub.s	fa6,ft0,fs3
		(-(a[0] * b[2] - a[2] * b[0])),
   129b8:	1056f753          	fmul.s	fa4,fa3,ft5
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   129bc:	0801f8d3          	fsub.s	fa7,ft3,ft0
		(-(a[0] * b[2] - a[2] * b[0])),
   129c0:	03012987          	flw	fs3,48(sp)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   129c4:	0824f053          	fsub.s	ft0,fs1,ft2
	return vec3(a[1] * b[2] - a[2] * b[1],
   129c8:	107671d3          	fmul.s	ft3,fa2,ft7
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   129cc:	0925f953          	fsub.s	fs2,fa1,fs2
	return vec3(a[1] * b[2] - a[2] * b[1],
   129d0:	70467ec7          	fmsub.s	ft9,fa2,ft4,fa4
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   129d4:	08b0f5d3          	fsub.s	fa1,ft1,fa1
		(-(a[0] * b[2] - a[2] * b[0])),
   129d8:	1109f753          	fmul.s	fa4,fs3,fa6
   129dc:	02c12087          	flw	ft1,44(sp)
	return vec3(a[1] * b[2] - a[2] * b[1],
   129e0:	18507f47          	fmsub.s	ft10,ft0,ft5,ft3
   129e4:	02012287          	flw	ft5,32(sp)
		(-(a[0] * b[2] - a[2] * b[0])),
   129e8:	1110f353          	fmul.s	ft6,ft1,fa7
	return vec3(a[1] * b[2] - a[2] * b[1],
   129ec:	02412f87          	flw	ft11,36(sp)
   129f0:	7122f747          	fmsub.s	fa4,ft5,fs2,fa4
   129f4:	02812287          	flw	ft5,40(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   129f8:	00812e07          	flw	ft8,8(sp)
		(-(a[0] * b[2] - a[2] * b[0])),
   129fc:	10dbf0d3          	fmul.s	ft1,fs7,fa3
	return vec3(a[1] * b[2] - a[2] * b[1],
   12a00:	10b2f2d3          	fmul.s	ft5,ft5,fa1
   12a04:	30bff5c7          	fmsub.s	fa1,ft11,fa1,ft6
   12a08:	01412307          	flw	ft6,20(sp)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   12a0c:	089574d3          	fsub.s	fs1,fa0,fs1
		a[0] * b[1] - a[1] * b[0]);
   12a10:	10407253          	fmul.s	ft4,ft0,ft4
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   12a14:	08a17553          	fsub.s	fa0,ft2,fa0
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12a18:	11de71d3          	fmul.s	ft3,ft8,ft9
	return vec3(a[1] * b[2] - a[2] * b[1],
   12a1c:	01812107          	flw	ft2,24(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12a20:	00c12f87          	flw	ft11,12(sp)
	return vec3(a[1] * b[2] - a[2] * b[1],
   12a24:	10c37353          	fmul.s	ft6,ft6,fa2
   12a28:	08c47647          	fmsub.s	fa2,fs0,fa2,ft1
   12a2c:	02c12087          	flw	ft1,44(sp)
   12a30:	11217153          	fmul.s	ft2,ft2,fs2
   12a34:	2076f247          	fmsub.s	ft4,fa3,ft7,ft4
   12a38:	28a0f0c7          	fmsub.s	ft1,ft1,fa0,ft5
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12a3c:	10be75d3          	fmul.s	fa1,ft8,fa1
		a[0] * b[1] - a[1] * b[0]);
   12a40:	02412287          	flw	ft5,36(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12a44:	19eff1c3          	fmadd.s	ft3,ft11,ft10,ft3
		a[0] * b[1] - a[1] * b[0]);
   12a48:	02012907          	flw	fs2,32(sp)
	return vec3(a[1] * b[2] - a[2] * b[1],
   12a4c:	1099f3c7          	fmsub.s	ft7,fs3,fs1,ft2
		a[0] * b[1] - a[1] * b[0]);
   12a50:	10a2f553          	fmul.s	fa0,ft5,fa0
	return vec3(a[1] * b[2] - a[2] * b[1],
   12a54:	300bf347          	fmsub.s	ft6,fs7,ft0,ft6
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12a58:	10ce7653          	fmul.s	fa2,ft8,fa2
		a[0] * b[1] - a[1] * b[0]);
   12a5c:	109974d3          	fmul.s	fs1,fs2,fs1
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12a60:	10ee7753          	fmul.s	fa4,ft8,fa4
		a[0] * b[1] - a[1] * b[0]);
   12a64:	10047053          	fmul.s	ft0,fs0,ft0
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12a68:	581ff0c3          	fmadd.s	ft1,ft11,ft1,fa1
   12a6c:	184df1c3          	fmadd.s	ft3,fs11,ft4,ft3
	return vec3(a[1] * b[2] - a[2] * b[1],
   12a70:	01412587          	flw	fa1,20(sp)
   12a74:	01812107          	flw	ft2,24(sp)
   12a78:	02812287          	flw	ft5,40(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12a7c:	707ff743          	fmadd.s	fa4,ft11,ft7,fa4
	return vec3(a[1] * b[2] - a[2] * b[1],
   12a80:	00d5f6c7          	fmsub.s	fa3,fa1,fa3,ft0
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12a84:	606ff343          	fmadd.s	ft6,ft11,ft6,fa2
	return vec3(a[1] * b[2] - a[2] * b[1],
   12a88:	49017147          	fmsub.s	ft2,ft2,fa6,fs1
   12a8c:	5112f547          	fmsub.s	fa0,ft5,fa7,fa0
	if(gn_dot_d > 0.0f) bc = -bc;
   12a90:	a03797d3          	flt.s	a5,fa5,ft3
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12a94:	702df5c3          	fmadd.s	fa1,fs11,ft2,fa4
   12a98:	08adf643          	fmadd.s	fa2,fs11,fa0,ft1
   12a9c:	30ddf743          	fmadd.s	fa4,fs11,fa3,ft6
   12aa0:	00078863          	beqz	a5,12ab0 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xdac>
	inline vec3 operator-() const { return vec3(-e[0], -e[1], -e[2]); }
   12aa4:	20b595d3          	fneg.s	fa1,fa1
   12aa8:	20c61653          	fneg.s	fa2,fa2
   12aac:	20e71753          	fneg.s	fa4,fa4
	if(bc[0] < 0.0f || bc[1] < 0.0f || bc[2] < 0.0f) return false;
   12ab0:	f00007d3          	fmv.w.x	fa5,zero
   12ab4:	a0f597d3          	flt.s	a5,fa1,fa5
   12ab8:	06079263          	bnez	a5,12b1c <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xe18>
   12abc:	a0f617d3          	flt.s	a5,fa2,fa5
   12ac0:	04079e63          	bnez	a5,12b1c <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xe18>
   12ac4:	a0f717d3          	flt.s	a5,fa4,fa5
   12ac8:	04079a63          	bnez	a5,12b1c <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xe18>
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12acc:	01412787          	flw	fa5,20(sp)
	if(t < ray.t_min || t > hit.t) return false;
   12ad0:	00c42687          	flw	fa3,12(s0)
   12ad4:	11d7fe53          	fmul.s	ft8,fa5,ft9
   12ad8:	e1e47443          	fmadd.s	fs0,fs0,ft10,ft8
   12adc:	404bf7c3          	fmadd.s	fa5,fs7,ft4,fs0
	float t = rtm::dot(gn, tri.vrts[0] - ray.o) / gn_dot_d;
   12ae0:	1837f7d3          	fdiv.s	fa5,fa5,ft3
	if(t < ray.t_min || t > hit.t) return false;
   12ae4:	a0d797d3          	flt.s	a5,fa5,fa3
   12ae8:	02079a63          	bnez	a5,12b1c <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xe18>
   12aec:	a0fb17d3          	flt.s	a5,fs6,fa5
   12af0:	02079663          	bnez	a5,12b1c <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xe18>
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   12af4:	00c5f6d3          	fadd.s	fa3,fa1,fa2
	hit.t = t ;
   12af8:	00f4a027          	fsw	fa5,0(s1)
				hit.id = node_index;
   12afc:	01e4a623          	sw	t5,12(s1)
				hit.patch_index = patch_index;
   12b00:	0144a823          	sw	s4,16(s1)
		uint32_t lod = current_node_entry.lod;
   12b04:	000e8893          	mv	a7,t4
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   12b08:	00e6f753          	fadd.s	fa4,fa3,fa4
	return vec2(a.e[0] / b.e[0], a.e[1] / b.e[1]);
   12b0c:	18e5f7d3          	fdiv.s	fa5,fa1,fa4
   12b10:	18e67653          	fdiv.s	fa2,fa2,fa4
	e[0] = v[0];
   12b14:	00f4a227          	fsw	fa5,4(s1)
	e[1] = v[1];
   12b18:	00c4a427          	fsw	fa2,8(s1)
		const NodeStackEntry current_node_entry = node_stack[--node_stack_size];
   12b1c:	00030e13          	mv	t3,t1
	} while(node_stack_size);
   12b20:	c60e1a63          	bnez	t3,11f94 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x290>
   12b24:	cbdff06f          	j	127e0 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xadc>
	if(tri_type == 0) return Triangle(prnt_tri.vrts[0], cntr_tri.vrts[2], cntr_tri.vrts[1]);
   12b28:	3a069863          	bnez	a3,12ed8 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x11d4>
	inline float operator[](int i) const { return e[i]; }
   12b2c:	00072807          	flw	fa6,0(a4)
   12b30:	00472e07          	flw	ft8,4(a4)
   12b34:	00872887          	flw	fa7,8(a4)
	e[2] = v[2];
   12b38:	02c12307          	flw	ft6,44(sp)
	e[1] = v[1];
   12b3c:	02812387          	flw	ft7,40(sp)
	e[0] = v[0];
   12b40:	02412207          	flw	ft4,36(sp)
	e[2] = v[2];
   12b44:	02012707          	flw	fa4,32(sp)
	e[1] = v[1];
   12b48:	01412187          	flw	ft3,20(sp)
	e[0] = v[0];
   12b4c:	01012287          	flw	ft5,16(sp)
	return v / length(v);
}

inline vec3 min(const vec3& a, const vec3& b)
{
	return vec3(std::min(a[0], b[0]), std::min(a[1], b[1]), std::min(a[2], b[2]));
   12b50:	285207d3          	fmin.s	fa5,ft4,ft5
   12b54:	29c18653          	fmin.s	fa2,ft3,ft8
   12b58:	291706d3          	fmin.s	fa3,fa4,fa7
   12b5c:	285212d3          	fmax.s	ft5,ft4,ft5
   12b60:	29c19253          	fmax.s	ft4,ft3,ft8
   12b64:	291711d3          	fmax.s	ft3,fa4,fa7
   12b68:	f0038753          	fmv.w.x	fa4,t2
   12b6c:	28e787d3          	fmin.s	fa5,fa5,fa4
   12b70:	f0030753          	fmv.w.x	fa4,t1
   12b74:	290787d3          	fmin.s	fa5,fa5,fa6
   12b78:	28e60653          	fmin.s	fa2,fa2,fa4
   12b7c:	f00f0753          	fmv.w.x	fa4,t5
   12b80:	28760653          	fmin.s	fa2,fa2,ft7
   12b84:	28e686d3          	fmin.s	fa3,fa3,fa4
   12b88:	f0058753          	fmv.w.x	fa4,a1
   12b8c:	286686d3          	fmin.s	fa3,fa3,ft6
}

inline vec3 max(const vec3& a, const vec3& b)
{
	return vec3(std::max(a[0], b[0]), std::max(a[1], b[1]), std::max(a[2], b[2]));
   12b90:	28e292d3          	fmax.s	ft5,ft5,fa4
   12b94:	f00e8753          	fmv.w.x	fa4,t4
   12b98:	290292d3          	fmax.s	ft5,ft5,fa6
   12b9c:	28e21253          	fmax.s	ft4,ft4,fa4
   12ba0:	f0060753          	fmv.w.x	fa4,a2
   12ba4:	28721253          	fmax.s	ft4,ft4,ft7
   12ba8:	28e191d3          	fmax.s	ft3,ft3,fa4
   12bac:	286191d3          	fmax.s	ft3,ft3,ft6
					for(uint32_t j = 0; j < 3; ++j)
   12bb0:	ba5ff06f          	j	12754 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xa50>
   12bb4:	20a50bd3          	fmv.s	fs7,fa0
	e[0] = v[0];
   12bb8:	20e70153          	fmv.s	ft2,fa4
	inline float operator[](int i) const { return e[i]; }
   12bbc:	00072507          	flw	fa0,0(a4)
	e[2] = v[2];
   12bc0:	20108753          	fmv.s	fa4,ft1
	inline float operator[](int i) const { return e[i]; }
   12bc4:	00472607          	flw	fa2,4(a4)
   12bc8:	00872787          	flw	fa5,8(a4)
	e[2] = v[2];
   12bcc:	20b58fd3          	fmv.s	ft11,fa1
	e[1] = v[1];
   12bd0:	01412087          	flw	ft1,20(sp)
	e[0] = v[0];
   12bd4:	20000853          	fmv.s	fa6,ft0
	if(gn_dot_d > 0.0f) bc = -bc;
   12bd8:	f0000453          	fmv.w.x	fs0,zero
			for(uint32_t i = 0; i < 4; ++i)
   12bdc:	00000693          	li	a3,0
   12be0:	00400e13          	li	t3,4
	else if(tri_type == 1) return Triangle(cntr_tri.vrts[2], prnt_tri.vrts[1], cntr_tri.vrts[0]);
   12be4:	00100e93          	li	t4,1
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   12be8:	08a876d3          	fsub.s	fa3,fa6,fa0
   12bec:	08fff953          	fsub.s	fs2,ft11,fa5
   12bf0:	08f77053          	fsub.s	ft0,fa4,fa5
   12bf4:	08cbf4d3          	fsub.s	fs1,fs7,fa2
   12bf8:	08a171d3          	fsub.s	ft3,ft2,fa0
   12bfc:	09017ed3          	fsub.s	ft9,ft2,fa6
		(-(a[0] * b[2] - a[2] * b[0])),
   12c00:	1126f353          	fmul.s	ft6,fa3,fs2
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   12c04:	09577253          	fsub.s	ft4,fa4,fs5
   12c08:	08c0f2d3          	fsub.s	ft5,ft1,fa2
	return vec3(a[1] * b[2] - a[2] * b[1],
   12c0c:	10907b53          	fmul.s	fs6,ft0,fs1
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   12c10:	082579d3          	fsub.s	fs3,fa0,ft2
	return vec3(a[1] * b[2] - a[2] * b[1],
   12c14:	30307347          	fmsub.s	ft6,ft0,ft3,ft6
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   12c18:	08eff753          	fsub.s	fa4,ft11,fa4
   12c1c:	095fff53          	fsub.s	ft10,ft11,fs5
   12c20:	0957f8d3          	fsub.s	fa7,fa5,fs5
	return vec3(a[1] * b[2] - a[2] * b[1],
   12c24:	104ef5d3          	fmul.s	fa1,ft9,ft4
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   12c28:	09887853          	fsub.s	fa6,fa6,fs8
   12c2c:	0940fe53          	fsub.s	ft8,ft1,fs4
	return vec3(a[1] * b[2] - a[2] * b[1],
   12c30:	b122fb47          	fmsub.s	fs6,ft5,fs2,fs6
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12c34:	00812907          	flw	fs2,8(sp)
		a[0] * b[1] - a[1] * b[0]);
   12c38:	1032f1d3          	fmul.s	ft3,ft5,ft3
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   12c3c:	09f7f7d3          	fsub.s	fa5,fa5,ft11
   12c40:	094673d3          	fsub.s	ft7,fa2,fs4
   12c44:	094bffd3          	fsub.s	ft11,fs7,fs4
   12c48:	09817153          	fsub.s	ft2,ft2,fs8
   12c4c:	09857553          	fsub.s	fa0,fa0,fs8
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12c50:	10697953          	fmul.s	fs2,fs2,ft6
		(-(a[0] * b[2] - a[2] * b[0])),
   12c54:	01312c27          	fsw	fs3,24(sp)
	return vec3(a[1] * b[2] - a[2] * b[1],
   12c58:	02612c27          	fsw	ft6,56(sp)
		(-(a[0] * b[2] - a[2] * b[0])),
   12c5c:	11e9f9d3          	fmul.s	fs3,fs3,ft10
	return vec3(a[1] * b[2] - a[2] * b[1],
   12c60:	59077347          	fmsub.s	ft6,fa4,fa6,fa1
   12c64:	1116f5d3          	fmul.s	fa1,fa3,fa7
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   12c68:	081bf0d3          	fsub.s	ft1,fs7,ft1
   12c6c:	09767bd3          	fsub.s	fs7,fa2,fs7
	return vec3(a[1] * b[2] - a[2] * b[1],
   12c70:	11c77653          	fmul.s	fa2,fa4,ft8
   12c74:	1896f1c7          	fmsub.s	ft3,fa3,fs1,ft3
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12c78:	00c12487          	flw	fs1,12(sp)
	return vec3(a[1] * b[2] - a[2] * b[1],
   12c7c:	11f7f753          	fmul.s	fa4,fa5,ft11
   12c80:	9827f7c7          	fmsub.s	fa5,fa5,ft2,fs3
   12c84:	107079d3          	fmul.s	fs3,ft0,ft7
   12c88:	58a07047          	fmsub.s	ft0,ft0,fa0,fa1
   12c8c:	6040f247          	fmsub.s	ft4,ft1,ft4,fa2
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12c90:	9164f943          	fmadd.s	fs2,fs1,fs6,fs2
   12c94:	00812607          	flw	fa2,8(sp)
	return vec3(a[1] * b[2] - a[2] * b[1],
   12c98:	71ebf747          	fmsub.s	fa4,fs7,ft10,fa4
   12c9c:	9912f9c7          	fmsub.s	fs3,ft5,fa7,fs3
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12ca0:	10667353          	fmul.s	ft6,fa2,ft6
   12ca4:	10f677d3          	fmul.s	fa5,fa2,fa5
   12ca8:	10067053          	fmul.s	ft0,fa2,ft0
		a[0] * b[1] - a[1] * b[0]);
   12cac:	1100f0d3          	fmul.s	ft1,ft1,fa6
   12cb0:	102bfbd3          	fmul.s	fs7,fs7,ft2
   12cb4:	10a2f2d3          	fmul.s	ft5,ft5,fa0
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12cb8:	903df943          	fmadd.s	fs2,fs11,ft3,fs2
	return vec3(a[1] * b[2] - a[2] * b[1],
   12cbc:	01812607          	flw	fa2,24(sp)
   12cc0:	09cef0c7          	fmsub.s	ft1,ft9,ft8,ft1
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12cc4:	3044f243          	fmadd.s	ft4,fs1,ft4,ft6
	return vec3(a[1] * b[2] - a[2] * b[1],
   12cc8:	b9f675c7          	fmsub.s	fa1,fa2,ft11,fs7
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12ccc:	78e4f743          	fmadd.s	fa4,fs1,fa4,fa5
	return vec3(a[1] * b[2] - a[2] * b[1],
   12cd0:	2876f6c7          	fmsub.s	fa3,fa3,ft7,ft5
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12cd4:	0134f9c3          	fmadd.s	fs3,fs1,fs3,ft0
   12cd8:	a1241653          	flt.s	a2,fs0,fs2
   12cdc:	201df0c3          	fmadd.s	ft1,fs11,ft1,ft4
   12ce0:	70bdf5c3          	fmadd.s	fa1,fs11,fa1,fa4
   12ce4:	98ddf6c3          	fmadd.s	fa3,fs11,fa3,fs3
   12ce8:	00060863          	beqz	a2,12cf8 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xff4>
	inline vec3 operator-() const { return vec3(-e[0], -e[1], -e[2]); }
   12cec:	201090d3          	fneg.s	ft1,ft1
   12cf0:	20b595d3          	fneg.s	fa1,fa1
   12cf4:	20d696d3          	fneg.s	fa3,fa3
	if(bc[0] < 0.0f || bc[1] < 0.0f || bc[2] < 0.0f) return false;
   12cf8:	a0809653          	flt.s	a2,ft1,fs0
   12cfc:	06061663          	bnez	a2,12d68 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1064>
   12d00:	a0859653          	flt.s	a2,fa1,fs0
   12d04:	06061263          	bnez	a2,12d68 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1064>
   12d08:	a0869653          	flt.s	a2,fa3,fs0
   12d0c:	04061e63          	bnez	a2,12d68 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1064>
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   12d10:	03812787          	flw	fa5,56(sp)
	if(t < ray.t_min || t > hit.t) return false;
   12d14:	00c42707          	flw	fa4,12(s0)
   12d18:	10f3f3d3          	fmul.s	ft7,ft7,fa5
   12d1c:	39657543          	fmadd.s	fa0,fa0,fs6,ft7
   12d20:	5038f7c3          	fmadd.s	fa5,fa7,ft3,fa0
	float t = rtm::dot(gn, tri.vrts[0] - ray.o) / gn_dot_d;
   12d24:	1927f7d3          	fdiv.s	fa5,fa5,fs2
	if(t < ray.t_min || t > hit.t) return false;
   12d28:	a0e79653          	flt.s	a2,fa5,fa4
   12d2c:	02061e63          	bnez	a2,12d68 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1064>
   12d30:	0004a707          	flw	fa4,0(s1)
   12d34:	a0f71653          	flt.s	a2,fa4,fa5
   12d38:	02061863          	bnez	a2,12d68 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1064>
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   12d3c:	00b0f753          	fadd.s	fa4,ft1,fa1
	hit.t = t ;
   12d40:	00f4a027          	fsw	fa5,0(s1)
					hit.id = first_child_index + i;
   12d44:	00df063b          	addw	a2,t5,a3
   12d48:	00c4a623          	sw	a2,12(s1)
					hit.patch_index = patch_index;
   12d4c:	0144a823          	sw	s4,16(s1)
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   12d50:	00d777d3          	fadd.s	fa5,fa4,fa3
	e[0] = v[0];
   12d54:	00078893          	mv	a7,a5
	return vec2(a.e[0] / b.e[0], a.e[1] / b.e[1]);
   12d58:	18f0f0d3          	fdiv.s	ft1,ft1,fa5
   12d5c:	18f5f5d3          	fdiv.s	fa1,fa1,fa5
	e[0] = v[0];
   12d60:	0014a227          	fsw	ft1,4(s1)
	e[1] = v[1];
   12d64:	00b4a427          	fsw	fa1,8(s1)
			for(uint32_t i = 0; i < 4; ++i)
   12d68:	0016869b          	addw	a3,a3,1
   12d6c:	1dc68e63          	beq	a3,t3,12f48 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1244>
   12d70:	21d68463          	beq	a3,t4,12f78 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1274>
	else if(tri_type == 2) return Triangle(cntr_tri.vrts[1], cntr_tri.vrts[0], prnt_tri.vrts[2]);
   12d74:	00200613          	li	a2,2
   12d78:	24c68463          	beq	a3,a2,12fc0 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x12bc>
	e[2] = v[2];
   12d7c:	02012f87          	flw	ft11,32(sp)
	e[1] = v[1];
   12d80:	01412b87          	flw	fs7,20(sp)
	e[0] = v[0];
   12d84:	01012107          	flw	ft2,16(sp)
	e[2] = v[2];
   12d88:	02c12707          	flw	fa4,44(sp)
	e[1] = v[1];
   12d8c:	02812087          	flw	ft1,40(sp)
	e[0] = v[0];
   12d90:	02412807          	flw	fa6,36(sp)
	e[2] = v[2];
   12d94:	04812787          	flw	fa5,72(sp)
	e[1] = v[1];
   12d98:	03412607          	flw	fa2,52(sp)
	e[0] = v[0];
   12d9c:	03012507          	flw	fa0,48(sp)
	Triangle(const rtm::vec3& v0, const rtm::vec3& v1, const rtm::vec3& v2)
	{
		this->vrts[0] = v0;
		this->vrts[1] = v1;
		this->vrts[2] = v2;
	}
   12da0:	00300693          	li	a3,3
   12da4:	e45ff06f          	j	12be8 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xee4>
			tri_stack[lod].tri = reconstruct_triangle(tri_stack[lod - 1u].tri, tri_stack[lod - 1u].new_center_tri, tri_type);
   12da8:	fffe891b          	addw	s2,t4,-1 # 3bffffff <__global_pointer$+0x3bfe55af>
   12dac:	02091913          	sll	s2,s2,0x20
   12db0:	02095913          	srl	s2,s2,0x20
   12db4:	02b905b3          	mul	a1,s2,a1
   12db8:	20010613          	add	a2,sp,512
		uint32_t tri_type = current_node_entry.tri_type;
   12dbc:	0006899b          	sext.w	s3,a3
			tri_stack[lod].tri = reconstruct_triangle(tri_stack[lod - 1u].tri, tri_stack[lod - 1u].new_center_tri, tri_type);
   12dc0:	02458393          	add	t2,a1,36
   12dc4:	007603b3          	add	t2,a2,t2
   12dc8:	00b605b3          	add	a1,a2,a1
	if(tri_type == 0) return Triangle(prnt_tri.vrts[0], cntr_tri.vrts[2], cntr_tri.vrts[1]);
   12dcc:	14069263          	bnez	a3,12f10 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x120c>
	inline float operator[](int i) const { return e[i]; }
   12dd0:	0005a687          	flw	fa3,0(a1)
   12dd4:	0045a707          	flw	fa4,4(a1)
   12dd8:	0085a787          	flw	fa5,8(a1)
   12ddc:	0183a507          	flw	fa0,24(t2)
   12de0:	01c3a587          	flw	fa1,28(t2)
   12de4:	0203a607          	flw	fa2,32(t2)
   12de8:	00c3a107          	flw	ft2,12(t2)
   12dec:	0103a087          	flw	ft1,16(t2)
   12df0:	0143a007          	flw	ft0,20(t2)
			tri_stack[lod].shared_edge = propagate_shared_edge(tri_stack[lod - 1u].shared_edge, tri_type);
   12df4:	04c00693          	li	a3,76
   12df8:	02d90933          	mul	s2,s2,a3
   12dfc:	0d010613          	add	a2,sp,208
	e[0] = v[0];
   12e00:	00d72027          	fsw	fa3,0(a4)
	e[1] = v[1];
   12e04:	00e72227          	fsw	fa4,4(a4)
	e[2] = v[2];
   12e08:	00f72427          	fsw	fa5,8(a4)
	e[0] = v[0];
   12e0c:	00a72627          	fsw	fa0,12(a4)
	e[1] = v[1];
   12e10:	00b72827          	fsw	fa1,16(a4)
	e[2] = v[2];
   12e14:	00c72a27          	fsw	fa2,20(a4)
	e[0] = v[0];
   12e18:	00272c27          	fsw	ft2,24(a4)
	e[1] = v[1];
   12e1c:	00172e27          	fsw	ft1,28(a4)
   12e20:	3c090693          	add	a3,s2,960
	e[2] = v[2];
   12e24:	02072027          	fsw	ft0,32(a4)
   12e28:	00c68933          	add	s2,a3,a2
   12e2c:	db894683          	lbu	a3,-584(s2)
	if(prnt_shrd_edg == 3 || tri_typ == 3 || prnt_shrd_edg == tri_typ) return 3;
   12e30:	00300593          	li	a1,3
   12e34:	0006839b          	sext.w	t2,a3
   12e38:	18b68063          	beq	a3,a1,12fb8 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x12b4>
   12e3c:	16b98e63          	beq	s3,a1,12fb8 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x12b4>
   12e40:	17338c63          	beq	t2,s3,12fb8 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x12b4>
   12e44:	04c00593          	li	a1,76
   12e48:	02be85b3          	mul	a1,t4,a1
   12e4c:	3c058613          	add	a2,a1,960
   12e50:	0d010593          	add	a1,sp,208
   12e54:	00b605b3          	add	a1,a2,a1
   12e58:	dad58c23          	sb	a3,-584(a1)
		bool edge_mask[3] = {patch_index == data.last_patch_index || tri_stack[lod].shared_edge == 0, patch_index == data.last_patch_index || tri_stack[lod].shared_edge == 1, patch_index == data.last_patch_index || tri_stack[lod].shared_edge == 2};
   12e5c:	a9fa1c63          	bne	s4,t6,120f4 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x3f0>
   12e60:	00100a93          	li	s5,1
   12e64:	00100593          	li	a1,1
   12e68:	00100993          	li	s3,1
   12e6c:	ab4ff06f          	j	12120 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x41c>
	else             r[1] = std::min(     dlen[2],      dlen[0]) *      ray.drdt +      ray.radius;
   12e70:	28460253          	fmin.s	ft4,fa2,ft4
   12e74:	02042287          	flw	ft5,32(s0)
   12e78:	02442387          	flw	ft7,36(s0)
   12e7c:	3842f2c3          	fmadd.s	ft5,ft5,ft4,ft7
	if(edge_mask[2]) r[2] = std::min(last_dlen[0], last_dlen[1]) * last_ray.drdt + last_ray.radius;
   12e80:	c0099263          	bnez	s3,12284 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x580>
	else             r[2] = std::min(     dlen[0],      dlen[1]) *      ray.drdt +      ray.radius;
   12e84:	29060653          	fmin.s	fa2,fa2,fa6
   12e88:	02042387          	flw	ft7,32(s0)
   12e8c:	02442207          	flw	ft4,36(s0)
   12e90:	20c3f643          	fmadd.s	fa2,ft7,fa2,ft4
   12e94:	c00ff06f          	j	12294 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x590>
	else             r[0] = std::min(     dlen[1],      dlen[2]) *      ray.drdt +      ray.radius;
   12e98:	28480353          	fmin.s	ft6,fa6,ft4
   12e9c:	02042387          	flw	ft7,32(s0)
   12ea0:	02442f07          	flw	ft10,36(s0)
   12ea4:	f063f343          	fmadd.s	ft6,ft7,ft6,ft10
   12ea8:	bc4ff06f          	j	1226c <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x568>
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   12eac:	258c2707          	flw	fa4,600(s8)
   12eb0:	d90ff06f          	j	12440 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x73c>
   12eb4:	258c2787          	flw	fa5,600(s8)
   12eb8:	d54ff06f          	j	1240c <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x708>
   12ebc:	258c2687          	flw	fa3,600(s8)
   12ec0:	d10ff06f          	j	123d0 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x6cc>
   12ec4:	258c2607          	flw	fa2,600(s8)
   12ec8:	cd4ff06f          	j	1239c <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x698>
   12ecc:	01c13c23          	sd	t3,24(sp)
   12ed0:	00060593          	mv	a1,a2
   12ed4:	aa1ff06f          	j	12974 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xc70>
	else if(tri_type == 1) return Triangle(cntr_tri.vrts[2], prnt_tri.vrts[1], cntr_tri.vrts[0]);
   12ed8:	00100e13          	li	t3,1
   12edc:	11c68663          	beq	a3,t3,12fe8 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x12e4>
	else if(tri_type == 2) return Triangle(cntr_tri.vrts[1], cntr_tri.vrts[0], prnt_tri.vrts[2]);
   12ee0:	00200e13          	li	t3,2
   12ee4:	19c68263          	beq	a3,t3,13068 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1364>
   12ee8:	02012307          	flw	ft6,32(sp)
	e[1] = v[1];
   12eec:	01412387          	flw	ft7,20(sp)
	e[0] = v[0];
   12ef0:	01012207          	flw	ft4,16(sp)
	e[2] = v[2];
   12ef4:	02c12707          	flw	fa4,44(sp)
	e[1] = v[1];
   12ef8:	02812187          	flw	ft3,40(sp)
	e[0] = v[0];
   12efc:	02412287          	flw	ft5,36(sp)
	e[2] = v[2];
   12f00:	04812887          	flw	fa7,72(sp)
	e[1] = v[1];
   12f04:	03412e07          	flw	ft8,52(sp)
	e[0] = v[0];
   12f08:	03012807          	flw	fa6,48(sp)
   12f0c:	c45ff06f          	j	12b50 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xe4c>
	else if(tri_type == 1) return Triangle(cntr_tri.vrts[2], prnt_tri.vrts[1], cntr_tri.vrts[0]);
   12f10:	00100693          	li	a3,1
	inline float operator[](int i) const { return e[i]; }
   12f14:	0003a687          	flw	fa3,0(t2)
   12f18:	0043a707          	flw	fa4,4(t2)
   12f1c:	0083a787          	flw	fa5,8(t2)
   12f20:	0ed98c63          	beq	s3,a3,13018 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1314>
	else if(tri_type == 2) return Triangle(cntr_tri.vrts[1], cntr_tri.vrts[0], prnt_tri.vrts[2]);
   12f24:	00200693          	li	a3,2
   12f28:	00c3a507          	flw	fa0,12(t2)
   12f2c:	0103a587          	flw	fa1,16(t2)
   12f30:	0143a607          	flw	fa2,20(t2)
   12f34:	14d98e63          	beq	s3,a3,13090 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x138c>
   12f38:	0183a107          	flw	ft2,24(t2)
   12f3c:	01c3a087          	flw	ft1,28(t2)
   12f40:	0203a007          	flw	ft0,32(t2)
   12f44:	eb1ff06f          	j	12df4 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x10f0>
		const NodeStackEntry current_node_entry = node_stack[--node_stack_size];
   12f48:	00030793          	mv	a5,t1
   12f4c:	00078e13          	mv	t3,a5
   12f50:	88dff06f          	j	127dc <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xad8>
			else if(hit.bc.x + hit.bc.y < 1.0f)
   12f54:	00d67053          	fadd.s	ft0,fa2,fa3
	e[0] *= v.e[0];
   12f58:	20c607d3          	fmv.s	fa5,fa2
	e[1] *= v.e[1];
   12f5c:	20d68753          	fmv.s	fa4,fa3
				tri_type = 3;
   12f60:	00300693          	li	a3,3
			else if(hit.bc.x + hit.bc.y < 1.0f)
   12f64:	a0a01553          	flt.s	a0,ft0,fa0
   12f68:	0a051463          	bnez	a0,13010 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x130c>
	return vec2(a[0] - b[0], a[1] - b[1]);
   12f6c:	08c577d3          	fsub.s	fa5,fa0,fa2
   12f70:	08d57753          	fsub.s	fa4,fa0,fa3
	vec2(float e0, float e1) { e[0] = e0; e[1] = e1; }
   12f74:	8adff06f          	j	12820 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xb1c>
   12f78:	00c72807          	flw	fa6,12(a4)
   12f7c:	01072087          	flw	ft1,16(a4)
   12f80:	01472707          	flw	fa4,20(a4)
	e[2] = v[2];
   12f84:	04812f87          	flw	ft11,72(sp)
	e[1] = v[1];
   12f88:	03412b87          	flw	fs7,52(sp)
	e[0] = v[0];
   12f8c:	03012107          	flw	ft2,48(sp)
	e[2] = v[2];
   12f90:	02012787          	flw	fa5,32(sp)
	e[1] = v[1];
   12f94:	01412607          	flw	fa2,20(sp)
	e[0] = v[0];
   12f98:	01012507          	flw	fa0,16(sp)
   12f9c:	c4dff06f          	j	12be8 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xee4>
	if(match_mask == 6) return 0;
   12fa0:	08013683          	ld	a3,128(sp)
   12fa4:	07813603          	ld	a2,120(sp)
   12fa8:	1ec69463          	bne	a3,a2,13190 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x148c>
			else                            tri_stack[0].shared_edge = 3;
   12fac:	00300693          	li	a3,3
   12fb0:	24d10423          	sb	a3,584(sp)
   12fb4:	93cff06f          	j	120f0 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x3ec>
   12fb8:	00300693          	li	a3,3
   12fbc:	e89ff06f          	j	12e44 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1140>
	inline float operator[](int i) const { return e[i]; }
   12fc0:	01872107          	flw	ft2,24(a4)
   12fc4:	01c72b87          	flw	fs7,28(a4)
   12fc8:	02072f87          	flw	ft11,32(a4)
	e[2] = v[2];
   12fcc:	04812707          	flw	fa4,72(sp)
	e[1] = v[1];
   12fd0:	03412087          	flw	ft1,52(sp)
	e[0] = v[0];
   12fd4:	03012807          	flw	fa6,48(sp)
	e[2] = v[2];
   12fd8:	02c12787          	flw	fa5,44(sp)
	e[1] = v[1];
   12fdc:	02812607          	flw	fa2,40(sp)
	e[0] = v[0];
   12fe0:	02412507          	flw	fa0,36(sp)
   12fe4:	c05ff06f          	j	12be8 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xee4>
	inline float operator[](int i) const { return e[i]; }
   12fe8:	00c72287          	flw	ft5,12(a4)
   12fec:	01072187          	flw	ft3,16(a4)
   12ff0:	01472707          	flw	fa4,20(a4)
	e[2] = v[2];
   12ff4:	04812307          	flw	ft6,72(sp)
	e[1] = v[1];
   12ff8:	03412387          	flw	ft7,52(sp)
	e[0] = v[0];
   12ffc:	03012207          	flw	ft4,48(sp)
	e[2] = v[2];
   13000:	02012887          	flw	fa7,32(sp)
	e[1] = v[1];
   13004:	01412e07          	flw	ft8,20(sp)
	e[0] = v[0];
   13008:	01012807          	flw	fa6,16(sp)
   1300c:	b45ff06f          	j	12b50 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xe4c>
				tri_type = 2;
   13010:	00200693          	li	a3,2
   13014:	80dff06f          	j	12820 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xb1c>
	e[2] = v[2];
   13018:	20f78053          	fmv.s	ft0,fa5
	e[1] = v[1];
   1301c:	20e700d3          	fmv.s	ft1,fa4
	e[0] = v[0];
   13020:	20d68153          	fmv.s	ft2,fa3
	inline float operator[](int i) const { return e[i]; }
   13024:	00c5a507          	flw	fa0,12(a1)
   13028:	0105a587          	flw	fa1,16(a1)
   1302c:	0145a607          	flw	fa2,20(a1)
	e[2] = v[2];
   13030:	0203a787          	flw	fa5,32(t2)
	e[1] = v[1];
   13034:	01c3a707          	flw	fa4,28(t2)
	e[0] = v[0];
   13038:	0183a687          	flw	fa3,24(t2)
   1303c:	db9ff06f          	j	12df4 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x10f0>
			tri_stack[lod].child_transformed = (edge_states[0] < 1.0f) || (edge_states[1] < 1.0f) || (edge_states[2] < 1.0f) || ((lod != 0) && tri_stack[lod - 1].child_transformed);
   13040:	fffe859b          	addw	a1,t4,-1
   13044:	02059593          	sll	a1,a1,0x20
   13048:	0205d593          	srl	a1,a1,0x20
   1304c:	04c00e93          	li	t4,76
   13050:	03d585b3          	mul	a1,a1,t4
   13054:	3c058613          	add	a2,a1,960
   13058:	0d010593          	add	a1,sp,208
   1305c:	00b605b3          	add	a1,a2,a1
   13060:	db95c983          	lbu	s3,-583(a1)
   13064:	e20ff06f          	j	12684 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x980>
	inline float operator[](int i) const { return e[i]; }
   13068:	01872207          	flw	ft4,24(a4)
   1306c:	01c72387          	flw	ft7,28(a4)
   13070:	02072307          	flw	ft6,32(a4)
	e[2] = v[2];
   13074:	04812707          	flw	fa4,72(sp)
	e[1] = v[1];
   13078:	03412187          	flw	ft3,52(sp)
	e[0] = v[0];
   1307c:	03012287          	flw	ft5,48(sp)
	e[2] = v[2];
   13080:	02c12887          	flw	fa7,44(sp)
	e[1] = v[1];
   13084:	02812e07          	flw	ft8,40(sp)
	e[0] = v[0];
   13088:	02412807          	flw	fa6,36(sp)
   1308c:	ac5ff06f          	j	12b50 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xe4c>
	inline float operator[](int i) const { return e[i]; }
   13090:	20f782d3          	fmv.s	ft5,fa5
   13094:	20e70253          	fmv.s	ft4,fa4
   13098:	20d681d3          	fmv.s	ft3,fa3
	e[2] = v[2];
   1309c:	20c607d3          	fmv.s	fa5,fa2
	e[1] = v[1];
   130a0:	20b58753          	fmv.s	fa4,fa1
	e[0] = v[0];
   130a4:	20a506d3          	fmv.s	fa3,fa0
	inline float operator[](int i) const { return e[i]; }
   130a8:	0185a107          	flw	ft2,24(a1)
   130ac:	01c5a087          	flw	ft1,28(a1)
   130b0:	0205a007          	flw	ft0,32(a1)
	e[2] = v[2];
   130b4:	20528653          	fmv.s	fa2,ft5
	e[1] = v[1];
   130b8:	204205d3          	fmv.s	fa1,ft4
	e[0] = v[0];
   130bc:	20318553          	fmv.s	fa0,ft3
   130c0:	d35ff06f          	j	12df4 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x10f0>
{
public:
	uint32_t e[3];

	uvec3() = default;
	uvec3(uint32_t i) { e[0] = i;  e[1] = i; e[2] = i; }
   130c4:	06013c23          	sd	zero,120(sp)
   130c8:	08013423          	sd	zero,136(sp)
   130cc:	04013c23          	sd	zero,88(sp)
   130d0:	e11fe06f          	j	11ee0 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1dc>
				match_mask |= 1 << i;
   130d4:	0c013683          	ld	a3,192(sp)
   130d8:	0026e593          	or	a1,a3,2
			if(crnt_ptch_inds[i] == prev_ptch_inds[j])
   130dc:	05813683          	ld	a3,88(sp)
   130e0:	ecd800e3          	beq	a6,a3,12fa0 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x129c>
   130e4:	08813683          	ld	a3,136(sp)
   130e8:	ead80ce3          	beq	a6,a3,12fa0 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x129c>
   130ec:	07813683          	ld	a3,120(sp)
   130f0:	08d80a63          	beq	a6,a3,13184 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1480>
			if(data.last_patch_index != ~0) tri_stack[0].shared_edge = find_shared_edge(header.vi, previous_patch_indices);
   130f4:	00500693          	li	a3,5
   130f8:	40b686bb          	subw	a3,a3,a1
   130fc:	0ff6f693          	zext.b	a3,a3
			else                            tri_stack[0].shared_edge = 3;
   13100:	24d10423          	sb	a3,584(sp)
   13104:	fedfe06f          	j	120f0 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x3ec>
	stack[j] = entry;
   13108:	020d9613          	sll	a2,s11,0x20
   1310c:	02065613          	srl	a2,a2,0x20
   13110:	00161793          	sll	a5,a2,0x1
   13114:	00c787b3          	add	a5,a5,a2
   13118:	00279793          	sll	a5,a5,0x2
   1311c:	0e010613          	add	a2,sp,224
   13120:	00f605b3          	add	a1,a2,a5
   13124:	851ff06f          	j	12974 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0xc70>
				match_mask |= 1 << i;
   13128:	0045e593          	or	a1,a1,4
	if(match_mask == 5) return 1; 
   1312c:	00500393          	li	t2,5
   13130:	00300693          	li	a3,3
   13134:	00758463          	beq	a1,t2,1313c <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1438>
   13138:	fb5fe06f          	j	120ec <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x3e8>
   1313c:	00100693          	li	a3,1
   13140:	24d10423          	sb	a3,584(sp)
   13144:	fadfe06f          	j	120f0 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x3ec>
			if(crnt_ptch_inds[i] == prev_ptch_inds[j])
   13148:	0b813683          	ld	a3,184(sp)
   1314c:	05813603          	ld	a2,88(sp)
   13150:	06c68663          	beq	a3,a2,131bc <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x14b8>
   13154:	08813603          	ld	a2,136(sp)
   13158:	04c68263          	beq	a3,a2,1319c <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1498>
   1315c:	07813603          	ld	a2,120(sp)
				match_mask |= 1 << i;
   13160:	00100593          	li	a1,1
			if(crnt_ptch_inds[i] == prev_ptch_inds[j])
   13164:	00c68463          	beq	a3,a2,1316c <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x1468>
   13168:	f5dfe06f          	j	120c4 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x3c0>
   1316c:	05813683          	ld	a3,88(sp)
   13170:	e2d80ee3          	beq	a6,a3,12fac <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x12a8>
   13174:	08813683          	ld	a3,136(sp)
   13178:	e2d80ae3          	beq	a6,a3,12fac <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x12a8>
				match_mask |= 1 << i;
   1317c:	00300593          	li	a1,3
   13180:	f6dff06f          	j	130ec <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x13e8>
	if(match_mask == 6) return 0;
   13184:	0045e593          	or	a1,a1,4
   13188:	00600693          	li	a3,6
   1318c:	e2d590e3          	bne	a1,a3,12fac <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x12a8>
   13190:	00000693          	li	a3,0
   13194:	24d10423          	sb	a3,584(sp)
   13198:	f59fe06f          	j	120f0 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x3ec>
			if(crnt_ptch_inds[i] == prev_ptch_inds[j])
   1319c:	05813683          	ld	a3,88(sp)
   131a0:	e0d806e3          	beq	a6,a3,12fac <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x12a8>
   131a4:	0b813683          	ld	a3,184(sp)
   131a8:	e0d802e3          	beq	a6,a3,12fac <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x12a8>
   131ac:	07813683          	ld	a3,120(sp)
   131b0:	ded80ee3          	beq	a6,a3,12fac <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x12a8>
				match_mask |= 1 << i;
   131b4:	00300593          	li	a1,3
   131b8:	f3dff06f          	j	130f4 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x13f0>
			if(crnt_ptch_inds[i] == prev_ptch_inds[j])
   131bc:	ded808e3          	beq	a6,a3,12fac <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x12a8>
   131c0:	08813683          	ld	a3,136(sp)
   131c4:	fed814e3          	bne	a6,a3,131ac <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x14a8>
   131c8:	00300693          	li	a3,3
   131cc:	de5ff06f          	j	12fb0 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit+0x12ac>

00000000000131d0 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit>:


///////////////////////////////////secondary\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\

inline bool intersect(const uint32_t patch_index, const TesselationTree4SecondaryRayData& data, const Ray& ray, Hit& hit)
{
   131d0:	a4010113          	add	sp,sp,-1472
   131d4:	55b13c23          	sd	s11,1368(sp)
		bool child_transformed;
	}
	tri_stack[8];

	TesselationTree4::Header header;
	move_to_stack(header, data.tes_tree.headers[patch_index]);
   131d8:	0005bd83          	ld	s11,0(a1)
{
   131dc:	57713c23          	sd	s7,1400(sp)
   131e0:	04b13423          	sd	a1,72(sp)
	move_to_stack(header, data.tes_tree.headers[patch_index]);
   131e4:	02051b93          	sll	s7,a0,0x20
		((uint64_t*)&dst)[i] = r;
   131e8:	000db583          	ld	a1,0(s11)
{
   131ec:	5a813823          	sd	s0,1456(sp)
	move_to_stack(header, data.tes_tree.headers[patch_index]);
   131f0:	020bdb93          	srl	s7,s7,0x20
{
   131f4:	4af10413          	add	s0,sp,1199
   131f8:	fc047413          	and	s0,s0,-64
	move_to_stack(header, data.tes_tree.headers[patch_index]);
   131fc:	006b9793          	sll	a5,s7,0x6
{
   13200:	5a913423          	sd	s1,1448(sp)
   13204:	57913423          	sd	s9,1384(sp)
   13208:	00060493          	mv	s1,a2
   1320c:	00f585b3          	add	a1,a1,a5
   13210:	04000613          	li	a2,64
   13214:	00050c93          	mv	s9,a0
   13218:	04040513          	add	a0,s0,64
   1321c:	5b213023          	sd	s2,1440(sp)
   13220:	5a113c23          	sd	ra,1464(sp)
   13224:	00068913          	mv	s2,a3
   13228:	59313c23          	sd	s3,1432(sp)
   1322c:	59413823          	sd	s4,1424(sp)
   13230:	59513423          	sd	s5,1416(sp)
   13234:	59613023          	sd	s6,1408(sp)
   13238:	57813823          	sd	s8,1392(sp)
   1323c:	57a13023          	sd	s10,1376(sp)
   13240:	54812627          	fsw	fs0,1356(sp)
   13244:	54912427          	fsw	fs1,1352(sp)
   13248:	55212227          	fsw	fs2,1348(sp)
   1324c:	55312027          	fsw	fs3,1344(sp)
   13250:	53412e27          	fsw	fs4,1340(sp)
   13254:	53512c27          	fsw	fs5,1336(sp)
   13258:	53612a27          	fsw	fs6,1332(sp)
   1325c:	53712827          	fsw	fs7,1328(sp)
   13260:	53812627          	fsw	fs8,1324(sp)
   13264:	53912427          	fsw	fs9,1320(sp)
   13268:	53a12227          	fsw	fs10,1316(sp)
   1326c:	53b12027          	fsw	fs11,1312(sp)
   13270:	00006097          	auipc	ra,0x6
   13274:	920080e7          	jalr	-1760(ra) # 18b90 <memcpy>

	glm::vec3 inv_d = glm::vec3(1.0f) / ray.d;
	float max_db_over_max_error = header.max_db * ray.rcp_max_error;
   13278:	05042707          	flw	fa4,80(s0)
   1327c:	0284a787          	flw	fa5,40(s1)
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   13280:	0001a7b7          	lui	a5,0x1a
   13284:	2587a687          	flw	fa3,600(a5) # 1a258 <__DATA_BEGIN__+0x8>
   13288:	10f777d3          	fmul.s	fa5,fa4,fa5
	inline float operator[](int i) const { return e[i]; }
   1328c:	0144a587          	flw	fa1,20(s1)
   13290:	0104a607          	flw	fa2,16(s1)
   13294:	0184a507          	flw	fa0,24(s1)
	const TesselationTree4::CompressedNode4* nodes = &data.tes_tree.nodes[header.root_node_offset];
   13298:	008db603          	ld	a2,8(s11)
	float max_db_over_max_error = header.max_db * ray.rcp_max_error;
   1329c:	04f12a27          	fsw	fa5,84(sp)
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   132a0:	18b6f7d3          	fdiv.s	fa5,fa3,fa1
	inline float operator[](int i) const { return e[i]; }
   132a4:	20c603d3          	fmv.s	ft7,fa2
	const TesselationTree4::CompressedNode4* nodes = &data.tes_tree.nodes[header.root_node_offset];
   132a8:	08c13c23          	sd	a2,152(sp)
   132ac:	05446603          	lwu	a2,84(s0)
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   132b0:	04045703          	lhu	a4,64(s0)
   132b4:	20b58353          	fmv.s	ft6,fa1
   132b8:	0ac13023          	sd	a2,160(sp)
	const CompactTri* triangles = &data.tes_tree.triangles[header.root_tri_offset];
   132bc:	010db603          	ld	a2,16(s11)
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   132c0:	00f75693          	srl	a3,a4,0xf
   132c4:	20a502d3          	fmv.s	ft5,fa0
   132c8:	06c13823          	sd	a2,112(sp)
   132cc:	05846603          	lwu	a2,88(s0)
   132d0:	06c13c23          	sd	a2,120(sp)
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   132d4:	18c6f653          	fdiv.s	fa2,fa3,fa2
   132d8:	08f12a27          	fsw	fa5,148(sp)
   132dc:	18a6f7d3          	fdiv.s	fa5,fa3,fa0
   132e0:	0ac12427          	fsw	fa2,168(sp)
   132e4:	08f12827          	fsw	fa5,144(sp)
   132e8:	00068463          	beqz	a3,132f0 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x120>
   132ec:	6c80106f          	j	149b4 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x17e4>
   132f0:	3f8006b7          	lui	a3,0x3f800
   132f4:	0087171b          	sllw	a4,a4,0x8
	return *((float*)&u);
   132f8:	00d76733          	or	a4,a4,a3
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   132fc:	f00707d3          	fmv.w.x	fa5,a4
   13300:	0001a6b7          	lui	a3,0x1a
   13304:	26c6a707          	flw	fa4,620(a3) # 1a26c <__DATA_BEGIN__+0x1c>
   13308:	08d7f7d3          	fsub.s	fa5,fa5,fa3
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   1330c:	04645683          	lhu	a3,70(s0)
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   13310:	0001a737          	lui	a4,0x1a
   13314:	26072687          	flw	fa3,608(a4) # 1a260 <__DATA_BEGIN__+0x10>
   13318:	00f6d613          	srl	a2,a3,0xf
   1331c:	70d7f6c3          	fmadd.s	fa3,fa5,fa3,fa4
   13320:	00060463          	beqz	a2,13328 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x158>
   13324:	6a40106f          	j	149c8 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x17f8>
   13328:	3f800637          	lui	a2,0x3f800
   1332c:	0086969b          	sllw	a3,a3,0x8
	return *((float*)&u);
   13330:	00c6e6b3          	or	a3,a3,a2
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   13334:	f0068753          	fmv.w.x	fa4,a3
   13338:	2587a787          	flw	fa5,600(a5)
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   1333c:	0001a6b7          	lui	a3,0x1a
   13340:	08f77053          	fsub.s	ft0,fa4,fa5
   13344:	26c6a787          	flw	fa5,620(a3) # 1a26c <__DATA_BEGIN__+0x1c>
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   13348:	04245683          	lhu	a3,66(s0)
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   1334c:	26072707          	flw	fa4,608(a4)
   13350:	00f6d613          	srl	a2,a3,0xf
   13354:	78e07043          	fmadd.s	ft0,ft0,fa4,fa5
   13358:	00060463          	beqz	a2,13360 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x190>
   1335c:	6800106f          	j	149dc <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x180c>
   13360:	3f800637          	lui	a2,0x3f800
   13364:	0086969b          	sllw	a3,a3,0x8
	return *((float*)&u);
   13368:	00c6e6b3          	or	a3,a3,a2
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   1336c:	2587a787          	flw	fa5,600(a5)
   13370:	f0068753          	fmv.w.x	fa4,a3
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   13374:	0001a6b7          	lui	a3,0x1a
   13378:	26072607          	flw	fa2,608(a4)
   1337c:	08f77753          	fsub.s	fa4,fa4,fa5
   13380:	26c6a787          	flw	fa5,620(a3) # 1a26c <__DATA_BEGIN__+0x1c>
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   13384:	04845683          	lhu	a3,72(s0)
   13388:	00f6d613          	srl	a2,a3,0xf
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   1338c:	78c77743          	fmadd.s	fa4,fa4,fa2,fa5
   13390:	00060463          	beqz	a2,13398 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1c8>
   13394:	65c0106f          	j	149f0 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1820>
   13398:	0086969b          	sllw	a3,a3,0x8
   1339c:	3f800637          	lui	a2,0x3f800
	return *((float*)&u);
   133a0:	00c6e6b3          	or	a3,a3,a2
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   133a4:	f0068653          	fmv.w.x	fa2,a3
   133a8:	2587a787          	flw	fa5,600(a5)
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   133ac:	0001a6b7          	lui	a3,0x1a
   133b0:	08f675d3          	fsub.s	fa1,fa2,fa5
   133b4:	26072607          	flw	fa2,608(a4)
   133b8:	26c6a787          	flw	fa5,620(a3) # 1a26c <__DATA_BEGIN__+0x1c>
   133bc:	78c5f5c3          	fmadd.s	fa1,fa1,fa2,fa5
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   133c0:	04445683          	lhu	a3,68(s0)
   133c4:	2587a787          	flw	fa5,600(a5)
   133c8:	00f6d613          	srl	a2,a3,0xf
   133cc:	02061463          	bnez	a2,133f4 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x224>
   133d0:	0086969b          	sllw	a3,a3,0x8
   133d4:	3f800637          	lui	a2,0x3f800
	return *((float*)&u);
   133d8:	00c6e6b3          	or	a3,a3,a2
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   133dc:	f0068653          	fmv.w.x	fa2,a3
   133e0:	0001a6b7          	lui	a3,0x1a
   133e4:	26072507          	flw	fa0,608(a4)
   133e8:	08f677d3          	fsub.s	fa5,fa2,fa5
   133ec:	26c6a607          	flw	fa2,620(a3) # 1a26c <__DATA_BEGIN__+0x1c>
   133f0:	60a7f7c3          	fmadd.s	fa5,fa5,fa0,fa2
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   133f4:	04a45683          	lhu	a3,74(s0)
   133f8:	2587a607          	flw	fa2,600(a5)
   133fc:	00f6d613          	srl	a2,a3,0xf
   13400:	02061463          	bnez	a2,13428 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x258>
   13404:	0086969b          	sllw	a3,a3,0x8
   13408:	3f800637          	lui	a2,0x3f800
	return *((float*)&u);
   1340c:	00c6e6b3          	or	a3,a3,a2
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   13410:	f0068553          	fmv.w.x	fa0,a3
   13414:	0001a6b7          	lui	a3,0x1a
   13418:	26072087          	flw	ft1,608(a4)
   1341c:	08c57653          	fsub.s	fa2,fa0,fa2
   13420:	26c6a507          	flw	fa0,620(a3) # 1a26c <__DATA_BEGIN__+0x1c>
   13424:	50167643          	fmadd.s	fa2,fa2,ft1,fa0
	inline float operator[](int i) const { return e[i]; }
   13428:	0004ac87          	flw	fs9,0(s1)
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   1342c:	0a812507          	flw	fa0,168(sp)
	inline float operator[](int i) const { return e[i]; }
   13430:	0044aa07          	flw	fs4,4(s1)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   13434:	0996f6d3          	fsub.s	fa3,fa3,fs9
   13438:	09907053          	fsub.s	ft0,ft0,fs9
	inline float operator[](int i) const { return e[i]; }
   1343c:	0084aa87          	flw	fs5,8(s1)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   13440:	09477753          	fsub.s	fa4,fa4,fs4
   13444:	0945f5d3          	fsub.s	fa1,fa1,fs4
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   13448:	10a6f6d3          	fmul.s	fa3,fa3,fa0
   1344c:	10a07053          	fmul.s	ft0,ft0,fa0
   13450:	09412507          	flw	fa0,148(sp)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   13454:	0957f7d3          	fsub.s	fa5,fa5,fs5
   13458:	09567653          	fsub.s	fa2,fa2,fs5
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   1345c:	10a5f5d3          	fmul.s	fa1,fa1,fa0
   13460:	10a77753          	fmul.s	fa4,fa4,fa0
   13464:	28068553          	fmin.s	fa0,fa3,ft0
	if (tmin > tmax) return ray.t_max;//no hit || behind
   13468:	280696d3          	fmax.s	fa3,fa3,ft0
   1346c:	09012007          	flw	ft0,144(sp)
   13470:	00c4a107          	flw	ft2,12(s1)
   13474:	01c4a087          	flw	ft1,28(s1)
   13478:	1007f7d3          	fmul.s	fa5,fa5,ft0
   1347c:	10067653          	fmul.s	fa2,fa2,ft0
	float tmin = std::max(std::max(tminv.x, tminv.y), std::max(tminv.z, ray.t_min));
   13480:	28251553          	fmax.s	fa0,fa0,ft2
   13484:	28b70053          	fmin.s	ft0,fa4,fa1
	if (tmin > tmax) return ray.t_max;//no hit || behind
   13488:	281686d3          	fmin.s	fa3,fa3,ft1
   1348c:	28b71753          	fmax.s	fa4,fa4,fa1
   13490:	280515d3          	fmax.s	fa1,fa0,ft0
   13494:	28c78553          	fmin.s	fa0,fa5,fa2
   13498:	28e68753          	fmin.s	fa4,fa3,fa4
   1349c:	28c797d3          	fmax.s	fa5,fa5,fa2
   134a0:	28a596d3          	fmax.s	fa3,fa1,fa0
   134a4:	28f707d3          	fmin.s	fa5,fa4,fa5
   134a8:	a0d796d3          	flt.s	a3,fa5,fa3
   134ac:	00069463          	bnez	a3,134b4 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x2e4>
	return tmin;
   134b0:	20d680d3          	fmv.s	ft1,fa3
	node_stack[0].node_index = 0;
	node_stack[0].lod = 0;
	node_stack[0].tri_type = 0;

	glm::uvec3 previous_patch_indices(0);
	if(data.last_patch_index != ~0) previous_patch_indices  = data.tes_tree.vertex_indices[data.last_patch_index];
   134b4:	04813603          	ld	a2,72(sp)
	node_stack[0].dbs = header.node.dbs;
   134b8:	04c42683          	lw	a3,76(s0)
	node_stack[0].t = intersect(decompress(header.node.aabb), ray, inv_d);
   134bc:	0e112827          	fsw	ft1,240(sp)
	if(data.last_patch_index != ~0) previous_patch_indices  = data.tes_tree.vertex_indices[data.last_patch_index];
   134c0:	01062d03          	lw	s10,16(a2) # 3f800010 <__global_pointer$+0x3f7e55c0>
	node_stack[0].dbs = header.node.dbs;
   134c4:	0ed12c23          	sw	a3,248(sp)
	node_stack[0].node_index = 0;
   134c8:	0e012a23          	sw	zero,244(sp)
	if(data.last_patch_index != ~0) previous_patch_indices  = data.tes_tree.vertex_indices[data.last_patch_index];
   134cc:	fff00693          	li	a3,-1
   134d0:	00dd1463          	bne	s10,a3,134d8 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x308>
   134d4:	5580106f          	j	14a2c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x185c>
   134d8:	020d1593          	sll	a1,s10,0x20
   134dc:	0205d593          	srl	a1,a1,0x20
   134e0:	018db683          	ld	a3,24(s11)
   134e4:	00159613          	sll	a2,a1,0x1
   134e8:	00b60633          	add	a2,a2,a1
   134ec:	00261613          	sll	a2,a2,0x2
   134f0:	00c686b3          	add	a3,a3,a2
   134f4:	0006a603          	lw	a2,0(a3)
   134f8:	04c13c23          	sd	a2,88(sp)
   134fc:	0046a603          	lw	a2,4(a3)
   13500:	0086a683          	lw	a3,8(a3)
   13504:	06c13023          	sd	a2,96(sp)
   13508:	06d13423          	sd	a3,104(sp)
	uint64_t dw1 = ctri.data[1];
   1350c:	06843583          	ld	a1,104(s0)
	uint64_t dw2 = ctri.data[2];
   13510:	07043e03          	ld	t3,112(s0)
	uint64_t dw0 = ctri.data[0];
   13514:	06043883          	ld	a7,96(s0)
	float f5 = u24_to_f32(((dw1 >> 56) | (dw2 << 8)) & 0xffffff);
   13518:	0385d513          	srl	a0,a1,0x38
   1351c:	008e161b          	sllw	a2,t3,0x8
   13520:	00c56533          	or	a0,a0,a2
	float f0 = u24_to_f32(dw0 & 0xffffff);
   13524:	01000637          	lui	a2,0x1000
   13528:	fff60613          	add	a2,a2,-1 # ffffff <__global_pointer$+0xfe55af>
	float f2 = u24_to_f32(((dw0 >> 48) | (dw1 << 16)) & 0xffffff);
   1352c:	0308d813          	srl	a6,a7,0x30
	float f1 = u24_to_f32((dw0 >> 24) & 0xffffff);
   13530:	0188df93          	srl	t6,a7,0x18
	float f0 = u24_to_f32(dw0 & 0xffffff);
   13534:	0008889b          	sext.w	a7,a7
   13538:	00c8f3b3          	and	t2,a7,a2
	float f2 = u24_to_f32(((dw0 >> 48) | (dw1 << 16)) & 0xffffff);
   1353c:	0105931b          	sllw	t1,a1,0x10
	float f0 = u24_to_f32(dw0 & 0xffffff);
   13540:	00713823          	sd	t2,16(sp)
	float f2 = u24_to_f32(((dw0 >> 48) | (dw1 << 16)) & 0xffffff);
   13544:	00686833          	or	a6,a6,t1
	float f3 = u24_to_f32((dw1 >> 8) & 0xffffff);
   13548:	0085df13          	srl	t5,a1,0x8

		//if the next LOD is the leaf intersect othewise push the child nodes onto the stack
		uint32_t next_level = lod + 1;
		uint32_t first_child_index = node_index << 2; //compute first child idnex
		
		if(next_level == header.last_lod) //leaf node
   1354c:	05843303          	ld	t1,88(s0)
	float f4 = u24_to_f32((dw1 >> 32) & 0xffffff);
   13550:	4205d593          	sra	a1,a1,0x20
   13554:	00c5fa33          	and	s4,a1,a2
   13558:	00b13423          	sd	a1,8(sp)
	return *((float*)&u);
   1355c:	01013583          	ld	a1,16(sp)
   13560:	0c613823          	sd	t1,208(sp)
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   13564:	3f800337          	lui	t1,0x3f800
	return *((float*)&u);
   13568:	0065e5b3          	or	a1,a1,t1
   1356c:	00b13823          	sd	a1,16(sp)
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   13570:	0001a6b7          	lui	a3,0x1a
   13574:	26072707          	flw	fa4,608(a4)
   13578:	2646a787          	flw	fa5,612(a3) # 1a264 <__DATA_BEGIN__+0x14>
   1357c:	01012687          	flw	fa3,16(sp)
	float f1 = u24_to_f32((dw0 >> 24) & 0xffffff);
   13580:	000f8f9b          	sext.w	t6,t6
   13584:	00cffc33          	and	s8,t6,a2
	return *((float*)&u);
   13588:	006c6c33          	or	s8,s8,t1
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   1358c:	78e6f1c3          	fmadd.s	ft3,fa3,fa4,fa5
	float f2 = u24_to_f32(((dw0 >> 48) | (dw1 << 16)) & 0xffffff);
   13590:	0008081b          	sext.w	a6,a6
   13594:	f00c06d3          	fmv.w.x	fa3,s8
   13598:	00c87b33          	and	s6,a6,a2
	return *((float*)&u);
   1359c:	006b6b33          	or	s6,s6,t1
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   135a0:	78e6f143          	fmadd.s	ft2,fa3,fa4,fa5
	float f3 = u24_to_f32((dw1 >> 8) & 0xffffff);
   135a4:	000f0f1b          	sext.w	t5,t5
   135a8:	f00b06d3          	fmv.w.x	fa3,s6
   135ac:	00cf7ab3          	and	s5,t5,a2
	return *((float*)&u);
   135b0:	006aeab3          	or	s5,s5,t1
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   135b4:	78e6f0c3          	fmadd.s	ft1,fa3,fa4,fa5
   135b8:	f00a86d3          	fmv.w.x	fa3,s5
	return *((float*)&u);
   135bc:	006a6a33          	or	s4,s4,t1
	float f5 = u24_to_f32(((dw1 >> 56) | (dw2 << 8)) & 0xffffff);
   135c0:	0005051b          	sext.w	a0,a0
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   135c4:	78e6f043          	fmadd.s	ft0,fa3,fa4,fa5
   135c8:	f00a06d3          	fmv.w.x	fa3,s4
   135cc:	00c579b3          	and	s3,a0,a2
	float f6 = u24_to_f32((dw2 >> 16) & 0xffffff);
   135d0:	010e5e93          	srl	t4,t3,0x10
	return *((float*)&u);
   135d4:	0069e9b3          	or	s3,s3,t1
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   135d8:	78e6f543          	fmadd.s	fa0,fa3,fa4,fa5
   135dc:	000e8e9b          	sext.w	t4,t4
   135e0:	f00986d3          	fmv.w.x	fa3,s3
   135e4:	00cef3b3          	and	t2,t4,a2
	float f8 = u24_to_f32(dw3 & 0xffffff);
   135e8:	07842283          	lw	t0,120(s0)
	return *((float*)&u);
   135ec:	0063e3b3          	or	t2,t2,t1
	float f7 = u24_to_f32((dw2 >> 40) & 0xffffff);
   135f0:	028e5e13          	srl	t3,t3,0x28
   135f4:	006e65b3          	or	a1,t3,t1
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   135f8:	78e6f5c3          	fmadd.s	fa1,fa3,fa4,fa5
   135fc:	f00386d3          	fmv.w.x	fa3,t2
	return *((float*)&u);
   13600:	00b13c23          	sd	a1,24(sp)
	float f8 = u24_to_f32(dw3 & 0xffffff);
   13604:	00c2f633          	and	a2,t0,a2
			if(data.last_patch_index != ~0) tri_stack[0].shared_edge = find_shared_edge(data.tes_tree.vertex_indices[patch_index], previous_patch_indices);
   13608:	001b9593          	sll	a1,s7,0x1
   1360c:	00666633          	or	a2,a2,t1
   13610:	01758333          	add	t1,a1,s7
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   13614:	78e6f643          	fmadd.s	fa2,fa3,fa4,fa5
   13618:	f0060253          	fmv.w.x	ft4,a2
   1361c:	01812687          	flw	fa3,24(sp)
   13620:	00231613          	sll	a2,t1,0x2
		if(next_level == header.last_lod) //leaf node
   13624:	0d013303          	ld	t1,208(sp)
   13628:	0178d893          	srl	a7,a7,0x17
   1362c:	0018f893          	and	a7,a7,1
			if(data.last_patch_index != ~0) tri_stack[0].shared_edge = find_shared_edge(data.tes_tree.vertex_indices[patch_index], previous_patch_indices);
   13630:	0cc13c23          	sd	a2,216(sp)
   13634:	78e6f6c3          	fmadd.s	fa3,fa3,fa4,fa5
		if(next_level == header.last_lod) //leaf node
   13638:	03c35c13          	srl	s8,t1,0x3c
   1363c:	78e277c3          	fmadd.s	fa5,ft4,fa4,fa5
   13640:	00088463          	beqz	a7,13648 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x478>
   13644:	33c0106f          	j	14980 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x17b0>
   13648:	0a312627          	fsw	ft3,172(sp)
   1364c:	017fdf93          	srl	t6,t6,0x17
   13650:	001fff93          	and	t6,t6,1
   13654:	000f8463          	beqz	t6,1365c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x48c>
   13658:	31c0106f          	j	14974 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x17a4>
   1365c:	0a212827          	fsw	ft2,176(sp)
   13660:	01785813          	srl	a6,a6,0x17
   13664:	00187813          	and	a6,a6,1
   13668:	00080463          	beqz	a6,13670 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x4a0>
   1366c:	2fc0106f          	j	14968 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1798>
   13670:	0a112a27          	fsw	ft1,180(sp)
   13674:	017f5f13          	srl	t5,t5,0x17
   13678:	001f7f13          	and	t5,t5,1
   1367c:	000f0463          	beqz	t5,13684 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x4b4>
   13680:	2dc0106f          	j	1495c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x178c>
   13684:	0a012c27          	fsw	ft0,184(sp)
   13688:	00813603          	ld	a2,8(sp)
   1368c:	01765593          	srl	a1,a2,0x17
   13690:	0015f593          	and	a1,a1,1
   13694:	00058463          	beqz	a1,1369c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x4cc>
   13698:	2b80106f          	j	14950 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1780>
   1369c:	0aa12e27          	fsw	fa0,188(sp)
   136a0:	01755513          	srl	a0,a0,0x17
   136a4:	00157513          	and	a0,a0,1
   136a8:	00050463          	beqz	a0,136b0 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x4e0>
   136ac:	2980106f          	j	14944 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1774>
   136b0:	0cb12027          	fsw	fa1,192(sp)
   136b4:	017ede93          	srl	t4,t4,0x17
   136b8:	001efe93          	and	t4,t4,1
   136bc:	000e8463          	beqz	t4,136c4 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x4f4>
   136c0:	2780106f          	j	14938 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1768>
   136c4:	0cc12227          	fsw	fa2,196(sp)
   136c8:	017e5e13          	srl	t3,t3,0x17
   136cc:	000e0463          	beqz	t3,136d4 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x504>
   136d0:	25c0106f          	j	1492c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x175c>
   136d4:	0cd12427          	fsw	fa3,200(sp)
   136d8:	0172d293          	srl	t0,t0,0x17
   136dc:	0012f293          	and	t0,t0,1
   136e0:	00028463          	beqz	t0,136e8 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x518>
   136e4:	2587a787          	flw	fa5,600(a5)
	e[0] *= v[0];
   136e8:	0001a637          	lui	a2,0x1a
   136ec:	0cf12627          	fsw	fa5,204(sp)
   136f0:	25c62787          	flw	fa5,604(a2) # 1a25c <__DATA_BEGIN__+0xc>
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   136f4:	0001a637          	lui	a2,0x1a
   136f8:	20528dd3          	fmv.s	fs11,ft5
	e[0] *= v[0];
   136fc:	08f12027          	fsw	fa5,128(sp)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   13700:	26862787          	flw	fa5,616(a2) # 1a268 <__DATA_BEGIN__+0x18>
   13704:	0001a637          	lui	a2,0x1a
   13708:	20630b53          	fmv.s	fs6,ft6
   1370c:	08f12227          	fsw	fa5,132(sp)
   13710:	27062787          	flw	fa5,624(a2) # 1a270 <__DATA_BEGIN__+0x20>
   13714:	0001a637          	lui	a2,0x1a
   13718:	20738c53          	fmv.s	fs8,ft7
   1371c:	08f12427          	fsw	fa5,136(sp)
   13720:	27462787          	flw	fa5,628(a2) # 1a274 <__DATA_BEGIN__+0x24>
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   13724:	0001a3b7          	lui	t2,0x1a
   13728:	fff00313          	li	t1,-1
   1372c:	08f12627          	fsw	fa5,140(sp)
   13730:	00100e93          	li	t4,1
		const NodeStackEntry current_node_entry = node_stack[--node_stack_size];
   13734:	fffe8f9b          	addw	t6,t4,-1
   13738:	020f9593          	sll	a1,t6,0x20
   1373c:	0205d593          	srl	a1,a1,0x20
   13740:	00159613          	sll	a2,a1,0x1
   13744:	00b60633          	add	a2,a2,a1
   13748:	00261613          	sll	a2,a2,0x2
   1374c:	0e010593          	add	a1,sp,224
   13750:	44060613          	add	a2,a2,1088
   13754:	00b60633          	add	a2,a2,a1
   13758:	bd062583          	lw	a1,-1072(a2)
		if(current_node_entry.t >= hit.t) continue;
   1375c:	00092b87          	flw	fs7,0(s2)
		const NodeStackEntry current_node_entry = node_stack[--node_stack_size];
   13760:	bd462503          	lw	a0,-1068(a2)
		if(current_node_entry.t >= hit.t) continue;
   13764:	f00587d3          	fmv.w.x	fa5,a1
		const NodeStackEntry current_node_entry = node_stack[--node_stack_size];
   13768:	bd862803          	lw	a6,-1064(a2)
   1376c:	0eb12023          	sw	a1,224(sp)
		if(current_node_entry.t >= hit.t) continue;
   13770:	a0fb8653          	fle.s	a2,fs7,fa5
		const NodeStackEntry current_node_entry = node_stack[--node_stack_size];
   13774:	0ea12223          	sw	a0,228(sp)
   13778:	0f012423          	sw	a6,232(sp)
		if(current_node_entry.t >= hit.t) continue;
   1377c:	4a0610e3          	bnez	a2,1441c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x124c>
		uint32_t node_index = current_node_entry.node_index;
   13780:	0e013503          	ld	a0,224(sp)
		uint32_t dbs = current_node_entry.dbs;
   13784:	0008061b          	sext.w	a2,a6
		uint32_t lod = current_node_entry.lod;
   13788:	03a55e13          	srl	t3,a0,0x3a
		uint32_t node_index = current_node_entry.node_index;
   1378c:	00651293          	sll	t0,a0,0x6
		uint32_t lod = current_node_entry.lod;
   13790:	00fe7a93          	and	s5,t3,15
		uint32_t node_index = current_node_entry.node_index;
   13794:	0262d293          	srl	t0,t0,0x26
		uint32_t lod = current_node_entry.lod;
   13798:	000a8e13          	mv	t3,s5
		uint32_t tri_type = current_node_entry.tri_type;
   1379c:	03e55513          	srl	a0,a0,0x3e
		if(lod == 0)
   137a0:	6a0a94e3          	bnez	s5,14648 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1478>
	e[0] = v[0];
   137a4:	0ac12787          	flw	fa5,172(sp)
			if(data.last_patch_index != ~0) tri_stack[0].shared_edge = find_shared_edge(data.tes_tree.vertex_indices[patch_index], previous_patch_indices);
   137a8:	fff00593          	li	a1,-1
   137ac:	20f12827          	fsw	fa5,528(sp)
	e[1] = v[1];
   137b0:	0b012787          	flw	fa5,176(sp)
   137b4:	20f12a27          	fsw	fa5,532(sp)
	e[2] = v[2];
   137b8:	0b412787          	flw	fa5,180(sp)
   137bc:	20f12c27          	fsw	fa5,536(sp)
	e[0] = v[0];
   137c0:	0b812787          	flw	fa5,184(sp)
   137c4:	20f12e27          	fsw	fa5,540(sp)
	e[1] = v[1];
   137c8:	0bc12787          	flw	fa5,188(sp)
   137cc:	22f12027          	fsw	fa5,544(sp)
	e[2] = v[2];
   137d0:	0c012787          	flw	fa5,192(sp)
   137d4:	22f12227          	fsw	fa5,548(sp)
	e[0] = v[0];
   137d8:	0c412787          	flw	fa5,196(sp)
   137dc:	22f12427          	fsw	fa5,552(sp)
	e[1] = v[1];
   137e0:	0c812787          	flw	fa5,200(sp)
   137e4:	22f12627          	fsw	fa5,556(sp)
	e[2] = v[2];
   137e8:	0cc12787          	flw	fa5,204(sp)
   137ec:	22f12827          	fsw	fa5,560(sp)
   137f0:	00bd1463          	bne	s10,a1,137f8 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x628>
   137f4:	0600106f          	j	14854 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1684>
   137f8:	0d813583          	ld	a1,216(sp)
   137fc:	018db503          	ld	a0,24(s11)
			if(crnt_ptch_inds[i] == prev_ptch_inds[j])
   13800:	05813803          	ld	a6,88(sp)
   13804:	00b50533          	add	a0,a0,a1
	uvec3(uint32_t i, uint32_t j, uint32_t k) { e[0] = i; e[1] = j;  e[2] = k; }

	uint32_t operator[](int i) const { return e[i]; }
   13808:	00052583          	lw	a1,0(a0)
   1380c:	00b81463          	bne	a6,a1,13814 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x644>
   13810:	2a40106f          	j	14ab4 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x18e4>
   13814:	06013803          	ld	a6,96(sp)
   13818:	00b81463          	bne	a6,a1,13820 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x650>
   1381c:	2dc0106f          	j	14af8 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1928>
   13820:	06813883          	ld	a7,104(sp)
   13824:	00452803          	lw	a6,4(a0)
   13828:	00852503          	lw	a0,8(a0)
   1382c:	40b885b3          	sub	a1,a7,a1
   13830:	05813883          	ld	a7,88(sp)
   13834:	0015b593          	seqz	a1,a1
   13838:	01089463          	bne	a7,a6,13840 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x670>
   1383c:	2000106f          	j	14a3c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x186c>
   13840:	06013883          	ld	a7,96(sp)
   13844:	01089463          	bne	a7,a6,1384c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x67c>
   13848:	1f40106f          	j	14a3c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x186c>
   1384c:	06813883          	ld	a7,104(sp)
   13850:	01089463          	bne	a7,a6,13858 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x688>
   13854:	1e80106f          	j	14a3c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x186c>
   13858:	05813803          	ld	a6,88(sp)
   1385c:	00a81463          	bne	a6,a0,13864 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x694>
   13860:	2380106f          	j	14a98 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x18c8>
   13864:	06013803          	ld	a6,96(sp)
   13868:	00a81463          	bne	a6,a0,13870 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x6a0>
   1386c:	22c0106f          	j	14a98 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x18c8>
   13870:	00a89463          	bne	a7,a0,13878 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x6a8>
   13874:	2240106f          	j	14a98 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x18c8>
   13878:	00300813          	li	a6,3
   1387c:	21010593          	add	a1,sp,528
   13880:	25010c23          	sb	a6,600(sp)
   13884:	00058513          	mv	a0,a1
   13888:	00000e13          	li	t3,0
		bool edge_mask[3] = {patch_index == data.last_patch_index || tri_stack[lod].shared_edge == 0, patch_index == data.last_patch_index || tri_stack[lod].shared_edge == 1, patch_index == data.last_patch_index || tri_stack[lod].shared_edge == 2};
   1388c:	699d00e3          	beq	s10,s9,1470c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x153c>
   13890:	04c00813          	li	a6,76
   13894:	030a8833          	mul	a6,s5,a6
   13898:	0e010893          	add	a7,sp,224
   1389c:	44080813          	add	a6,a6,1088
   138a0:	01180833          	add	a6,a6,a7
   138a4:	d3884883          	lbu	a7,-712(a6)
   138a8:	fff88b13          	add	s6,a7,-1
   138ac:	ffe88a13          	add	s4,a7,-2
   138b0:	001b3b13          	seqz	s6,s6
   138b4:	0018b893          	seqz	a7,a7
   138b8:	001a3a13          	seqz	s4,s4
		glm::vec3 edge_states = evalute_deformation_bounds(dbs, max_db_over_max_error, tri_stack[lod].tri, data.last_ray, ray, edge_mask);
   138bc:	04813803          	ld	a6,72(sp)
	inline float operator[](int i) const { return e[i]; }
   138c0:	00452e07          	flw	ft8,4(a0)
   138c4:	01052587          	flw	fa1,16(a0)
   138c8:	00883803          	ld	a6,8(a6)
   138cc:	01c52087          	flw	ft1,28(a0)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   138d0:	0945f253          	fsub.s	ft4,fa1,fs4
	inline float operator[](int i) const { return e[i]; }
   138d4:	00482787          	flw	fa5,4(a6)
   138d8:	01482607          	flw	fa2,20(a6)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   138dc:	0940f353          	fsub.s	ft6,ft1,fs4
   138e0:	08fe72d3          	fsub.s	ft5,ft8,fa5
	inline float operator[](int i) const { return e[i]; }
   138e4:	00082707          	flw	fa4,0(a6)
   138e8:	00052e87          	flw	ft9,0(a0)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   138ec:	094e7053          	fsub.s	ft0,ft8,fs4
   138f0:	08f5f6d3          	fsub.s	fa3,fa1,fa5
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   138f4:	10c2f2d3          	fmul.s	ft5,ft5,fa2
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   138f8:	08eef453          	fsub.s	fs0,ft9,fa4
   138fc:	08f0f7d3          	fsub.s	fa5,ft1,fa5
	inline float operator[](int i) const { return e[i]; }
   13900:	00882387          	flw	ft7,8(a6)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   13904:	104b7853          	fmul.s	fa6,fs6,ft4
	inline float operator[](int i) const { return e[i]; }
   13908:	01452f07          	flw	ft10,20(a0)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   1390c:	02412c27          	fsw	ft4,56(sp)
   13910:	02612427          	fsw	ft6,40(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   13914:	106b7253          	fmul.s	ft4,fs6,ft6
	inline float operator[](int i) const { return e[i]; }
   13918:	01082307          	flw	ft6,16(a6)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   1391c:	099effd3          	fsub.s	ft11,ft9,fs9
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   13920:	100b71d3          	fmul.s	ft3,fs6,ft0
	inline float operator[](int i) const { return e[i]; }
   13924:	00c52507          	flw	fa0,12(a0)
   13928:	01852107          	flw	ft2,24(a0)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   1392c:	28647443          	fmadd.s	fs0,fs0,ft6,ft5
   13930:	10c6f6d3          	fmul.s	fa3,fa3,fa2
   13934:	10c7f7d3          	fmul.s	fa5,fa5,fa2
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   13938:	087f72d3          	fsub.s	ft5,ft10,ft7
	inline float operator[](int i) const { return e[i]; }
   1393c:	00852607          	flw	fa2,8(a0)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   13940:	099574d3          	fsub.s	fs1,fa0,fs9
   13944:	09917d53          	fsub.s	fs10,ft2,fs9
   13948:	08e578d3          	fsub.s	fa7,fa0,fa4
   1394c:	08e17753          	fsub.s	fa4,ft2,fa4
   13950:	19fc71c3          	fmadd.s	ft3,fs8,ft11,ft3
   13954:	00012c27          	fsw	ft0,24(sp)
   13958:	01f12827          	fsw	ft11,16(sp)
	inline float operator[](int i) const { return e[i]; }
   1395c:	02052007          	flw	ft0,32(a0)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   13960:	08767fd3          	fsub.s	ft11,fa2,ft7
   13964:	00512427          	fsw	ft5,8(sp)
	inline float operator[](int i) const { return e[i]; }
   13968:	01882287          	flw	ft5,24(a6)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   1396c:	691378c3          	fmadd.s	fa7,ft6,fa7,fa3
   13970:	809c7843          	fmadd.s	fa6,fs8,fs1,fa6
   13974:	78e37343          	fmadd.s	ft6,ft6,fa4,fa5
   13978:	21ac7243          	fmadd.s	ft4,fs8,fs10,ft4
	glm::vec3 fdbs((float)(qdb >> 00 & 0x3ff), (float)(qdb >> 10 & 0x3ff), (float)(qdb >> 20 & 0x3ff));
   1397c:	00a6599b          	srlw	s3,a2,0xa
   13980:	01465f1b          	srlw	t5,a2,0x14
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   13984:	095679d3          	fsub.s	fs3,fa2,fs5
   13988:	095f7953          	fsub.s	fs2,ft10,fs5
   1398c:	087073d3          	fsub.s	ft7,ft0,ft7
   13990:	02912227          	fsw	fs1,36(sp)
   13994:	095074d3          	fsub.s	fs1,ft0,fs5
   13998:	3ff67613          	and	a2,a2,1023
   1399c:	3ff9f993          	and	s3,s3,1023
   139a0:	3fff7f13          	and	t5,t5,1023
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   139a4:	405fffc3          	fmadd.s	ft11,ft11,ft5,fs0
   139a8:	d00676d3          	fcvt.s.w	fa3,a2
   139ac:	d009f753          	fcvt.s.w	fa4,s3
   139b0:	d00f77d3          	fcvt.s.w	fa5,t5
   139b4:	00812407          	flw	fs0,8(sp)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   139b8:	03a12027          	fsw	fs10,32(sp)
	e[0] *= v[0];
   139bc:	08012d07          	flw	fs10,128(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   139c0:	8882f8c3          	fmadd.s	fa7,ft5,fs0,fa7
   139c4:	193df1c3          	fmadd.s	ft3,fs11,fs3,ft3
	e[0] *= v[0];
   139c8:	11a6f6d3          	fmul.s	fa3,fa3,fs10
	e[1] *= v[1];
   139cc:	11a77753          	fmul.s	fa4,fa4,fs10
	e[2] *= v[2];
   139d0:	11a7f7d3          	fmul.s	fa5,fa5,fs10
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   139d4:	812df843          	fmadd.s	fa6,fs11,fs2,fa6
   139d8:	209df243          	fmadd.s	ft4,fs11,fs1,ft4
   139dc:	3072f2c3          	fmadd.s	ft5,ft5,ft7,ft6
	if(edge_mask[0]) r[0] = std::min(last_dlen[1], last_dlen[2]) * last_ray.drdt + last_ray.radius;
   139e0:	52088ee3          	beqz	a7,1471c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x154c>
   139e4:	28588353          	fmin.s	ft6,fa7,ft5
   139e8:	02082387          	flw	ft7,32(a6)
   139ec:	02482407          	flw	fs0,36(a6)
   139f0:	4063f343          	fmadd.s	ft6,ft7,ft6,fs0
	if(edge_mask[1]) r[1] = std::min(last_dlen[2], last_dlen[0]) * last_ray.drdt + last_ray.radius;
   139f4:	420b06e3          	beqz	s6,14620 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1450>
   139f8:	285f82d3          	fmin.s	ft5,ft11,ft5
   139fc:	02082207          	flw	ft4,32(a6)
   13a00:	02482387          	flw	ft7,36(a6)
   13a04:	385272c3          	fmadd.s	ft5,ft4,ft5,ft7
	if(edge_mask[2]) r[2] = std::min(last_dlen[0], last_dlen[1]) * last_ray.drdt + last_ray.radius;
   13a08:	420a06e3          	beqz	s4,14634 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1464>
   13a0c:	291f8fd3          	fmin.s	ft11,ft11,fa7
   13a10:	02082187          	flw	ft3,32(a6)
   13a14:	02482387          	flw	ft7,36(a6)
   13a18:	39f1f3c3          	fmadd.s	ft7,ft3,ft11,ft7
	asm volatile("frcp.s %0,%1\n\t" 
   13a1c:	60037353          	frcp.s	ft6,ft6
   13a20:	6002f2d3          	frcp.s	ft5,ft5
   13a24:	6003f3d3          	frcp.s	ft7,ft7
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   13a28:	10d6f6d3          	fmul.s	fa3,fa3,fa3
   13a2c:	05412807          	flw	fa6,84(sp)
   13a30:	10e77753          	fmul.s	fa4,fa4,fa4
   13a34:	10f7f7d3          	fmul.s	fa5,fa5,fa5
      if (__a < __b)
   13a38:	2587a207          	flw	ft4,600(a5)
   13a3c:	1106f6d3          	fmul.s	fa3,fa3,fa6
   13a40:	f00001d3          	fmv.w.x	ft3,zero
   13a44:	11077753          	fmul.s	fa4,fa4,fa6
   13a48:	1107f7d3          	fmul.s	fa5,fa5,fa6
   13a4c:	1066f6d3          	fmul.s	fa3,fa3,ft6
   13a50:	10577753          	fmul.s	fa4,fa4,ft5
   13a54:	1077f7d3          	fmul.s	fa5,fa5,ft7
   13a58:	a0469653          	flt.s	a2,fa3,ft4
   13a5c:	00061663          	bnez	a2,13a68 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x898>
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   13a60:	0846f1d3          	fsub.s	ft3,fa3,ft4
   13a64:	284181d3          	fmin.s	ft3,ft3,ft4
   13a68:	2587a207          	flw	ft4,600(a5)
   13a6c:	f00006d3          	fmv.w.x	fa3,zero
   13a70:	a0471653          	flt.s	a2,fa4,ft4
   13a74:	00061663          	bnez	a2,13a80 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x8b0>
   13a78:	084776d3          	fsub.s	fa3,fa4,ft4
   13a7c:	284686d3          	fmin.s	fa3,fa3,ft4
   13a80:	2587a207          	flw	ft4,600(a5)
   13a84:	f0000753          	fmv.w.x	fa4,zero
   13a88:	a0479653          	flt.s	a2,fa5,ft4
   13a8c:	00061663          	bnez	a2,13a98 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x8c8>
   13a90:	0847f753          	fsub.s	fa4,fa5,ft4
   13a94:	28470753          	fmin.s	fa4,fa4,ft4
		if(edge_states[0] <= 0.0f && edge_states[1] <= 0.0f && edge_states[2] <= 0.0f)
   13a98:	f00007d3          	fmv.w.x	fa5,zero
   13a9c:	a0f18653          	fle.s	a2,ft3,fa5
   13aa0:	00060a63          	beqz	a2,13ab4 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x8e4>
   13aa4:	a0f68653          	fle.s	a2,fa3,fa5
   13aa8:	00060663          	beqz	a2,13ab4 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x8e4>
   13aac:	a0f70653          	fle.s	a2,fa4,fa5
   13ab0:	7e061e63          	bnez	a2,142ac <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x10dc>
		uint32_t absoulte_node_index = lod_node_offset[lod] + node_index;
   13ab4:	00019637          	lui	a2,0x19
   13ab8:	002a9813          	sll	a6,s5,0x2
   13abc:	d3860613          	add	a2,a2,-712 # 18d38 <_ZL15lod_node_offset>
   13ac0:	01060633          	add	a2,a2,a6
   13ac4:	00062883          	lw	a7,0(a2)
   13ac8:	07813603          	ld	a2,120(sp)
   13acc:	020a9b13          	sll	s6,s5,0x20
   13ad0:	005888bb          	addw	a7,a7,t0
		move_to_stack(new_tri, triangles[absoulte_node_index]);
   13ad4:	02089893          	sll	a7,a7,0x20
   13ad8:	0208d893          	srl	a7,a7,0x20
   13adc:	01160f33          	add	t5,a2,a7
		uint64_t r = ((uint64_t*)&src)[i];
   13ae0:	07013603          	ld	a2,112(sp)
   13ae4:	005f1f13          	sll	t5,t5,0x5
		uint32_t absoulte_node_index = lod_node_offset[lod] + node_index;
   13ae8:	020b5b13          	srl	s6,s6,0x20
   13aec:	01e60f33          	add	t5,a2,t5
   13af0:	000f3803          	ld	a6,0(t5)
   13af4:	008f3603          	ld	a2,8(t5)
   13af8:	010f3a03          	ld	s4,16(t5)
	float f0 = u24_to_f32(dw0 & 0xffffff);
   13afc:	0008099b          	sext.w	s3,a6
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   13b00:	0179db93          	srl	s7,s3,0x17
   13b04:	001bfb93          	and	s7,s7,1
		uint64_t r = ((uint64_t*)&src)[i];
   13b08:	018f3f03          	ld	t5,24(t5)
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   13b0c:	460b92e3          	bnez	s7,14770 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x15a0>
   13b10:	02899993          	sll	s3,s3,0x28
   13b14:	0289d993          	srl	s3,s3,0x28
   13b18:	3f800bb7          	lui	s7,0x3f800
	return *((float*)&u);
   13b1c:	0179e9b3          	or	s3,s3,s7
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   13b20:	26072207          	flw	ft4,608(a4)
   13b24:	2646a787          	flw	fa5,612(a3)
   13b28:	f00982d3          	fmv.w.x	ft5,s3
   13b2c:	7842ffc3          	fmadd.s	ft11,ft5,ft4,fa5
	float f1 = u24_to_f32((dw0 >> 24) & 0xffffff);
   13b30:	01885993          	srl	s3,a6,0x18
   13b34:	0009899b          	sext.w	s3,s3
   13b38:	0179db93          	srl	s7,s3,0x17
   13b3c:	001bfb93          	and	s7,s7,1
   13b40:	420b94e3          	bnez	s7,14768 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1598>
   13b44:	02899993          	sll	s3,s3,0x28
   13b48:	0289d993          	srl	s3,s3,0x28
   13b4c:	3f800bb7          	lui	s7,0x3f800
	return *((float*)&u);
   13b50:	0179e9b3          	or	s3,s3,s7
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   13b54:	26072207          	flw	ft4,608(a4)
   13b58:	2646a787          	flw	fa5,612(a3)
   13b5c:	f00982d3          	fmv.w.x	ft5,s3
   13b60:	7842f843          	fmadd.s	fa6,ft5,ft4,fa5
	float f2 = u24_to_f32(((dw0 >> 48) | (dw1 << 16)) & 0xffffff);
   13b64:	0106199b          	sllw	s3,a2,0x10
   13b68:	03085813          	srl	a6,a6,0x30
   13b6c:	01386833          	or	a6,a6,s3
   13b70:	0008081b          	sext.w	a6,a6
   13b74:	01785993          	srl	s3,a6,0x17
   13b78:	0019f993          	and	s3,s3,1
   13b7c:	3e0992e3          	bnez	s3,14760 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1590>
   13b80:	02881813          	sll	a6,a6,0x28
   13b84:	02885813          	srl	a6,a6,0x28
   13b88:	3f8009b7          	lui	s3,0x3f800
	return *((float*)&u);
   13b8c:	01386833          	or	a6,a6,s3
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   13b90:	26072207          	flw	ft4,608(a4)
   13b94:	2646a787          	flw	fa5,612(a3)
   13b98:	f00802d3          	fmv.w.x	ft5,a6
   13b9c:	7842f243          	fmadd.s	ft4,ft5,ft4,fa5
	float f3 = u24_to_f32((dw1 >> 8) & 0xffffff);
   13ba0:	00865813          	srl	a6,a2,0x8
   13ba4:	0008081b          	sext.w	a6,a6
   13ba8:	01785993          	srl	s3,a6,0x17
   13bac:	0019f993          	and	s3,s3,1
   13bb0:	3a0994e3          	bnez	s3,14758 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1588>
   13bb4:	02881813          	sll	a6,a6,0x28
   13bb8:	02885813          	srl	a6,a6,0x28
   13bbc:	3f8009b7          	lui	s3,0x3f800
	return *((float*)&u);
   13bc0:	01386833          	or	a6,a6,s3
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   13bc4:	26072287          	flw	ft5,608(a4)
   13bc8:	2646a787          	flw	fa5,612(a3)
   13bcc:	f0080353          	fmv.w.x	ft6,a6
   13bd0:	785373c3          	fmadd.s	ft7,ft6,ft5,fa5
	float f4 = u24_to_f32((dw1 >> 32) & 0xffffff);
   13bd4:	42065813          	sra	a6,a2,0x20
   13bd8:	01785993          	srl	s3,a6,0x17
   13bdc:	0019f993          	and	s3,s3,1
   13be0:	360998e3          	bnez	s3,14750 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1580>
   13be4:	02881813          	sll	a6,a6,0x28
   13be8:	02885813          	srl	a6,a6,0x28
   13bec:	3f8009b7          	lui	s3,0x3f800
	return *((float*)&u);
   13bf0:	01386833          	or	a6,a6,s3
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   13bf4:	26072287          	flw	ft5,608(a4)
   13bf8:	2646a787          	flw	fa5,612(a3)
   13bfc:	f0080353          	fmv.w.x	ft6,a6
   13c00:	785378c3          	fmadd.s	fa7,ft6,ft5,fa5
	float f5 = u24_to_f32(((dw1 >> 56) | (dw2 << 8)) & 0xffffff);
   13c04:	008a181b          	sllw	a6,s4,0x8
   13c08:	03865613          	srl	a2,a2,0x38
   13c0c:	01066633          	or	a2,a2,a6
   13c10:	0006061b          	sext.w	a2,a2
   13c14:	01765813          	srl	a6,a2,0x17
   13c18:	00187813          	and	a6,a6,1
   13c1c:	320816e3          	bnez	a6,14748 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1578>
   13c20:	02861613          	sll	a2,a2,0x28
   13c24:	02865613          	srl	a2,a2,0x28
   13c28:	3f800837          	lui	a6,0x3f800
	return *((float*)&u);
   13c2c:	01066633          	or	a2,a2,a6
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   13c30:	26072287          	flw	ft5,608(a4)
   13c34:	2646a787          	flw	fa5,612(a3)
   13c38:	f0060353          	fmv.w.x	ft6,a2
   13c3c:	785377c3          	fmadd.s	fa5,ft6,ft5,fa5
	float f6 = u24_to_f32((dw2 >> 16) & 0xffffff);
   13c40:	010a5613          	srl	a2,s4,0x10
   13c44:	0006061b          	sext.w	a2,a2
   13c48:	01765813          	srl	a6,a2,0x17
   13c4c:	00187813          	and	a6,a6,1
   13c50:	2e0818e3          	bnez	a6,14740 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1570>
   13c54:	02861613          	sll	a2,a2,0x28
   13c58:	02865613          	srl	a2,a2,0x28
   13c5c:	3f800837          	lui	a6,0x3f800
	return *((float*)&u);
   13c60:	01066633          	or	a2,a2,a6
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   13c64:	26072307          	flw	ft6,608(a4)
   13c68:	2646a287          	flw	ft5,612(a3)
   13c6c:	f0060453          	fmv.w.x	fs0,a2
   13c70:	28647343          	fmadd.s	ft6,fs0,ft6,ft5
	float f7 = u24_to_f32((dw2 >> 40) & 0xffffff);
   13c74:	028a5613          	srl	a2,s4,0x28
   13c78:	2c0a40e3          	bltz	s4,14738 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1568>
   13c7c:	3f800837          	lui	a6,0x3f800
	return *((float*)&u);
   13c80:	01066633          	or	a2,a2,a6
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   13c84:	26072407          	flw	fs0,608(a4)
   13c88:	2646a287          	flw	ft5,612(a3)
   13c8c:	f00604d3          	fmv.w.x	fs1,a2
   13c90:	2884f443          	fmadd.s	fs0,fs1,fs0,ft5
	float f8 = u24_to_f32(dw3 & 0xffffff);
   13c94:	000f0f1b          	sext.w	t5,t5
   13c98:	017f5613          	srl	a2,t5,0x17
   13c9c:	00167613          	and	a2,a2,1
   13ca0:	280618e3          	bnez	a2,14730 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1560>
   13ca4:	028f1f13          	sll	t5,t5,0x28
   13ca8:	028f5f13          	srl	t5,t5,0x28
   13cac:	3f800637          	lui	a2,0x3f800
	return *((float*)&u);
   13cb0:	00cf6f33          	or	t5,t5,a2
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   13cb4:	26072487          	flw	fs1,608(a4)
   13cb8:	2646a287          	flw	ft5,612(a3)
   13cbc:	f00f0953          	fmv.w.x	fs2,t5
   13cc0:	289972c3          	fmadd.s	ft5,fs2,fs1,ft5
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   13cc4:	002579d3          	fadd.s	fs3,fa0,ft2
   13cc8:	0015f953          	fadd.s	fs2,fa1,ft1
   13ccc:	000f74d3          	fadd.s	fs1,ft10,ft0
   13cd0:	002ef153          	fadd.s	ft2,ft9,ft2
   13cd4:	001e70d3          	fadd.s	ft1,ft8,ft1
   13cd8:	00067053          	fadd.s	ft0,fa2,ft0
   13cdc:	00aef553          	fadd.s	fa0,ft9,fa0
   13ce0:	00be75d3          	fadd.s	fa1,ft8,fa1
   13ce4:	01e67653          	fadd.s	fa2,fa2,ft10
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   13ce8:	08412e87          	flw	ft9,132(sp)
class Triangle
   13cec:	024e0e13          	add	t3,t3,36
   13cf0:	01c585b3          	add	a1,a1,t3
   13cf4:	39d173cb          	fnmsub.s	ft7,ft2,ft9,ft7
   13cf8:	89d0f8cb          	fnmsub.s	fa7,ft1,ft9,fa7
   13cfc:	31d5734b          	fnmsub.s	ft6,fa0,ft9,ft6
   13d00:	41d5f44b          	fnmsub.s	fs0,fa1,ft9,fs0
   13d04:	29d672cb          	fnmsub.s	ft5,fa2,ft9,ft5
   13d08:	f9d9ffcb          	fnmsub.s	ft11,fs3,ft9,ft11
   13d0c:	81d9784b          	fnmsub.s	fa6,fs2,ft9,fa6
   13d10:	21d4f24b          	fnmsub.s	ft4,fs1,ft9,ft4
   13d14:	79d077cb          	fnmsub.s	fa5,ft0,ft9,fa5
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   13d18:	10d8f8d3          	fmul.s	fa7,fa7,fa3
   13d1c:	103fffd3          	fmul.s	ft11,ft11,ft3
   13d20:	10387853          	fmul.s	fa6,fa6,ft3
   13d24:	10327253          	fmul.s	ft4,ft4,ft3
   13d28:	10d7f7d3          	fmul.s	fa5,fa5,fa3
   13d2c:	10d3f3d3          	fmul.s	ft7,ft7,fa3
   13d30:	10e47453          	fmul.s	fs0,fs0,fa4
   13d34:	10e2f2d3          	fmul.s	ft5,ft5,fa4
   13d38:	10e37353          	fmul.s	ft6,ft6,fa4
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   13d3c:	f9d9fe43          	fmadd.s	ft8,fs3,ft9,ft11
   13d40:	81d97843          	fmadd.s	fa6,fs2,ft9,fa6
   13d44:	21d4f243          	fmadd.s	ft4,fs1,ft9,ft4
   13d48:	39d17143          	fmadd.s	ft2,ft2,ft9,ft7
   13d4c:	89d0f0c3          	fmadd.s	ft1,ft1,ft9,fa7
   13d50:	79d077c3          	fmadd.s	fa5,ft0,ft9,fa5
   13d54:	31d57543          	fmadd.s	fa0,fa0,ft9,ft6
   13d58:	41d5f5c3          	fmadd.s	fa1,fa1,ft9,fs0
   13d5c:	29d67643          	fmadd.s	fa2,fa2,ft9,ft5
   13d60:	03c12e27          	fsw	ft8,60(sp)
   13d64:	05012027          	fsw	fa6,64(sp)
   13d68:	04412227          	fsw	ft4,68(sp)
   13d6c:	02212027          	fsw	ft2,32(sp)
   13d70:	02112227          	fsw	ft1,36(sp)
   13d74:	02f12c27          	fsw	fa5,56(sp)
   13d78:	00a12427          	fsw	fa0,8(sp)
   13d7c:	00b12827          	fsw	fa1,16(sp)
   13d80:	00c12c27          	fsw	fa2,24(sp)
	e[0] = v[0];
   13d84:	01c5a027          	fsw	ft8,0(a1)
	e[1] = v[1];
   13d88:	0105a227          	fsw	fa6,4(a1)
	e[2] = v[2];
   13d8c:	0045a427          	fsw	ft4,8(a1)
	e[0] = v[0];
   13d90:	0025a627          	fsw	ft2,12(a1)
	e[1] = v[1];
   13d94:	0015a827          	fsw	ft1,16(a1)
	e[2] = v[2];
   13d98:	00f5aa27          	fsw	fa5,20(a1)
	e[0] = v[0];
   13d9c:	00a5ac27          	fsw	fa0,24(a1)
	e[1] = v[1];
   13da0:	00b5ae27          	fsw	fa1,28(a1)
	e[2] = v[2];
   13da4:	02c5a027          	fsw	fa2,32(a1)
		uint32_t next_level = lod + 1;
   13da8:	001a8a13          	add	s4,s5,1
		uint32_t first_child_index = node_index << 2; //compute first child idnex
   13dac:	00229293          	sll	t0,t0,0x2
		if(next_level == header.last_lod) //leaf node
   13db0:	674c0c63          	beq	s8,s4,14428 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1258>
				}
			}
		}
		else //interior node
		{
			tri_stack[lod].child_transformed = (edge_states[0] < 1.0f) || (edge_states[1] < 1.0f) || (edge_states[2] < 1.0f) || ((lod != 0) && tri_stack[lod - 1].child_transformed);
   13db4:	2587a787          	flw	fa5,600(a5)
   13db8:	00100993          	li	s3,1
   13dbc:	a0f19653          	flt.s	a2,ft3,fa5
   13dc0:	00061e63          	bnez	a2,13ddc <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xc0c>
   13dc4:	a0f69653          	flt.s	a2,fa3,fa5
   13dc8:	00061a63          	bnez	a2,13ddc <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xc0c>
   13dcc:	a0f71653          	flt.s	a2,fa4,fa5
   13dd0:	00061663          	bnez	a2,13ddc <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xc0c>
   13dd4:	00000993          	li	s3,0
   13dd8:	3a0a9ae3          	bnez	s5,1498c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x17bc>
   13ddc:	04c00593          	li	a1,76
   13de0:	02bb05b3          	mul	a1,s6,a1
		uint64_t r = ((uint64_t*)&src)[i];
   13de4:	0a013603          	ld	a2,160(sp)
   13de8:	09813803          	ld	a6,152(sp)
   13dec:	00c4a207          	flw	ft4,12(s1)
   13df0:	01160633          	add	a2,a2,a7
   13df4:	00661613          	sll	a2,a2,0x6
   13df8:	00c80633          	add	a2,a6,a2
   13dfc:	00863b83          	ld	s7,8(a2) # 3f800008 <__global_pointer$+0x3f7e55b8>
   13e00:	01063b03          	ld	s6,16(a2)
   13e04:	01863a83          	ld	s5,24(a2)
   13e08:	03063883          	ld	a7,48(a2)
   13e0c:	03863803          	ld	a6,56(a2)
   13e10:	02063f03          	ld	t5,32(a2)
   13e14:	02863e03          	ld	t3,40(a2)
		((uint64_t*)&dst)[i] = r;
   13e18:	00063603          	ld	a2,0(a2)
   13e1c:	44058593          	add	a1,a1,1088
      if (__b < __a)
   13e20:	01c4a187          	flw	ft3,28(s1)
   13e24:	00c13023          	sd	a2,0(sp)
   13e28:	0e010613          	add	a2,sp,224
   13e2c:	00c585b3          	add	a1,a1,a2
   13e30:	00013603          	ld	a2,0(sp)
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   13e34:	2587a007          	flw	ft0,600(a5)
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   13e38:	26072107          	flw	ft2,608(a4)
   13e3c:	26c3a087          	flw	ft1,620(t2) # 1a26c <__DATA_BEGIN__+0x1c>
   13e40:	09012287          	flw	ft5,144(sp)
   13e44:	09412307          	flw	ft6,148(sp)
   13e48:	0a812387          	flw	ft7,168(sp)
   13e4c:	01812987          	flw	fs3,24(sp)
		((uint64_t*)&dst)[i] = r;
   13e50:	01743423          	sd	s7,8(s0)
   13e54:	01643823          	sd	s6,16(s0)
   13e58:	01543c23          	sd	s5,24(s0)
   13e5c:	03143823          	sd	a7,48(s0)
   13e60:	03043c23          	sd	a6,56(s0)
   13e64:	d3358ca3          	sb	s3,-711(a1)
   13e68:	00c43023          	sd	a2,0(s0)
   13e6c:	03e43023          	sd	t5,32(s0)
   13e70:	03c43423          	sd	t3,40(s0)
   13e74:	00040813          	mv	a6,s0
		const NodeStackEntry current_node_entry = node_stack[--node_stack_size];
   13e78:	000f8b93          	mv	s7,t6
   13e7c:	00000893          	li	a7,0
   13e80:	03b13423          	sd	s11,40(sp)
   13e84:	03a13823          	sd	s10,48(sp)
   13e88:	000a0b13          	mv	s6,s4
   13e8c:	00028a93          	mv	s5,t0
   13e90:	00085603          	lhu	a2,0(a6) # 3f800000 <__global_pointer$+0x3f7e55b0>
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   13e94:	200007d3          	fmv.s	fa5,ft0
   13e98:	00f65593          	srl	a1,a2,0xf
   13e9c:	00059e63          	bnez	a1,13eb8 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xce8>
   13ea0:	0086161b          	sllw	a2,a2,0x8
   13ea4:	3f8005b7          	lui	a1,0x3f800
	return *((float*)&u);
   13ea8:	00b66633          	or	a2,a2,a1
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   13eac:	f00607d3          	fmv.w.x	fa5,a2
   13eb0:	0807f7d3          	fsub.s	fa5,fa5,ft0
   13eb4:	0827f7c3          	fmadd.s	fa5,fa5,ft2,ft1
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   13eb8:	00685603          	lhu	a2,6(a6)
   13ebc:	20000553          	fmv.s	fa0,ft0
   13ec0:	00f65593          	srl	a1,a2,0xf
   13ec4:	00059e63          	bnez	a1,13ee0 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xd10>
   13ec8:	0086161b          	sllw	a2,a2,0x8
   13ecc:	3f8005b7          	lui	a1,0x3f800
	return *((float*)&u);
   13ed0:	00b66633          	or	a2,a2,a1
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   13ed4:	f0060753          	fmv.w.x	fa4,a2
   13ed8:	08077753          	fsub.s	fa4,fa4,ft0
   13edc:	08277543          	fmadd.s	fa0,fa4,ft2,ft1
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   13ee0:	00285603          	lhu	a2,2(a6)
   13ee4:	20000653          	fmv.s	fa2,ft0
   13ee8:	00f65593          	srl	a1,a2,0xf
   13eec:	00059e63          	bnez	a1,13f08 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xd38>
   13ef0:	0086161b          	sllw	a2,a2,0x8
   13ef4:	3f8005b7          	lui	a1,0x3f800
	return *((float*)&u);
   13ef8:	00b66633          	or	a2,a2,a1
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   13efc:	f0060753          	fmv.w.x	fa4,a2
   13f00:	08077753          	fsub.s	fa4,fa4,ft0
   13f04:	08277643          	fmadd.s	fa2,fa4,ft2,ft1
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   13f08:	00885603          	lhu	a2,8(a6)
   13f0c:	0001ae37          	lui	t3,0x1a
   13f10:	258e2587          	flw	fa1,600(t3) # 1a258 <__DATA_BEGIN__+0x8>
   13f14:	00f65593          	srl	a1,a2,0xf
   13f18:	02059663          	bnez	a1,13f44 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xd74>
   13f1c:	3f8005b7          	lui	a1,0x3f800
   13f20:	0086161b          	sllw	a2,a2,0x8
	return *((float*)&u);
   13f24:	00b66633          	or	a2,a2,a1
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   13f28:	f0060753          	fmv.w.x	fa4,a2
   13f2c:	0001a5b7          	lui	a1,0x1a
   13f30:	0001a637          	lui	a2,0x1a
   13f34:	08b77753          	fsub.s	fa4,fa4,fa1
   13f38:	26062687          	flw	fa3,608(a2) # 1a260 <__DATA_BEGIN__+0x10>
   13f3c:	26c5a587          	flw	fa1,620(a1) # 1a26c <__DATA_BEGIN__+0x1c>
   13f40:	58d775c3          	fmadd.s	fa1,fa4,fa3,fa1
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   13f44:	00485603          	lhu	a2,4(a6)
   13f48:	0001ae37          	lui	t3,0x1a
   13f4c:	258e2687          	flw	fa3,600(t3) # 1a258 <__DATA_BEGIN__+0x8>
   13f50:	00f65593          	srl	a1,a2,0xf
   13f54:	02059263          	bnez	a1,13f78 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xda8>
   13f58:	0086161b          	sllw	a2,a2,0x8
   13f5c:	3f8005b7          	lui	a1,0x3f800
	return *((float*)&u);
   13f60:	00b66633          	or	a2,a2,a1
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   13f64:	f0060753          	fmv.w.x	fa4,a2
   13f68:	26c3a807          	flw	fa6,620(t2)
   13f6c:	08d77753          	fsub.s	fa4,fa4,fa3
   13f70:	26072687          	flw	fa3,608(a4)
   13f74:	80d776c3          	fmadd.s	fa3,fa4,fa3,fa6
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   13f78:	00a85603          	lhu	a2,10(a6)
   13f7c:	2587a707          	flw	fa4,600(a5)
   13f80:	00f65593          	srl	a1,a2,0xf
   13f84:	02059263          	bnez	a1,13fa8 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xdd8>
   13f88:	0086161b          	sllw	a2,a2,0x8
   13f8c:	3f8005b7          	lui	a1,0x3f800
	return *((float*)&u);
   13f90:	00b66633          	or	a2,a2,a1
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   13f94:	f0060853          	fmv.w.x	fa6,a2
   13f98:	26072887          	flw	fa7,608(a4)
   13f9c:	08e87753          	fsub.s	fa4,fa6,fa4
   13fa0:	26c3a807          	flw	fa6,620(t2)
   13fa4:	81177743          	fmadd.s	fa4,fa4,fa7,fa6
			move_to_stack(node4, nodes[absoulte_node_index]);
			
			for(uint32_t i = 0; i < 4; ++i)
			{
				AABB aabb = decompress(node4.nodes[i].aabb);
				if(tri_stack[lod].child_transformed)
   13fa8:	26099863          	bnez	s3,14218 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1048>
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   13fac:	0997f7d3          	fsub.s	fa5,fa5,fs9
   13fb0:	09467653          	fsub.s	fa2,fa2,fs4
   13fb4:	09957553          	fsub.s	fa0,fa0,fs9
   13fb8:	0945f5d3          	fsub.s	fa1,fa1,fs4
   13fbc:	09577853          	fsub.s	fa6,fa4,fs5
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   13fc0:	1077f7d3          	fmul.s	fa5,fa5,ft7
   13fc4:	10667653          	fmul.s	fa2,fa2,ft6
   13fc8:	10757553          	fmul.s	fa0,fa0,ft7
   13fcc:	1065f5d3          	fmul.s	fa1,fa1,ft6
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   13fd0:	0956f6d3          	fsub.s	fa3,fa3,fs5
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   13fd4:	10587853          	fmul.s	fa6,fa6,ft5
   13fd8:	28a78753          	fmin.s	fa4,fa5,fa0
   13fdc:	28b608d3          	fmin.s	fa7,fa2,fa1
	if (tmin > tmax) return ray.t_max;//no hit || behind
   13fe0:	28a797d3          	fmax.s	fa5,fa5,fa0
   13fe4:	28b61653          	fmax.s	fa2,fa2,fa1
   13fe8:	1056f6d3          	fmul.s	fa3,fa3,ft5
	float tmin = std::max(std::max(tminv.x, tminv.y), std::max(tminv.z, ray.t_min));
   13fec:	29171753          	fmax.s	fa4,fa4,fa7
	if (tmin > tmax) return ray.t_max;//no hit || behind
   13ff0:	28c787d3          	fmin.s	fa5,fa5,fa2
   13ff4:	28471753          	fmax.s	fa4,fa4,ft4
   13ff8:	29068653          	fmin.s	fa2,fa3,fa6
   13ffc:	283787d3          	fmin.s	fa5,fa5,ft3
   14000:	290696d3          	fmax.s	fa3,fa3,fa6
   14004:	28c71753          	fmax.s	fa4,fa4,fa2
   14008:	28d787d3          	fmin.s	fa5,fa5,fa3
   1400c:	a0e79653          	flt.s	a2,fa5,fa4
   14010:	00060463          	beqz	a2,14018 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xe48>
   14014:	20318753          	fmv.s	fa4,ft3
				entry.t = intersect(aabb, ray, inv_d);
				entry.node_index = first_child_index + i;
				entry.lod = next_level;
				entry.tri_type = i;
				entry.dbs = node4.nodes[i].dbs;
				if(entry.t < hit.t) insert(entry, node_stack, node_stack_size++, temp_node_stack_size);
   14018:	a1771653          	flt.s	a2,fa4,fs7
   1401c:	14061063          	bnez	a2,1415c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xf8c>
			for(uint32_t i = 0; i < 4; ++i)
   14020:	00188893          	add	a7,a7,1
   14024:	00400613          	li	a2,4
   14028:	01080813          	add	a6,a6,16
   1402c:	e6c892e3          	bne	a7,a2,13e90 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xcc0>
   14030:	000b8e93          	mv	t4,s7
			}
		}
	} while(node_stack_size);
   14034:	02813d83          	ld	s11,40(sp)
   14038:	03013d03          	ld	s10,48(sp)
   1403c:	ee0e9c63          	bnez	t4,13734 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x564>

	//if we found a hit convert barycentric coords to max lod
	if(hit_lod != ~0u)
   14040:	fff00713          	li	a4,-1
   14044:	0ae30263          	beq	t1,a4,140e8 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xf18>
	{
	#if 1
		for(uint32_t i = hit_lod; i <  header.last_lod; ++i)
   14048:	0d013703          	ld	a4,208(sp)
   1404c:	03c75593          	srl	a1,a4,0x3c
   14050:	00c92703          	lw	a4,12(s2)
   14054:	08b37063          	bgeu	t1,a1,140d4 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xf04>
		{
			uint32_t tri_type;
			hit.bc *= glm::vec2(2.0f);

			if(hit.bc.x > 1.0f)
   14058:	0001a6b7          	lui	a3,0x1a
   1405c:	2686a587          	flw	fa1,616(a3) # 1a268 <__DATA_BEGIN__+0x18>
   14060:	00892707          	flw	fa4,8(s2)
   14064:	00492787          	flw	fa5,4(s2)
			else if(hit.bc.y > 1.0f)
			{
				tri_type = 1;
				hit.bc -= glm::vec2(0.0f, 1.0f);
			}
			else if(hit.bc.x + hit.bc.y < 1.0f)
   14068:	2587a507          	flw	fa0,600(a5)
		for(uint32_t i = hit_lod; i <  header.last_lod; ++i)
   1406c:	00030693          	mv	a3,t1
   14070:	0240006f          	j	14094 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xec4>
	e[0] -= v[0];
   14074:	08a677d3          	fsub.s	fa5,fa2,fa0
	e[1] *= v.e[1];
   14078:	20d68753          	fmv.s	fa4,fa3
				tri_type = 0;
   1407c:	00000793          	li	a5,0
			{
				tri_type = 3;
				hit.bc = glm::vec2(1.0f, 1.0f) - hit.bc;
			}

			hit.id <<= 2;
   14080:	0027171b          	sllw	a4,a4,0x2
			hit.id |= tri_type;
   14084:	00e7e7b3          	or	a5,a5,a4
		for(uint32_t i = hit_lod; i <  header.last_lod; ++i)
   14088:	0016869b          	addw	a3,a3,1
			hit.id |= tri_type;
   1408c:	0007871b          	sext.w	a4,a5
		for(uint32_t i = hit_lod; i <  header.last_lod; ++i)
   14090:	02d58e63          	beq	a1,a3,140cc <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xefc>
			if(hit.bc.x > 1.0f)
   14094:	a0f597d3          	flt.s	a5,fa1,fa5
	e[0] *= v.e[0];
   14098:	00f7f653          	fadd.s	fa2,fa5,fa5
	e[1] *= v.e[1];
   1409c:	00e776d3          	fadd.s	fa3,fa4,fa4
			else if(hit.bc.y > 1.0f)
   140a0:	a0e59653          	flt.s	a2,fa1,fa4
			if(hit.bc.x > 1.0f)
   140a4:	fc0798e3          	bnez	a5,14074 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xea4>
			else if(hit.bc.y > 1.0f)
   140a8:	76060063          	beqz	a2,14808 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1638>
			hit.id <<= 2;
   140ac:	0027171b          	sllw	a4,a4,0x2
				tri_type = 1;
   140b0:	00100793          	li	a5,1
			hit.id |= tri_type;
   140b4:	00e7e7b3          	or	a5,a5,a4
		for(uint32_t i = hit_lod; i <  header.last_lod; ++i)
   140b8:	0016869b          	addw	a3,a3,1
	e[1] -= v[1];
   140bc:	08a6f753          	fsub.s	fa4,fa3,fa0
	e[0] *= v.e[0];
   140c0:	20c607d3          	fmv.s	fa5,fa2
			hit.id |= tri_type;
   140c4:	0007871b          	sext.w	a4,a5
		for(uint32_t i = hit_lod; i <  header.last_lod; ++i)
   140c8:	fcd596e3          	bne	a1,a3,14094 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xec4>
   140cc:	00e92427          	fsw	fa4,8(s2)
   140d0:	00f92227          	fsw	fa5,4(s2)
		}
	#endif
		hit.id += header.id_offset;
   140d4:	0d013783          	ld	a5,208(sp)
   140d8:	00479793          	sll	a5,a5,0x4
   140dc:	0247d793          	srl	a5,a5,0x24
   140e0:	00e787bb          	addw	a5,a5,a4
   140e4:	00f92623          	sw	a5,12(s2)
	}

	return hit_lod != ~0u;
   140e8:	5b813083          	ld	ra,1464(sp)
   140ec:	5b013403          	ld	s0,1456(sp)
	return hit_lod != ~0u;
   140f0:	00130513          	add	a0,t1,1 # 3f800001 <__global_pointer$+0x3f7e55b1>
   140f4:	5a813483          	ld	s1,1448(sp)
   140f8:	5a013903          	ld	s2,1440(sp)
   140fc:	59813983          	ld	s3,1432(sp)
   14100:	59013a03          	ld	s4,1424(sp)
   14104:	58813a83          	ld	s5,1416(sp)
   14108:	58013b03          	ld	s6,1408(sp)
   1410c:	57813b83          	ld	s7,1400(sp)
   14110:	57013c03          	ld	s8,1392(sp)
   14114:	56813c83          	ld	s9,1384(sp)
   14118:	56013d03          	ld	s10,1376(sp)
   1411c:	55813d83          	ld	s11,1368(sp)
   14120:	54c12407          	flw	fs0,1356(sp)
   14124:	54812487          	flw	fs1,1352(sp)
   14128:	54412907          	flw	fs2,1348(sp)
   1412c:	54012987          	flw	fs3,1344(sp)
   14130:	53c12a07          	flw	fs4,1340(sp)
   14134:	53812a87          	flw	fs5,1336(sp)
   14138:	53412b07          	flw	fs6,1332(sp)
   1413c:	53012b87          	flw	fs7,1328(sp)
   14140:	52c12c07          	flw	fs8,1324(sp)
   14144:	52812c87          	flw	fs9,1320(sp)
   14148:	52412d07          	flw	fs10,1316(sp)
   1414c:	52012d87          	flw	fs11,1312(sp)
	return hit_lod != ~0u;
   14150:	00a03533          	snez	a0,a0
   14154:	5c010113          	add	sp,sp,1472
   14158:	00008067          	ret
				entry.dbs = node4.nodes[i].dbs;
   1415c:	00c82f03          	lw	t5,12(a6)
				if(entry.t < hit.t) insert(entry, node_stack, node_stack_size++, temp_node_stack_size);
   14160:	001b8e1b          	addw	t3,s7,1 # 3f800001 <__global_pointer$+0x3f7e55b1>
	for(; j != min; --j)
   14164:	117f8ae3          	beq	t6,s7,14a78 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x18a8>
   14168:	0f010293          	add	t0,sp,240
   1416c:	0200006f          	j	1418c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xfbc>
		stack[j] = stack[j - 1];
   14170:	00062a03          	lw	s4,0(a2)
   14174:	0145a023          	sw	s4,0(a1) # 3f800000 <__global_pointer$+0x3f7e55b0>
   14178:	00462a03          	lw	s4,4(a2)
   1417c:	0145a223          	sw	s4,4(a1)
   14180:	00862a03          	lw	s4,8(a2)
   14184:	0145a423          	sw	s4,8(a1)
	for(; j != min; --j)
   14188:	63ae8463          	beq	t4,s10,147b0 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x15e0>
		if(stack[j - 1].t >= entry.t) break;
   1418c:	fffb8a1b          	addw	s4,s7,-1
   14190:	020a1593          	sll	a1,s4,0x20
   14194:	0205d593          	srl	a1,a1,0x20
   14198:	00159613          	sll	a2,a1,0x1
   1419c:	00b60633          	add	a2,a2,a1
   141a0:	00261613          	sll	a2,a2,0x2
   141a4:	00c28633          	add	a2,t0,a2
   141a8:	00062787          	flw	fa5,0(a2)
   141ac:	000b8d1b          	sext.w	s10,s7
		stack[j] = stack[j - 1];
   141b0:	020d1b93          	sll	s7,s10,0x20
   141b4:	020bdb93          	srl	s7,s7,0x20
   141b8:	001b9593          	sll	a1,s7,0x1
		if(stack[j - 1].t >= entry.t) break;
   141bc:	a0f70dd3          	fle.s	s11,fa4,fa5
		stack[j] = stack[j - 1];
   141c0:	017585b3          	add	a1,a1,s7
   141c4:	00259593          	sll	a1,a1,0x2
   141c8:	00b285b3          	add	a1,t0,a1
		if(stack[j - 1].t >= entry.t) break;
   141cc:	000a0b9b          	sext.w	s7,s4
   141d0:	fa0d80e3          	beqz	s11,14170 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xfa0>
	stack[j] = entry;
   141d4:	04000a37          	lui	s4,0x4000
   141d8:	fffa0a13          	add	s4,s4,-1 # 3ffffff <__global_pointer$+0x3fe55af>
   141dc:	0148fbb3          	and	s7,a7,s4
   141e0:	014af2b3          	and	t0,s5,s4
   141e4:	017282bb          	addw	t0,t0,s7
   141e8:	01ab161b          	sllw	a2,s6,0x1a
   141ec:	3c000bb7          	lui	s7,0x3c000
   141f0:	01767633          	and	a2,a2,s7
   141f4:	0142f2b3          	and	t0,t0,s4
   141f8:	00566633          	or	a2,a2,t0
   141fc:	01e8929b          	sllw	t0,a7,0x1e
   14200:	00566633          	or	a2,a2,t0
   14204:	00e5a027          	fsw	fa4,0(a1)
   14208:	00c5a223          	sw	a2,4(a1)
   1420c:	01e5a423          	sw	t5,8(a1)
   14210:	000e0b93          	mv	s7,t3
}
   14214:	e0dff06f          	j	14020 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xe50>
	if(tri_type == 0) return Triangle(prnt_tri.vrts[0], cntr_tri.vrts[2], cntr_tri.vrts[1]);
   14218:	56089063          	bnez	a7,14778 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x15a8>
	inline float operator[](int i) const { return e[i]; }
   1421c:	00052907          	flw	fs2,0(a0)
   14220:	00452487          	flw	fs1,4(a0)
   14224:	00852407          	flw	fs0,8(a0)
	e[2] = v[2];
   14228:	03812807          	flw	fa6,56(sp)
	e[1] = v[1];
   1422c:	02412887          	flw	fa7,36(sp)
	e[0] = v[0];
   14230:	02012e07          	flw	ft8,32(sp)
	e[2] = v[2];
   14234:	21398ed3          	fmv.s	ft9,fs3
	e[1] = v[1];
   14238:	01012f07          	flw	ft10,16(sp)
	e[0] = v[0];
   1423c:	00812f87          	flw	ft11,8(sp)
	return vec3(std::min(a[0], b[0]), std::min(a[1], b[1]), std::min(a[2], b[2]));
   14240:	08812d07          	flw	fs10,136(sp)
   14244:	29a787d3          	fmin.s	fa5,fa5,fs10
   14248:	29a60653          	fmin.s	fa2,fa2,fs10
   1424c:	29a686d3          	fmin.s	fa3,fa3,fs10
   14250:	08c12d07          	flw	fs10,140(sp)
   14254:	292787d3          	fmin.s	fa5,fa5,fs2
   14258:	28960653          	fmin.s	fa2,fa2,fs1
   1425c:	29a51553          	fmax.s	fa0,fa0,fs10
   14260:	29a595d3          	fmax.s	fa1,fa1,fs10
   14264:	29a71753          	fmax.s	fa4,fa4,fs10
   14268:	288686d3          	fmin.s	fa3,fa3,fs0
   1426c:	29251553          	fmax.s	fa0,fa0,fs2
   14270:	289595d3          	fmax.s	fa1,fa1,fs1
   14274:	28871753          	fmax.s	fa4,fa4,fs0
   14278:	29f787d3          	fmin.s	fa5,fa5,ft11
   1427c:	29e60653          	fmin.s	fa2,fa2,ft10
   14280:	29d686d3          	fmin.s	fa3,fa3,ft9
   14284:	29f51553          	fmax.s	fa0,fa0,ft11
   14288:	29e595d3          	fmax.s	fa1,fa1,ft10
   1428c:	29d71753          	fmax.s	fa4,fa4,ft9
   14290:	29c787d3          	fmin.s	fa5,fa5,ft8
   14294:	29160653          	fmin.s	fa2,fa2,fa7
   14298:	290686d3          	fmin.s	fa3,fa3,fa6
	return vec3(std::max(a[0], b[0]), std::max(a[1], b[1]), std::max(a[2], b[2]));
   1429c:	29c51553          	fmax.s	fa0,fa0,ft8
   142a0:	291595d3          	fmax.s	fa1,fa1,fa7
   142a4:	29071753          	fmax.s	fa4,fa4,fa6
	return *this;
   142a8:	d05ff06f          	j	13fac <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xddc>
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   142ac:	09d571d3          	fsub.s	ft3,fa0,ft9
   142b0:	08c072d3          	fsub.s	ft5,ft0,fa2
   142b4:	08cf7753          	fsub.s	fa4,ft10,fa2
   142b8:	09d176d3          	fsub.s	fa3,ft2,ft9
   142bc:	09c0f253          	fsub.s	ft4,ft1,ft8
   142c0:	08a17553          	fsub.s	fa0,ft2,fa0
		(-(a[0] * b[2] - a[2] * b[0])),
   142c4:	1051f353          	fmul.s	ft6,ft3,ft5
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   142c8:	082efed3          	fsub.s	ft9,ft9,ft2
   142cc:	09e07f53          	fsub.s	ft10,ft0,ft10
   142d0:	09c5f153          	fsub.s	ft2,fa1,ft8
	return vec3(a[1] * b[2] - a[2] * b[1],
   142d4:	104773d3          	fmul.s	ft7,fa4,ft4
   142d8:	30d778c7          	fmsub.s	fa7,fa4,fa3,ft6
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   142dc:	08067653          	fsub.s	fa2,fa2,ft0
		(-(a[0] * b[2] - a[2] * b[0])),
   142e0:	10a97053          	fmul.s	ft0,fs2,fa0
	return vec3(a[1] * b[2] - a[2] * b[1],
   142e4:	03812407          	flw	fs0,56(sp)
   142e8:	02412d07          	flw	fs10,36(sp)
		(-(a[0] * b[2] - a[2] * b[0])),
   142ec:	11d4f853          	fmul.s	fa6,fs1,ft9
	return vec3(a[1] * b[2] - a[2] * b[1],
   142f0:	38517fc7          	fmsub.s	ft11,ft2,ft5,ft7
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   142f4:	08b0f5d3          	fsub.s	fa1,ft1,fa1
   142f8:	081e7e53          	fsub.s	ft8,ft8,ft1
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   142fc:	111b72d3          	fmul.s	ft5,fs6,fa7
	return vec3(a[1] * b[2] - a[2] * b[1],
   14300:	11e470d3          	fmul.s	ft1,fs0,ft10
   14304:	01ed7047          	fmsub.s	ft0,fs10,ft10,ft0
   14308:	01112427          	fsw	fa7,8(sp)
   1430c:	02812f07          	flw	ft10,40(sp)
   14310:	02012887          	flw	fa7,32(sp)
		(-(a[0] * b[2] - a[2] * b[0])),
   14314:	1039f353          	fmul.s	ft6,fs3,ft3
	return vec3(a[1] * b[2] - a[2] * b[1],
   14318:	10cf73d3          	fmul.s	ft7,ft10,fa2
   1431c:	80c8f647          	fmsub.s	fa2,fa7,fa2,fa6
   14320:	01012887          	flw	fa7,16(sp)
   14324:	01812807          	flw	fa6,24(sp)
		a[0] * b[1] - a[1] * b[0]);
   14328:	10d176d3          	fmul.s	fa3,ft2,fa3
	return vec3(a[1] * b[2] - a[2] * b[1],
   1432c:	39c4f4c7          	fmsub.s	fs1,fs1,ft8,ft7
   14330:	10e87853          	fmul.s	fa6,fa6,fa4
   14334:	30e8f747          	fmsub.s	fa4,fa7,fa4,ft6
		a[0] * b[1] - a[1] * b[0]);
   14338:	02012887          	flw	fa7,32(sp)
	return vec3(a[1] * b[2] - a[2] * b[1],
   1433c:	6841f6c7          	fmsub.s	fa3,ft3,ft4,fa3
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   14340:	10cb7653          	fmul.s	fa2,fs6,fa2
		a[0] * b[1] - a[1] * b[0]);
   14344:	11c8fe53          	fmul.s	ft8,fa7,ft8
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   14348:	29fc72c3          	fmadd.s	ft5,fs8,ft11,ft5
		a[0] * b[1] - a[1] * b[0]);
   1434c:	01012887          	flw	fa7,16(sp)
	return vec3(a[1] * b[2] - a[2] * b[1],
   14350:	08b97947          	fmsub.s	fs2,fs2,fa1,ft1
   14354:	8029f847          	fmsub.s	fa6,fs3,ft2,fa6
		a[0] * b[1] - a[1] * b[0]);
   14358:	10bd75d3          	fmul.s	fa1,fs10,fa1
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   1435c:	100b7053          	fmul.s	ft0,fs6,ft0
		a[0] * b[1] - a[1] * b[0]);
   14360:	1028f153          	fmul.s	ft2,fa7,ft2
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   14364:	10eb7753          	fmul.s	fa4,fs6,fa4
   14368:	609c74c3          	fmadd.s	fs1,fs8,fs1,fa2
   1436c:	28ddf2c3          	fmadd.s	ft5,fs11,fa3,ft5
	return vec3(a[1] * b[2] - a[2] * b[1],
   14370:	01812607          	flw	fa2,24(sp)
   14374:	58a475c7          	fmsub.s	fa1,fs0,fa0,fa1
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   14378:	012c7943          	fmadd.s	fs2,fs8,fs2,ft0
	return vec3(a[1] * b[2] - a[2] * b[1],
   1437c:	e1df7547          	fmsub.s	fa0,ft10,ft9,ft8
   14380:	103671c7          	fmsub.s	ft3,fa2,ft3,ft2
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   14384:	710c7843          	fmadd.s	fa6,fs8,fa6,fa4
	if(gn_dot_d > 0.0f) bc = -bc;
   14388:	a0579653          	flt.s	a2,fa5,ft5
   1438c:	90bdf5c3          	fmadd.s	fa1,fs11,fa1,fs2
   14390:	48adf4c3          	fmadd.s	fs1,fs11,fa0,fs1
   14394:	803df843          	fmadd.s	fa6,fs11,ft3,fa6
   14398:	00060863          	beqz	a2,143a8 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x11d8>
	inline vec3 operator-() const { return vec3(-e[0], -e[1], -e[2]); }
   1439c:	20b595d3          	fneg.s	fa1,fa1
   143a0:	209494d3          	fneg.s	fs1,fs1
   143a4:	21081853          	fneg.s	fa6,fa6
	if(bc[0] < 0.0f || bc[1] < 0.0f || bc[2] < 0.0f) return false;
   143a8:	f00007d3          	fmv.w.x	fa5,zero
   143ac:	a0f59653          	flt.s	a2,fa1,fa5
   143b0:	06061663          	bnez	a2,1441c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x124c>
   143b4:	a0f49653          	flt.s	a2,fs1,fa5
   143b8:	06061263          	bnez	a2,1441c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x124c>
   143bc:	a0f81653          	flt.s	a2,fa6,fa5
   143c0:	04061e63          	bnez	a2,1441c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x124c>
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   143c4:	00812707          	flw	fa4,8(sp)
   143c8:	01812787          	flw	fa5,24(sp)
   143cc:	01012607          	flw	fa2,16(sp)
   143d0:	10e7f7d3          	fmul.s	fa5,fa5,fa4
	if(t < ray.t_min || t > hit.t) return false;
   143d4:	00c4a707          	flw	fa4,12(s1)
   143d8:	79f677c3          	fmadd.s	fa5,fa2,ft11,fa5
   143dc:	78d9f7c3          	fmadd.s	fa5,fs3,fa3,fa5
	float t = rtm::dot(gn, tri.vrts[0] - ray.o) / gn_dot_d;
   143e0:	1857f7d3          	fdiv.s	fa5,fa5,ft5
	if(t < ray.t_min || t > hit.t) return false;
   143e4:	a0e79653          	flt.s	a2,fa5,fa4
   143e8:	02061a63          	bnez	a2,1441c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x124c>
   143ec:	a0fb9653          	flt.s	a2,fs7,fa5
   143f0:	02061663          	bnez	a2,1441c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x124c>
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   143f4:	0095f753          	fadd.s	fa4,fa1,fs1
	hit.t = t ;
   143f8:	00f92027          	fsw	fa5,0(s2)
				hit.id = node_index;
   143fc:	00592623          	sw	t0,12(s2)
				hit.patch_index = patch_index;
   14400:	01992823          	sw	s9,16(s2)
		uint32_t lod = current_node_entry.lod;
   14404:	000a8313          	mv	t1,s5
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   14408:	010777d3          	fadd.s	fa5,fa4,fa6
	return vec2(a.e[0] / b.e[0], a.e[1] / b.e[1]);
   1440c:	18f5f5d3          	fdiv.s	fa1,fa1,fa5
   14410:	18f4f4d3          	fdiv.s	fs1,fs1,fa5
	e[0] = v[0];
   14414:	00b92227          	fsw	fa1,4(s2)
	e[1] = v[1];
   14418:	00992427          	fsw	fs1,8(s2)
		const NodeStackEntry current_node_entry = node_stack[--node_stack_size];
   1441c:	000f8e93          	mv	t4,t6
	} while(node_stack_size);
   14420:	b00e9a63          	bnez	t4,13734 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x564>
   14424:	c1dff06f          	j	14040 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xe70>
   14428:	20f78fd3          	fmv.s	ft11,fa5
	e[0] = v[0];
   1442c:	202101d3          	fmv.s	ft3,ft2
	inline float operator[](int i) const { return e[i]; }
   14430:	00052007          	flw	ft0,0(a0)
   14434:	00452587          	flw	fa1,4(a0)
   14438:	00852787          	flw	fa5,8(a0)
	e[2] = v[2];
   1443c:	20c60753          	fmv.s	fa4,fa2
	e[1] = v[1];
   14440:	01012107          	flw	ft2,16(sp)
	e[0] = v[0];
   14444:	20a50853          	fmv.s	fa6,fa0
	if(gn_dot_d > 0.0f) bc = -bc;
   14448:	f0000453          	fmv.w.x	fs0,zero
   1444c:	214a04d3          	fmv.s	fs1,fs4
   14450:	215a8953          	fmv.s	fs2,fs5
   14454:	201088d3          	fmv.s	fa7,ft1
			for(uint32_t i = 0; i < 4; ++i)
   14458:	00000613          	li	a2,0
   1445c:	00400813          	li	a6,4
	else if(tri_type == 1) return Triangle(cntr_tri.vrts[2], prnt_tri.vrts[1], cntr_tri.vrts[0]);
   14460:	00100893          	li	a7,1
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   14464:	080876d3          	fsub.s	fa3,fa6,ft0
   14468:	08fffed3          	fsub.s	ft9,ft11,fa5
   1446c:	08f770d3          	fsub.s	ft1,fa4,fa5
   14470:	0801f253          	fsub.s	ft4,ft3,ft0
   14474:	08b8fad3          	fsub.s	fs5,fa7,fa1
   14478:	0901f653          	fsub.s	fa2,ft3,fa6
		(-(a[0] * b[2] - a[2] * b[0])),
   1447c:	11d6ff53          	fmul.s	ft10,fa3,ft9
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   14480:	08307553          	fsub.s	fa0,ft0,ft3
   14484:	09277a53          	fsub.s	fs4,fa4,fs2
   14488:	092ff9d3          	fsub.s	fs3,ft11,fs2
   1448c:	0927fe53          	fsub.s	ft8,fa5,fs2
   14490:	089173d3          	fsub.s	ft7,ft2,fs1
   14494:	08b172d3          	fsub.s	ft5,ft2,fa1
	return vec3(a[1] * b[2] - a[2] * b[1],
   14498:	f040fd47          	fmsub.s	fs10,ft1,ft4,ft10
   1449c:	1150f353          	fmul.s	ft6,ft1,fs5
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   144a0:	08eff753          	fsub.s	fa4,ft11,fa4
   144a4:	09f7f7d3          	fsub.s	fa5,fa5,ft11
   144a8:	0898ff53          	fsub.s	ft10,fa7,fs1
   144ac:	0895ffd3          	fsub.s	ft11,fa1,fs1
		(-(a[0] * b[2] - a[2] * b[0])),
   144b0:	11357bd3          	fmul.s	fs7,fa0,fs3
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   144b4:	09987853          	fsub.s	fa6,fa6,fs9
   144b8:	0991f1d3          	fsub.s	ft3,ft3,fs9
   144bc:	09907053          	fsub.s	ft0,ft0,fs9
   144c0:	02712827          	fsw	ft7,48(sp)
		(-(a[0] * b[2] - a[2] * b[0])),
   144c4:	02c12427          	fsw	fa2,40(sp)
   144c8:	114673d3          	fmul.s	ft7,fa2,fs4
   144cc:	11c6f653          	fmul.s	fa2,fa3,ft8
	return vec3(a[1] * b[2] - a[2] * b[1],
   144d0:	31d2fec7          	fmsub.s	ft9,ft5,ft9,ft6
		a[0] * b[1] - a[1] * b[0]);
   144d4:	1042f253          	fmul.s	ft4,ft5,ft4
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   144d8:	11ab7353          	fmul.s	ft6,fs6,fs10
	return vec3(a[1] * b[2] - a[2] * b[1],
   144dc:	05a12827          	fsw	fs10,80(sp)
   144e0:	03012d07          	flw	fs10,48(sp)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   144e4:	0828f153          	fsub.s	ft2,fa7,ft2
   144e8:	0915f5d3          	fsub.s	fa1,fa1,fa7
	return vec3(a[1] * b[2] - a[2] * b[1],
   144ec:	11a778d3          	fmul.s	fa7,fa4,fs10
   144f0:	39077747          	fmsub.s	fa4,fa4,fa6,ft7
   144f4:	11e7f3d3          	fmul.s	ft7,fa5,ft10
   144f8:	b837f7c7          	fmsub.s	fa5,fa5,ft3,fs7
   144fc:	11f0fbd3          	fmul.s	fs7,ft1,ft11
   14500:	6000f0c7          	fmsub.s	ft1,ft1,ft0,fa2
   14504:	2156f247          	fmsub.s	ft4,fa3,fs5,ft4
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   14508:	31dc7343          	fmadd.s	ft6,fs8,ft9,ft6
	return vec3(a[1] * b[2] - a[2] * b[1],
   1450c:	894178c7          	fmsub.s	fa7,ft2,fs4,fa7
   14510:	3935f3c7          	fmsub.s	ft7,fa1,fs3,ft7
   14514:	b9c2fbc7          	fmsub.s	fs7,ft5,ft8,fs7
		a[0] * b[1] - a[1] * b[0]);
   14518:	11017153          	fmul.s	ft2,ft2,fa6
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   1451c:	10eb7753          	fmul.s	fa4,fs6,fa4
		a[0] * b[1] - a[1] * b[0]);
   14520:	1035f5d3          	fmul.s	fa1,fa1,ft3
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   14524:	10fb77d3          	fmul.s	fa5,fs6,fa5
		a[0] * b[1] - a[1] * b[0]);
   14528:	1002f2d3          	fmul.s	ft5,ft5,ft0
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   1452c:	101b70d3          	fmul.s	ft1,fs6,ft1
   14530:	304df343          	fmadd.s	ft6,fs11,ft4,ft6
	return vec3(a[1] * b[2] - a[2] * b[1],
   14534:	02812607          	flw	fa2,40(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   14538:	711c78c3          	fmadd.s	fa7,fs8,fa7,fa4
	return vec3(a[1] * b[2] - a[2] * b[1],
   1453c:	59e57547          	fmsub.s	fa0,fa0,ft10,fa1
   14540:	11a67647          	fmsub.s	fa2,fa2,fs10,ft2
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   14544:	787c73c3          	fmadd.s	ft7,fs8,ft7,fa5
	return vec3(a[1] * b[2] - a[2] * b[1],
   14548:	29f6f6c7          	fmsub.s	fa3,fa3,ft11,ft5
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   1454c:	097c7bc3          	fmadd.s	fs7,fs8,fs7,ft1
   14550:	a06415d3          	flt.s	a1,fs0,ft6
   14554:	88cdf643          	fmadd.s	fa2,fs11,fa2,fa7
   14558:	38adf543          	fmadd.s	fa0,fs11,fa0,ft7
   1455c:	b8ddf6c3          	fmadd.s	fa3,fs11,fa3,fs7
   14560:	00058863          	beqz	a1,14570 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x13a0>
	inline vec3 operator-() const { return vec3(-e[0], -e[1], -e[2]); }
   14564:	20c61653          	fneg.s	fa2,fa2
   14568:	20a51553          	fneg.s	fa0,fa0
   1456c:	20d696d3          	fneg.s	fa3,fa3
	if(bc[0] < 0.0f || bc[1] < 0.0f || bc[2] < 0.0f) return false;
   14570:	a08615d3          	flt.s	a1,fa2,fs0
   14574:	06059663          	bnez	a1,145e0 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1410>
   14578:	a08515d3          	flt.s	a1,fa0,fs0
   1457c:	06059263          	bnez	a1,145e0 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1410>
   14580:	a08695d3          	flt.s	a1,fa3,fs0
   14584:	04059e63          	bnez	a1,145e0 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1410>
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   14588:	05012787          	flw	fa5,80(sp)
   1458c:	10ffffd3          	fmul.s	ft11,ft11,fa5
	if(t < ray.t_min || t > hit.t) return false;
   14590:	00c4a787          	flw	fa5,12(s1)
   14594:	f9d07043          	fmadd.s	ft0,ft0,ft9,ft11
   14598:	004e7e43          	fmadd.s	ft8,ft8,ft4,ft0
	float t = rtm::dot(gn, tri.vrts[0] - ray.o) / gn_dot_d;
   1459c:	186e7e53          	fdiv.s	ft8,ft8,ft6
	if(t < ray.t_min || t > hit.t) return false;
   145a0:	a0fe15d3          	flt.s	a1,ft8,fa5
   145a4:	02059e63          	bnez	a1,145e0 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1410>
   145a8:	00092787          	flw	fa5,0(s2)
   145ac:	a1c795d3          	flt.s	a1,fa5,ft8
   145b0:	02059863          	bnez	a1,145e0 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1410>
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   145b4:	00a677d3          	fadd.s	fa5,fa2,fa0
					hit.id = first_child_index + i;
   145b8:	00c285bb          	addw	a1,t0,a2
	hit.t = t ;
   145bc:	01c92027          	fsw	ft8,0(s2)
   145c0:	00b92623          	sw	a1,12(s2)
					hit.patch_index = patch_index;
   145c4:	01992823          	sw	s9,16(s2)
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   145c8:	00d7f7d3          	fadd.s	fa5,fa5,fa3
	e[0] = v[0];
   145cc:	000a0313          	mv	t1,s4
	return vec2(a.e[0] / b.e[0], a.e[1] / b.e[1]);
   145d0:	18f67653          	fdiv.s	fa2,fa2,fa5
   145d4:	18f57553          	fdiv.s	fa0,fa0,fa5
	e[0] = v[0];
   145d8:	00c92227          	fsw	fa2,4(s2)
	e[1] = v[1];
   145dc:	00a92427          	fsw	fa0,8(s2)
			for(uint32_t i = 0; i < 4; ++i)
   145e0:	0016061b          	addw	a2,a2,1
   145e4:	21060663          	beq	a2,a6,147f0 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1620>
   145e8:	25160263          	beq	a2,a7,1482c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x165c>
	else if(tri_type == 2) return Triangle(cntr_tri.vrts[1], cntr_tri.vrts[0], prnt_tri.vrts[2]);
   145ec:	00200593          	li	a1,2
   145f0:	28b60a63          	beq	a2,a1,14884 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x16b4>
	e[2] = v[2];
   145f4:	01812f87          	flw	ft11,24(sp)
	e[1] = v[1];
   145f8:	01012887          	flw	fa7,16(sp)
	e[0] = v[0];
   145fc:	00812187          	flw	ft3,8(sp)
	e[2] = v[2];
   14600:	03812707          	flw	fa4,56(sp)
	e[1] = v[1];
   14604:	02412107          	flw	ft2,36(sp)
	e[0] = v[0];
   14608:	02012807          	flw	fa6,32(sp)
	e[2] = v[2];
   1460c:	04412787          	flw	fa5,68(sp)
	e[1] = v[1];
   14610:	04012587          	flw	fa1,64(sp)
	e[0] = v[0];
   14614:	03c12007          	flw	ft0,60(sp)
	}
   14618:	00300613          	li	a2,3
   1461c:	e49ff06f          	j	14464 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1294>
	else             r[1] = std::min(     dlen[2],      dlen[0]) *      ray.drdt +      ray.radius;
   14620:	28418253          	fmin.s	ft4,ft3,ft4
   14624:	0204a287          	flw	ft5,32(s1)
   14628:	0244a387          	flw	ft7,36(s1)
   1462c:	3842f2c3          	fmadd.s	ft5,ft5,ft4,ft7
	if(edge_mask[2]) r[2] = std::min(last_dlen[0], last_dlen[1]) * last_ray.drdt + last_ray.radius;
   14630:	bc0a1e63          	bnez	s4,13a0c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x83c>
	else             r[2] = std::min(     dlen[0],      dlen[1]) *      ray.drdt +      ray.radius;
   14634:	290181d3          	fmin.s	ft3,ft3,fa6
   14638:	0204a207          	flw	ft4,32(s1)
   1463c:	0244a387          	flw	ft7,36(s1)
   14640:	383273c3          	fmadd.s	ft7,ft4,ft3,ft7
   14644:	bd8ff06f          	j	13a1c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x84c>
			tri_stack[lod].tri = reconstruct_triangle(tri_stack[lod - 1u].tri, tri_stack[lod - 1u].new_center_tri, tri_type);
   14648:	fffa8f1b          	addw	t5,s5,-1
   1464c:	020f1f13          	sll	t5,t5,0x20
   14650:	020f5f13          	srl	t5,t5,0x20
   14654:	04c00993          	li	s3,76
   14658:	033f09b3          	mul	s3,t5,s3
   1465c:	21010593          	add	a1,sp,528
		uint32_t tri_type = current_node_entry.tri_type;
   14660:	0005089b          	sext.w	a7,a0
			tri_stack[lod].tri = reconstruct_triangle(tri_stack[lod - 1u].tri, tri_stack[lod - 1u].new_center_tri, tri_type);
   14664:	02498813          	add	a6,s3,36 # 3f800024 <__global_pointer$+0x3f7e55d4>
   14668:	01058833          	add	a6,a1,a6
   1466c:	013589b3          	add	s3,a1,s3
	if(tri_type == 0) return Triangle(prnt_tri.vrts[0], cntr_tri.vrts[2], cntr_tri.vrts[1]);
   14670:	14051463          	bnez	a0,147b8 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x15e8>
	inline float operator[](int i) const { return e[i]; }
   14674:	0009a687          	flw	fa3,0(s3)
   14678:	0049a707          	flw	fa4,4(s3)
   1467c:	0089a787          	flw	fa5,8(s3)
   14680:	01882507          	flw	fa0,24(a6)
   14684:	01c82587          	flw	fa1,28(a6)
   14688:	02082607          	flw	fa2,32(a6)
   1468c:	00c82107          	flw	ft2,12(a6)
   14690:	01082087          	flw	ft1,16(a6)
   14694:	01482007          	flw	ft0,20(a6)
	return *this;
   14698:	04c00513          	li	a0,76
			tri_stack[lod].shared_edge = propagate_shared_edge(tri_stack[lod - 1u].shared_edge, tri_type);
   1469c:	02af0f33          	mul	t5,t5,a0
	if(prnt_shrd_edg == 3 || tri_typ == 3 || prnt_shrd_edg == tri_typ) return 3;
   146a0:	00300993          	li	s3,3
   146a4:	02ae0e33          	mul	t3,t3,a0
   146a8:	440f0813          	add	a6,t5,1088
   146ac:	0e010f13          	add	t5,sp,224
   146b0:	01e80f33          	add	t5,a6,t5
class Triangle
   146b4:	01c58533          	add	a0,a1,t3
	e[0] = v[0];
   146b8:	00d52027          	fsw	fa3,0(a0)
	e[1] = v[1];
   146bc:	00e52227          	fsw	fa4,4(a0)
	e[2] = v[2];
   146c0:	00f52427          	fsw	fa5,8(a0)
	e[0] = v[0];
   146c4:	00a52627          	fsw	fa0,12(a0)
	e[1] = v[1];
   146c8:	00b52827          	fsw	fa1,16(a0)
	e[2] = v[2];
   146cc:	00c52a27          	fsw	fa2,20(a0)
	e[0] = v[0];
   146d0:	00252c27          	fsw	ft2,24(a0)
	e[1] = v[1];
   146d4:	00152e27          	fsw	ft1,28(a0)
	e[2] = v[2];
   146d8:	02052027          	fsw	ft0,32(a0)
   146dc:	d38f4803          	lbu	a6,-712(t5)
   146e0:	00080f1b          	sext.w	t5,a6
   146e4:	19380c63          	beq	a6,s3,1487c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x16ac>
   146e8:	19388a63          	beq	a7,s3,1487c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x16ac>
   146ec:	191f0863          	beq	t5,a7,1487c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x16ac>
   146f0:	04c00893          	li	a7,76
   146f4:	031a88b3          	mul	a7,s5,a7
   146f8:	0e010f13          	add	t5,sp,224
   146fc:	44088893          	add	a7,a7,1088
   14700:	01e888b3          	add	a7,a7,t5
   14704:	d3088c23          	sb	a6,-712(a7)
		bool edge_mask[3] = {patch_index == data.last_patch_index || tri_stack[lod].shared_edge == 0, patch_index == data.last_patch_index || tri_stack[lod].shared_edge == 1, patch_index == data.last_patch_index || tri_stack[lod].shared_edge == 2};
   14708:	999d1463          	bne	s10,s9,13890 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x6c0>
   1470c:	00100b13          	li	s6,1
   14710:	00100893          	li	a7,1
   14714:	00100a13          	li	s4,1
   14718:	9a4ff06f          	j	138bc <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x6ec>
	else             r[0] = std::min(     dlen[1],      dlen[2]) *      ray.drdt +      ray.radius;
   1471c:	28480353          	fmin.s	ft6,fa6,ft4
   14720:	0204a387          	flw	ft7,32(s1)
   14724:	0244a407          	flw	fs0,36(s1)
   14728:	4063f343          	fmadd.s	ft6,ft7,ft6,fs0
   1472c:	ac8ff06f          	j	139f4 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x824>
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   14730:	2587a287          	flw	ft5,600(a5)
   14734:	d90ff06f          	j	13cc4 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xaf4>
   14738:	2587a407          	flw	fs0,600(a5)
   1473c:	d58ff06f          	j	13c94 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xac4>
   14740:	2587a307          	flw	ft6,600(a5)
   14744:	d30ff06f          	j	13c74 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xaa4>
   14748:	2587a787          	flw	fa5,600(a5)
   1474c:	cf4ff06f          	j	13c40 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xa70>
   14750:	2587a887          	flw	fa7,600(a5)
   14754:	cb0ff06f          	j	13c04 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xa34>
   14758:	2587a387          	flw	ft7,600(a5)
   1475c:	c78ff06f          	j	13bd4 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xa04>
   14760:	2587a207          	flw	ft4,600(a5)
   14764:	c3cff06f          	j	13ba0 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x9d0>
   14768:	2587a807          	flw	fa6,600(a5)
   1476c:	bf8ff06f          	j	13b64 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x994>
   14770:	2587af87          	flw	ft11,600(a5)
   14774:	bbcff06f          	j	13b30 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x960>
	else if(tri_type == 1) return Triangle(cntr_tri.vrts[2], prnt_tri.vrts[1], cntr_tri.vrts[0]);
   14778:	00100613          	li	a2,1
   1477c:	12c88863          	beq	a7,a2,148ac <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x16dc>
	else if(tri_type == 2) return Triangle(cntr_tri.vrts[1], cntr_tri.vrts[0], prnt_tri.vrts[2]);
   14780:	00200613          	li	a2,2
   14784:	14c88c63          	beq	a7,a2,148dc <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x170c>
   14788:	21398853          	fmv.s	fa6,fs3
	e[1] = v[1];
   1478c:	01012887          	flw	fa7,16(sp)
	e[0] = v[0];
   14790:	00812e07          	flw	ft8,8(sp)
	e[2] = v[2];
   14794:	03812e87          	flw	ft9,56(sp)
	e[1] = v[1];
   14798:	02412f07          	flw	ft10,36(sp)
	e[0] = v[0];
   1479c:	02012f87          	flw	ft11,32(sp)
	e[2] = v[2];
   147a0:	04412407          	flw	fs0,68(sp)
	e[1] = v[1];
   147a4:	04012487          	flw	fs1,64(sp)
	e[0] = v[0];
   147a8:	03c12907          	flw	fs2,60(sp)
   147ac:	a95ff06f          	j	14240 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1070>
   147b0:	00060593          	mv	a1,a2
   147b4:	a21ff06f          	j	141d4 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1004>
	else if(tri_type == 1) return Triangle(cntr_tri.vrts[2], prnt_tri.vrts[1], cntr_tri.vrts[0]);
   147b8:	00100513          	li	a0,1
	inline float operator[](int i) const { return e[i]; }
   147bc:	00082687          	flw	fa3,0(a6)
   147c0:	00482707          	flw	fa4,4(a6)
   147c4:	00882787          	flw	fa5,8(a6)
   147c8:	12a88e63          	beq	a7,a0,14904 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1734>
	else if(tri_type == 2) return Triangle(cntr_tri.vrts[1], cntr_tri.vrts[0], prnt_tri.vrts[2]);
   147cc:	00200513          	li	a0,2
   147d0:	00c82507          	flw	fa0,12(a6)
   147d4:	01082587          	flw	fa1,16(a6)
   147d8:	01482607          	flw	fa2,20(a6)
   147dc:	20a88e63          	beq	a7,a0,149f8 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1828>
   147e0:	01882107          	flw	ft2,24(a6)
   147e4:	01c82087          	flw	ft1,28(a6)
   147e8:	02082007          	flw	ft0,32(a6)
	}
   147ec:	eadff06f          	j	14698 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x14c8>
		const NodeStackEntry current_node_entry = node_stack[--node_stack_size];
   147f0:	000f8e93          	mv	t4,t6
   147f4:	20948a53          	fmv.s	fs4,fs1
   147f8:	21290ad3          	fmv.s	fs5,fs2
	} while(node_stack_size);
   147fc:	000e8463          	beqz	t4,14804 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1634>
   14800:	f35fe06f          	j	13734 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x564>
   14804:	83dff06f          	j	14040 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xe70>
			else if(hit.bc.x + hit.bc.y < 1.0f)
   14808:	00c6f053          	fadd.s	ft0,fa3,fa2
	e[0] *= v.e[0];
   1480c:	20c607d3          	fmv.s	fa5,fa2
	e[1] *= v.e[1];
   14810:	20d68753          	fmv.s	fa4,fa3
				tri_type = 3;
   14814:	00300793          	li	a5,3
			else if(hit.bc.x + hit.bc.y < 1.0f)
   14818:	a0a01653          	flt.s	a2,ft0,fa0
   1481c:	0a061c63          	bnez	a2,148d4 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1704>
	return vec2(a[0] - b[0], a[1] - b[1]);
   14820:	08c577d3          	fsub.s	fa5,fa0,fa2
   14824:	08d57753          	fsub.s	fa4,fa0,fa3
	vec2(float e0, float e1) { e[0] = e0; e[1] = e1; }
   14828:	859ff06f          	j	14080 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xeb0>
   1482c:	00c52807          	flw	fa6,12(a0)
   14830:	01052107          	flw	ft2,16(a0)
   14834:	01452707          	flw	fa4,20(a0)
	e[2] = v[2];
   14838:	04412f87          	flw	ft11,68(sp)
	e[1] = v[1];
   1483c:	04012887          	flw	fa7,64(sp)
	e[0] = v[0];
   14840:	03c12187          	flw	ft3,60(sp)
	e[2] = v[2];
   14844:	01812787          	flw	fa5,24(sp)
	e[1] = v[1];
   14848:	01012587          	flw	fa1,16(sp)
	e[0] = v[0];
   1484c:	00812007          	flw	ft0,8(sp)
   14850:	c15ff06f          	j	14464 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1294>
			else                            tri_stack[0].shared_edge = 3;
   14854:	00300593          	li	a1,3
   14858:	24b10c23          	sb	a1,600(sp)
		bool edge_mask[3] = {patch_index == data.last_patch_index || tri_stack[lod].shared_edge == 0, patch_index == data.last_patch_index || tri_stack[lod].shared_edge == 1, patch_index == data.last_patch_index || tri_stack[lod].shared_edge == 2};
   1485c:	21010593          	add	a1,sp,528
   14860:	00058513          	mv	a0,a1
   14864:	00000e13          	li	t3,0
   14868:	83ac9463          	bne	s9,s10,13890 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x6c0>
   1486c:	00100b13          	li	s6,1
   14870:	00100893          	li	a7,1
   14874:	00100a13          	li	s4,1
   14878:	844ff06f          	j	138bc <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x6ec>
   1487c:	00300813          	li	a6,3
   14880:	e71ff06f          	j	146f0 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1520>
	inline float operator[](int i) const { return e[i]; }
   14884:	01852187          	flw	ft3,24(a0)
   14888:	01c52887          	flw	fa7,28(a0)
   1488c:	02052f87          	flw	ft11,32(a0)
	e[2] = v[2];
   14890:	04412707          	flw	fa4,68(sp)
	e[1] = v[1];
   14894:	04012107          	flw	ft2,64(sp)
	e[0] = v[0];
   14898:	03c12807          	flw	fa6,60(sp)
	e[2] = v[2];
   1489c:	03812787          	flw	fa5,56(sp)
	e[1] = v[1];
   148a0:	02412587          	flw	fa1,36(sp)
	e[0] = v[0];
   148a4:	02012007          	flw	ft0,32(sp)
   148a8:	bbdff06f          	j	14464 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1294>
	inline float operator[](int i) const { return e[i]; }
   148ac:	00c52f87          	flw	ft11,12(a0)
   148b0:	01052f07          	flw	ft10,16(a0)
   148b4:	01452e87          	flw	ft9,20(a0)
	e[2] = v[2];
   148b8:	04412807          	flw	fa6,68(sp)
	e[1] = v[1];
   148bc:	04012887          	flw	fa7,64(sp)
	e[0] = v[0];
   148c0:	03c12e07          	flw	ft8,60(sp)
	e[2] = v[2];
   148c4:	21398453          	fmv.s	fs0,fs3
	e[1] = v[1];
   148c8:	01012487          	flw	fs1,16(sp)
	e[0] = v[0];
   148cc:	00812907          	flw	fs2,8(sp)
   148d0:	971ff06f          	j	14240 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1070>
				tri_type = 2;
   148d4:	00200793          	li	a5,2
   148d8:	fa8ff06f          	j	14080 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xeb0>
	inline float operator[](int i) const { return e[i]; }
   148dc:	01852e07          	flw	ft8,24(a0)
   148e0:	01c52887          	flw	fa7,28(a0)
   148e4:	02052807          	flw	fa6,32(a0)
	e[2] = v[2];
   148e8:	04412e87          	flw	ft9,68(sp)
	e[1] = v[1];
   148ec:	04012f07          	flw	ft10,64(sp)
	e[0] = v[0];
   148f0:	03c12f87          	flw	ft11,60(sp)
	e[2] = v[2];
   148f4:	03812407          	flw	fs0,56(sp)
	e[1] = v[1];
   148f8:	02412487          	flw	fs1,36(sp)
	e[0] = v[0];
   148fc:	02012907          	flw	fs2,32(sp)
   14900:	941ff06f          	j	14240 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1070>
	e[2] = v[2];
   14904:	20f78053          	fmv.s	ft0,fa5
	e[1] = v[1];
   14908:	20e700d3          	fmv.s	ft1,fa4
	e[0] = v[0];
   1490c:	20d68153          	fmv.s	ft2,fa3
	inline float operator[](int i) const { return e[i]; }
   14910:	00c9a507          	flw	fa0,12(s3)
   14914:	0109a587          	flw	fa1,16(s3)
   14918:	0149a607          	flw	fa2,20(s3)
	e[2] = v[2];
   1491c:	02082787          	flw	fa5,32(a6)
	e[1] = v[1];
   14920:	01c82707          	flw	fa4,28(a6)
	e[0] = v[0];
   14924:	01882687          	flw	fa3,24(a6)
   14928:	d71ff06f          	j	14698 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x14c8>
   1492c:	2587a707          	flw	fa4,600(a5)
   14930:	0ce12427          	fsw	fa4,200(sp)
   14934:	da5fe06f          	j	136d8 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x508>
   14938:	2587a707          	flw	fa4,600(a5)
   1493c:	0ce12227          	fsw	fa4,196(sp)
   14940:	d89fe06f          	j	136c8 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x4f8>
   14944:	2587a707          	flw	fa4,600(a5)
   14948:	0ce12027          	fsw	fa4,192(sp)
   1494c:	d69fe06f          	j	136b4 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x4e4>
   14950:	2587a707          	flw	fa4,600(a5)
   14954:	0ae12e27          	fsw	fa4,188(sp)
   14958:	d49fe06f          	j	136a0 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x4d0>
   1495c:	2587a707          	flw	fa4,600(a5)
   14960:	0ae12c27          	fsw	fa4,184(sp)
   14964:	d25fe06f          	j	13688 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x4b8>
   14968:	2587a707          	flw	fa4,600(a5)
   1496c:	0ae12a27          	fsw	fa4,180(sp)
   14970:	d05fe06f          	j	13674 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x4a4>
   14974:	2587a707          	flw	fa4,600(a5)
   14978:	0ae12827          	fsw	fa4,176(sp)
   1497c:	ce5fe06f          	j	13660 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x490>
   14980:	2587a707          	flw	fa4,600(a5)
   14984:	0ae12627          	fsw	fa4,172(sp)
   14988:	cc5fe06f          	j	1364c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x47c>
			tri_stack[lod].child_transformed = (edge_states[0] < 1.0f) || (edge_states[1] < 1.0f) || (edge_states[2] < 1.0f) || ((lod != 0) && tri_stack[lod - 1].child_transformed);
   1498c:	fffa861b          	addw	a2,s5,-1
   14990:	02061613          	sll	a2,a2,0x20
   14994:	04c00593          	li	a1,76
   14998:	02065613          	srl	a2,a2,0x20
   1499c:	02b60633          	mul	a2,a2,a1
   149a0:	0e010593          	add	a1,sp,224
   149a4:	44060613          	add	a2,a2,1088
   149a8:	00b60633          	add	a2,a2,a1
   149ac:	d3964983          	lbu	s3,-711(a2)
   149b0:	c2cff06f          	j	13ddc <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0xc0c>
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   149b4:	04645683          	lhu	a3,70(s0)
   149b8:	0001a737          	lui	a4,0x1a
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   149bc:	00f6d613          	srl	a2,a3,0xf
   149c0:	00061463          	bnez	a2,149c8 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x17f8>
   149c4:	965fe06f          	j	13328 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x158>
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   149c8:	04245683          	lhu	a3,66(s0)
   149cc:	2587a007          	flw	ft0,600(a5)
   149d0:	00f6d613          	srl	a2,a3,0xf
   149d4:	00061463          	bnez	a2,149dc <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x180c>
   149d8:	989fe06f          	j	13360 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x190>
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   149dc:	04845683          	lhu	a3,72(s0)
   149e0:	2587a707          	flw	fa4,600(a5)
   149e4:	00f6d613          	srl	a2,a3,0xf
   149e8:	00061463          	bnez	a2,149f0 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1820>
   149ec:	9adfe06f          	j	13398 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1c8>
   149f0:	2587a587          	flw	fa1,600(a5)
   149f4:	9cdfe06f          	j	133c0 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1f0>
	inline float operator[](int i) const { return e[i]; }
   149f8:	20f782d3          	fmv.s	ft5,fa5
   149fc:	20e70253          	fmv.s	ft4,fa4
   14a00:	20d681d3          	fmv.s	ft3,fa3
	e[2] = v[2];
   14a04:	20c607d3          	fmv.s	fa5,fa2
	e[1] = v[1];
   14a08:	20b58753          	fmv.s	fa4,fa1
	e[0] = v[0];
   14a0c:	20a506d3          	fmv.s	fa3,fa0
	inline float operator[](int i) const { return e[i]; }
   14a10:	0189a107          	flw	ft2,24(s3)
   14a14:	01c9a087          	flw	ft1,28(s3)
   14a18:	0209a007          	flw	ft0,32(s3)
	e[2] = v[2];
   14a1c:	20528653          	fmv.s	fa2,ft5
	e[1] = v[1];
   14a20:	204205d3          	fmv.s	fa1,ft4
	e[0] = v[0];
   14a24:	20318553          	fmv.s	fa0,ft3
   14a28:	c71ff06f          	j	14698 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x14c8>
	uvec3(uint32_t i) { e[0] = i;  e[1] = i; e[2] = i; }
   14a2c:	06013423          	sd	zero,104(sp)
   14a30:	06013023          	sd	zero,96(sp)
   14a34:	04013c23          	sd	zero,88(sp)
   14a38:	ad5fe06f          	j	1350c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x33c>
			if(crnt_ptch_inds[i] == prev_ptch_inds[j])
   14a3c:	05813803          	ld	a6,88(sp)
				match_mask |= 1 << i;
   14a40:	0025e893          	or	a7,a1,2
			if(crnt_ptch_inds[i] == prev_ptch_inds[j])
   14a44:	0ea80a63          	beq	a6,a0,14b38 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1968>
   14a48:	06013803          	ld	a6,96(sp)
   14a4c:	00a80e63          	beq	a6,a0,14a68 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1898>
	uint32_t operator[](int i) const { return e[i]; }
   14a50:	00500813          	li	a6,5
   14a54:	4118083b          	subw	a6,a6,a7
   14a58:	06813883          	ld	a7,104(sp)
   14a5c:	0ff87813          	zext.b	a6,a6
   14a60:	00a88463          	beq	a7,a0,14a68 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1898>
   14a64:	e19fe06f          	j	1387c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x6ac>
	if(match_mask == 6) return 0;
   14a68:	00058463          	beqz	a1,14a70 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x18a0>
   14a6c:	e0dfe06f          	j	13878 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x6a8>
   14a70:	00000813          	li	a6,0
   14a74:	e09fe06f          	j	1387c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x6ac>
	stack[j] = entry;
   14a78:	020f9613          	sll	a2,t6,0x20
   14a7c:	02065613          	srl	a2,a2,0x20
   14a80:	00161593          	sll	a1,a2,0x1
   14a84:	00c585b3          	add	a1,a1,a2
   14a88:	0f010293          	add	t0,sp,240
   14a8c:	00259593          	sll	a1,a1,0x2
   14a90:	00b285b3          	add	a1,t0,a1
   14a94:	f40ff06f          	j	141d4 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1004>
				match_mask |= 1 << i;
   14a98:	0045e593          	or	a1,a1,4
	if(match_mask == 5) return 1; 
   14a9c:	00500513          	li	a0,5
   14aa0:	00300813          	li	a6,3
   14aa4:	00a58463          	beq	a1,a0,14aac <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x18dc>
   14aa8:	dd5fe06f          	j	1387c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x6ac>
   14aac:	00100813          	li	a6,1
   14ab0:	dcdfe06f          	j	1387c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x6ac>
   14ab4:	00080893          	mv	a7,a6
   14ab8:	00452803          	lw	a6,4(a0)
				match_mask |= 1 << i;
   14abc:	00100593          	li	a1,1
   14ac0:	00852503          	lw	a0,8(a0)
			if(crnt_ptch_inds[i] == prev_ptch_inds[j])
   14ac4:	01180463          	beq	a6,a7,14acc <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x18fc>
   14ac8:	d79fe06f          	j	13840 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x670>
   14acc:	01151463          	bne	a0,a7,14ad4 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1904>
   14ad0:	da9fe06f          	j	13878 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x6a8>
   14ad4:	06013583          	ld	a1,96(sp)
   14ad8:	00300813          	li	a6,3
   14adc:	00b51463          	bne	a0,a1,14ae4 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1914>
   14ae0:	d9dfe06f          	j	1387c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x6ac>
   14ae4:	06813583          	ld	a1,104(sp)
   14ae8:	00200813          	li	a6,2
   14aec:	00b50463          	beq	a0,a1,14af4 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1924>
   14af0:	d8dfe06f          	j	1387c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x6ac>
   14af4:	d85fe06f          	j	13878 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x6a8>
   14af8:	00452803          	lw	a6,4(a0)
   14afc:	05813883          	ld	a7,88(sp)
   14b00:	00852503          	lw	a0,8(a0)
				match_mask |= 1 << i;
   14b04:	00100593          	li	a1,1
			if(crnt_ptch_inds[i] == prev_ptch_inds[j])
   14b08:	01088463          	beq	a7,a6,14b10 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1940>
   14b0c:	d35fe06f          	j	13840 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x670>
   14b10:	01151463          	bne	a0,a7,14b18 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1948>
   14b14:	d65fe06f          	j	13878 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x6a8>
   14b18:	06013583          	ld	a1,96(sp)
   14b1c:	00b51463          	bne	a0,a1,14b24 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x1954>
   14b20:	d59fe06f          	j	13878 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x6a8>
   14b24:	06813583          	ld	a1,104(sp)
   14b28:	40b50533          	sub	a0,a0,a1
   14b2c:	00153813          	seqz	a6,a0
   14b30:	00280813          	add	a6,a6,2
   14b34:	d49fe06f          	j	1387c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x6ac>
	if(match_mask == 6) return 0;
   14b38:	40b00833          	neg	a6,a1
   14b3c:	00387813          	and	a6,a6,3
   14b40:	d3dfe06f          	j	1387c <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit+0x6ac>

0000000000014b44 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit>:
inline bool intersect(const BVH::CompressedNode4* blas, const T& mesh, const Ray& ray, Hit& hit)
   14b44:	c1010113          	add	sp,sp,-1008
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   14b48:	0001a337          	lui	t1,0x1a
   14b4c:	25832787          	flw	fa5,600(t1) # 1a258 <__DATA_BEGIN__+0x8>
   14b50:	3d212227          	fsw	fs2,964(sp)
	inline float operator[](int i) const { return e[i]; }
   14b54:	01062907          	flw	fs2,16(a2)
   14b58:	3b412e27          	fsw	fs4,956(sp)
   14b5c:	3ba12227          	fsw	fs10,932(sp)
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   14b60:	1927f0d3          	fdiv.s	ft1,fa5,fs2
	node_stack[0].t = ray.t_min;
   14b64:	00c62787          	flw	fa5,12(a2)
	inline float operator[](int i) const { return e[i]; }
   14b68:	01462a07          	flw	fs4,20(a2)
   14b6c:	01862d07          	flw	fs10,24(a2)
   14b70:	00f12627          	fsw	fa5,12(sp)
   14b74:	02f12827          	fsw	fa5,48(sp)
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   14b78:	25832787          	flw	fa5,600(t1)
   14b7c:	0001a7b7          	lui	a5,0x1a
   14b80:	26c7a707          	flw	fa4,620(a5) # 1a26c <__DATA_BEGIN__+0x1c>
inline bool intersect(const BVH::CompressedNode4* blas, const T& mesh, const Ray& ray, Hit& hit)
   14b84:	36f10713          	add	a4,sp,879
	node_stack[0].data.is_leaf = false;
   14b88:	00600793          	li	a5,6
inline bool intersect(const BVH::CompressedNode4* blas, const T& mesh, const Ray& ray, Hit& hit)
   14b8c:	00050813          	mv	a6,a0
   14b90:	3e813423          	sd	s0,1000(sp)
   14b94:	3e913023          	sd	s1,992(sp)
   14b98:	3d213c23          	sd	s2,984(sp)
   14b9c:	3d313823          	sd	s3,976(sp)
   14ba0:	3c812627          	fsw	fs0,972(sp)
   14ba4:	3c912427          	fsw	fs1,968(sp)
   14ba8:	3d312027          	fsw	fs3,960(sp)
   14bac:	3b512c27          	fsw	fs5,952(sp)
   14bb0:	1947f153          	fdiv.s	ft2,fa5,fs4
   14bb4:	3b612a27          	fsw	fs6,948(sp)
   14bb8:	3b712827          	fsw	fs7,944(sp)
   14bbc:	3b812627          	fsw	fs8,940(sp)
   14bc0:	3b912427          	fsw	fs9,936(sp)
   14bc4:	3bb12027          	fsw	fs11,928(sp)
   14bc8:	0001a8b7          	lui	a7,0x1a
   14bcc:	00e12e27          	fsw	fa4,28(sp)
   14bd0:	fc077713          	and	a4,a4,-64
	node_stack[0].data.is_leaf = false;
   14bd4:	02f12a23          	sw	a5,52(sp)
	bool found_hit = false;
   14bd8:	00000513          	li	a0,0
	uint32_t node_stack_size = 1u;
   14bdc:	00100e13          	li	t3,1
   14be0:	19a7f6d3          	fdiv.s	fa3,fa5,fs10
   14be4:	20210e53          	fmv.s	ft8,ft2
   14be8:	20108153          	fmv.s	ft2,ft1
   14bec:	20d688d3          	fmv.s	fa7,fa3
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   14bf0:	fffe0e1b          	addw	t3,t3,-1
   14bf4:	020e1e93          	sll	t4,t3,0x20
   14bf8:	01ded793          	srl	a5,t4,0x1d
   14bfc:	38078793          	add	a5,a5,896
   14c00:	02010e93          	add	t4,sp,32
   14c04:	01d787b3          	add	a5,a5,t4
   14c08:	c907b783          	ld	a5,-880(a5)
		if(current_entry.t >= hit.t) return found_hit;
   14c0c:	0006a507          	flw	fa0,0(a3)
   14c10:	f00787d3          	fmv.w.x	fa5,a5
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   14c14:	02f13023          	sd	a5,32(sp)
		if(current_entry.t >= hit.t) return found_hit;
   14c18:	a0f50ed3          	fle.s	t4,fa0,fa5
   14c1c:	240e9a63          	bnez	t4,14e70 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x32c>
		if(!current_entry.data.is_leaf)
   14c20:	02412e83          	lw	t4,36(sp)
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   14c24:	0217d413          	srl	s0,a5,0x21
	inline float operator[](int i) const { return e[i]; }
   14c28:	00062e87          	flw	ft9,0(a2)
		if(!current_entry.data.is_leaf)
   14c2c:	001efe93          	and	t4,t4,1
   14c30:	00462487          	flw	fs1,4(a2)
   14c34:	00862c87          	flw	fs9,8(a2)
				found_hit |= intersect(current_entry.data.fst_chld_ind + i, mesh, ray, hit);
   14c38:	0247d793          	srl	a5,a5,0x24
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   14c3c:	00747413          	and	s0,s0,7
		if(!current_entry.data.is_leaf)
   14c40:	260e8c63          	beqz	t4,14eb8 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x374>
				found_hit |= intersect(current_entry.data.fst_chld_ind + i, mesh, ray, hit);
   14c44:	00078e93          	mv	t4,a5
   14c48:	0005bf03          	ld	t5,0(a1)
   14c4c:	00179793          	sll	a5,a5,0x1
   14c50:	01d787b3          	add	a5,a5,t4
   14c54:	00279793          	sll	a5,a5,0x2
   14c58:	0085bf83          	ld	t6,8(a1)
	if(gn_dot_d > 0.0f) bc = -bc;
   14c5c:	f0000453          	fmv.w.x	fs0,zero
   14c60:	00ff0f33          	add	t5,t5,a5
   14c64:	01d40433          	add	s0,s0,t4
   14c68:	00212827          	fsw	ft2,16(sp)
   14c6c:	01c12a27          	fsw	ft8,20(sp)
   14c70:	01112c27          	fsw	fa7,24(sp)
   14c74:	0080006f          	j	14c7c <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x138>
   14c78:	00078e93          	mv	t4,a5
	const Triangle tri(mesh.vertices[vi[0]], mesh.vertices[vi[1]], mesh.vertices[vi[2]]);
   14c7c:	004f6383          	lwu	t2,4(t5)
   14c80:	008f6283          	lwu	t0,8(t5)
   14c84:	000f6483          	lwu	s1,0(t5)
   14c88:	00139793          	sll	a5,t2,0x1
   14c8c:	00129993          	sll	s3,t0,0x1
   14c90:	00149913          	sll	s2,s1,0x1
   14c94:	007787b3          	add	a5,a5,t2
   14c98:	009904b3          	add	s1,s2,s1
   14c9c:	005983b3          	add	t2,s3,t0
   14ca0:	00279793          	sll	a5,a5,0x2
   14ca4:	00249293          	sll	t0,s1,0x2
   14ca8:	00239393          	sll	t2,t2,0x2
   14cac:	00ff87b3          	add	a5,t6,a5
   14cb0:	005f82b3          	add	t0,t6,t0
   14cb4:	007f83b3          	add	t2,t6,t2
   14cb8:	0083ae07          	flw	ft8,8(t2)
   14cbc:	0002a507          	flw	fa0,0(t0)
   14cc0:	0082a687          	flw	fa3,8(t0)
   14cc4:	0007a287          	flw	ft5,0(a5)
   14cc8:	0003a087          	flw	ft1,0(t2)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   14ccc:	08de7853          	fsub.s	fa6,ft8,fa3
   14cd0:	08a2f653          	fsub.s	fa2,ft5,fa0
	inline float operator[](int i) const { return e[i]; }
   14cd4:	0043ab87          	flw	fs7,4(t2)
   14cd8:	0042a587          	flw	fa1,4(t0)
   14cdc:	0087a707          	flw	fa4,8(a5)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   14ce0:	08a0f153          	fsub.s	ft2,ft1,fa0
   14ce4:	0850f9d3          	fsub.s	fs3,ft1,ft5
   14ce8:	08157c53          	fsub.s	fs8,fa0,ft1
   14cec:	09d0f0d3          	fsub.s	ft1,ft1,ft9
   14cf0:	08d77053          	fsub.s	ft0,fa4,fa3
   14cf4:	08bbfad3          	fsub.s	fs5,fs7,fa1
		(-(a[0] * b[2] - a[2] * b[0])),
   14cf8:	11067f53          	fmul.s	ft10,fa2,fa6
	inline float operator[](int i) const { return e[i]; }
   14cfc:	0047a787          	flw	fa5,4(a5)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   14d00:	099778d3          	fsub.s	fa7,fa4,fs9
   14d04:	00112227          	fsw	ft1,4(sp)
   14d08:	089bf0d3          	fsub.s	ft1,fs7,fs1
   14d0c:	08b7f253          	fsub.s	ft4,fa5,fa1
	return vec3(a[1] * b[2] - a[2] * b[1],
   14d10:	f0207f47          	fmsub.s	ft10,ft0,ft2,ft10
   14d14:	11507353          	fmul.s	ft6,ft0,fs5
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   14d18:	099e71d3          	fsub.s	ft3,ft8,fs9
   14d1c:	0996f3d3          	fsub.s	ft7,fa3,fs9
   14d20:	08ee7753          	fsub.s	fa4,ft8,fa4
   14d24:	0897ffd3          	fsub.s	ft11,fa5,fs1
   14d28:	09c6f6d3          	fsub.s	fa3,fa3,ft8
		(-(a[0] * b[2] - a[2] * b[0])),
   14d2c:	1119fb53          	fmul.s	fs6,fs3,fa7
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   14d30:	09d2f2d3          	fsub.s	ft5,ft5,ft9
   14d34:	00112027          	fsw	ft1,0(sp)
	return vec3(a[1] * b[2] - a[2] * b[1],
   14d38:	31027847          	fmsub.s	fa6,ft4,fa6,ft6
   14d3c:	01e12427          	fsw	ft10,8(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   14d40:	11ea7353          	fmul.s	ft6,fs4,ft10
	return vec3(a[1] * b[2] - a[2] * b[1],
   14d44:	00012f07          	flw	ft10,0(sp)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   14d48:	0895fe53          	fsub.s	ft8,fa1,fs1
		(-(a[0] * b[2] - a[2] * b[0])),
   14d4c:	103c7dd3          	fmul.s	fs11,fs8,ft3
   14d50:	107670d3          	fmul.s	ft1,fa2,ft7
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   14d54:	09d57553          	fsub.s	fa0,fa0,ft9
   14d58:	08fbf7d3          	fsub.s	fa5,fs7,fa5
   14d5c:	0975f5d3          	fsub.s	fa1,fa1,fs7
		a[0] * b[1] - a[1] * b[0]);
   14d60:	10227153          	fmul.s	ft2,ft4,ft2
	return vec3(a[1] * b[2] - a[2] * b[1],
   14d64:	11f77bd3          	fmul.s	fs7,fa4,ft11
   14d68:	b0577747          	fmsub.s	fa4,fa4,ft5,fs6
   14d6c:	11e6fb53          	fmul.s	fs6,fa3,ft10
   14d70:	00412f07          	flw	ft10,4(sp)
   14d74:	11567147          	fmsub.s	ft2,fa2,fs5,ft2
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   14d78:	31097343          	fmadd.s	ft6,fs2,fa6,ft6
	return vec3(a[1] * b[2] - a[2] * b[1],
   14d7c:	d9e6f6c7          	fmsub.s	fa3,fa3,ft10,fs11
   14d80:	11c07dd3          	fmul.s	fs11,ft0,ft8
   14d84:	08a07047          	fmsub.s	ft0,ft0,fa0,ft1
   14d88:	b917f8c7          	fmsub.s	fa7,fa5,fa7,fs7
   14d8c:	b035f1c7          	fmsub.s	ft3,fa1,ft3,fs6
		a[0] * b[1] - a[1] * b[0]);
   14d90:	1057f7d3          	fmul.s	fa5,fa5,ft5
	return vec3(a[1] * b[2] - a[2] * b[1],
   14d94:	d8727dc7          	fmsub.s	fs11,ft4,ft7,fs11
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   14d98:	10ea7753          	fmul.s	fa4,fs4,fa4
		a[0] * b[1] - a[1] * b[0]);
   14d9c:	11e5f5d3          	fmul.s	fa1,fa1,ft10
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   14da0:	10da76d3          	fmul.s	fa3,fs4,fa3
		a[0] * b[1] - a[1] * b[0]);
   14da4:	10a27253          	fmul.s	ft4,ft4,fa0
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   14da8:	100a7053          	fmul.s	ft0,fs4,ft0
   14dac:	302d7343          	fmadd.s	ft6,fs10,ft2,ft6
	return vec3(a[1] * b[2] - a[2] * b[1],
   14db0:	00012087          	flw	ft1,0(sp)
   14db4:	79f9f7c7          	fmsub.s	fa5,fs3,ft11,fa5
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   14db8:	71197743          	fmadd.s	fa4,fs2,fa7,fa4
	return vec3(a[1] * b[2] - a[2] * b[1],
   14dbc:	581c75c7          	fmsub.s	fa1,fs8,ft1,fa1
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   14dc0:	683971c3          	fmadd.s	ft3,fs2,ft3,fa3
	return vec3(a[1] * b[2] - a[2] * b[1],
   14dc4:	21c67647          	fmsub.s	fa2,fa2,ft8,ft4
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   14dc8:	01b97dc3          	fmadd.s	fs11,fs2,fs11,ft0
	if(gn_dot_d > 0.0f) bc = -bc;
   14dcc:	a06417d3          	flt.s	a5,fs0,ft6
   14dd0:	70fd77c3          	fmadd.s	fa5,fs10,fa5,fa4
   14dd4:	18bd71c3          	fmadd.s	ft3,fs10,fa1,ft3
   14dd8:	d8cd7643          	fmadd.s	fa2,fs10,fa2,fs11
   14ddc:	00078863          	beqz	a5,14dec <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x2a8>
	inline vec3 operator-() const { return vec3(-e[0], -e[1], -e[2]); }
   14de0:	20f797d3          	fneg.s	fa5,fa5
   14de4:	203191d3          	fneg.s	ft3,ft3
   14de8:	20c61653          	fneg.s	fa2,fa2
	if(bc[0] < 0.0f || bc[1] < 0.0f || bc[2] < 0.0f) return false;
   14dec:	a08797d3          	flt.s	a5,fa5,fs0
   14df0:	06079263          	bnez	a5,14e54 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x310>
   14df4:	a08197d3          	flt.s	a5,ft3,fs0
   14df8:	04079e63          	bnez	a5,14e54 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x310>
   14dfc:	a08617d3          	flt.s	a5,fa2,fs0
   14e00:	04079a63          	bnez	a5,14e54 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x310>
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   14e04:	00812707          	flw	fa4,8(sp)
   14e08:	10ee7e53          	fmul.s	ft8,ft8,fa4
	if(t < ray.t_min || t > hit.t) return false;
   14e0c:	00c12707          	flw	fa4,12(sp)
   14e10:	e1057543          	fmadd.s	fa0,fa0,fa6,ft8
   14e14:	5023f3c3          	fmadd.s	ft7,ft7,ft2,fa0
	float t = rtm::dot(gn, tri.vrts[0] - ray.o) / gn_dot_d;
   14e18:	1863f3d3          	fdiv.s	ft7,ft7,ft6
	if(t < ray.t_min || t > hit.t) return false;
   14e1c:	a0e397d3          	flt.s	a5,ft7,fa4
   14e20:	02079a63          	bnez	a5,14e54 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x310>
   14e24:	0006a707          	flw	fa4,0(a3)
   14e28:	a07717d3          	flt.s	a5,fa4,ft7
   14e2c:	02079463          	bnez	a5,14e54 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x310>
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   14e30:	0037f753          	fadd.s	fa4,fa5,ft3
	hit.t = t ;
   14e34:	0076a027          	fsw	ft7,0(a3)
		hit.id = face_index;
   14e38:	01d6a623          	sw	t4,12(a3)
		return true;
   14e3c:	00100513          	li	a0,1
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   14e40:	00c77753          	fadd.s	fa4,fa4,fa2
	return vec2(a.e[0] / b.e[0], a.e[1] / b.e[1]);
   14e44:	18e7f7d3          	fdiv.s	fa5,fa5,fa4
   14e48:	18e1f1d3          	fdiv.s	ft3,ft3,fa4
	e[0] = v[0];
   14e4c:	00f6a227          	fsw	fa5,4(a3)
	e[1] = v[1];
   14e50:	0036a427          	fsw	ft3,8(a3)
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   14e54:	00cf0f13          	add	t5,t5,12
   14e58:	001e879b          	addw	a5,t4,1
   14e5c:	e1d41ee3          	bne	s0,t4,14c78 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x134>
   14e60:	01012107          	flw	ft2,16(sp)
   14e64:	01412e07          	flw	ft8,20(sp)
   14e68:	01812887          	flw	fa7,24(sp)
	while(node_stack_size);
   14e6c:	d80e12e3          	bnez	t3,14bf0 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xac>
	return found_hit;
   14e70:	3e813403          	ld	s0,1000(sp)
   14e74:	3e013483          	ld	s1,992(sp)
   14e78:	3d813903          	ld	s2,984(sp)
   14e7c:	3d013983          	ld	s3,976(sp)
   14e80:	3cc12407          	flw	fs0,972(sp)
   14e84:	3c812487          	flw	fs1,968(sp)
   14e88:	3c412907          	flw	fs2,964(sp)
   14e8c:	3c012987          	flw	fs3,960(sp)
   14e90:	3bc12a07          	flw	fs4,956(sp)
   14e94:	3b812a87          	flw	fs5,952(sp)
   14e98:	3b412b07          	flw	fs6,948(sp)
   14e9c:	3b012b87          	flw	fs7,944(sp)
   14ea0:	3ac12c07          	flw	fs8,940(sp)
   14ea4:	3a812c87          	flw	fs9,936(sp)
   14ea8:	3a412d07          	flw	fs10,932(sp)
   14eac:	3a012d87          	flw	fs11,928(sp)
   14eb0:	3f010113          	add	sp,sp,1008
   14eb4:	00008067          	ret
	for(uint i = 0; i < sizeof(T) / sizeof(uint64_t); ++i)
   14eb8:	01c12787          	flw	fa5,28(sp)
			move_to_stack(node4, blas[current_entry.data.fst_chld_ind]);
   14ebc:	00679793          	sll	a5,a5,0x6
		uint64_t r = ((uint64_t*)&src)[i];
   14ec0:	00f807b3          	add	a5,a6,a5
   14ec4:	09d7fed3          	fsub.s	ft9,fa5,ft9
   14ec8:	0897f5d3          	fsub.s	fa1,fa5,fs1
   14ecc:	0997f653          	fsub.s	fa2,fa5,fs9
   14ed0:	0287bf83          	ld	t6,40(a5)
   14ed4:	0307bf03          	ld	t5,48(a5)
   14ed8:	0387be83          	ld	t4,56(a5)
   14edc:	0087b983          	ld	s3,8(a5)
   14ee0:	0107b903          	ld	s2,16(a5)
   14ee4:	0187b483          	ld	s1,24(a5)
   14ee8:	0207b383          	ld	t2,32(a5)
		((uint64_t*)&dst)[i] = r;
   14eec:	0007b783          	ld	a5,0(a5)
      if (__a < __b)
   14ef0:	00c62187          	flw	ft3,12(a2)
      if (__b < __a)
   14ef4:	01c62007          	flw	ft0,28(a2)
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   14ef8:	2608a087          	flw	ft1,608(a7) # 1a260 <__DATA_BEGIN__+0x10>
   14efc:	25832207          	flw	ft4,600(t1)
   14f00:	01070293          	add	t0,a4,16 # 1a010 <_ZL15lod_node_offset+0x12d8>
   14f04:	00441413          	sll	s0,s0,0x4
		((uint64_t*)&dst)[i] = r;
   14f08:	03f73423          	sd	t6,40(a4)
   14f0c:	03e73823          	sd	t5,48(a4)
   14f10:	03d73c23          	sd	t4,56(a4)
   14f14:	00f73023          	sd	a5,0(a4)
   14f18:	01373423          	sd	s3,8(a4)
   14f1c:	01273823          	sd	s2,16(a4)
   14f20:	00973c23          	sd	s1,24(a4)
   14f24:	02773023          	sd	t2,32(a4)
   14f28:	00070e93          	mv	t4,a4
   14f2c:	008282b3          	add	t0,t0,s0
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   14f30:	3f800f37          	lui	t5,0x3f800
   14f34:	03010f93          	add	t6,sp,48
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   14f38:	000ed783          	lhu	a5,0(t4)
   14f3c:	201087d3          	fmv.s	fa5,ft1
   14f40:	00f7d393          	srl	t2,a5,0xf
   14f44:	00039c63          	bnez	t2,14f5c <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x418>
   14f48:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   14f4c:	01e7e7b3          	or	a5,a5,t5
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   14f50:	f00787d3          	fmv.w.x	fa5,a5
   14f54:	0847f7d3          	fsub.s	fa5,fa5,ft4
   14f58:	00f7f7d3          	fadd.s	fa5,fa5,fa5
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   14f5c:	006ed783          	lhu	a5,6(t4)
   14f60:	0001a3b7          	lui	t2,0x1a
   14f64:	2603a807          	flw	fa6,608(t2) # 1a260 <__DATA_BEGIN__+0x10>
   14f68:	00f7d393          	srl	t2,a5,0xf
   14f6c:	02039063          	bnez	t2,14f8c <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x448>
   14f70:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   14f74:	01e7e7b3          	or	a5,a5,t5
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   14f78:	0001a3b7          	lui	t2,0x1a
   14f7c:	f0078753          	fmv.w.x	fa4,a5
   14f80:	2583a687          	flw	fa3,600(t2) # 1a258 <__DATA_BEGIN__+0x8>
   14f84:	08d77853          	fsub.s	fa6,fa4,fa3
   14f88:	01087853          	fadd.s	fa6,fa6,fa6
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   14f8c:	002ed783          	lhu	a5,2(t4)
   14f90:	0001a3b7          	lui	t2,0x1a
   14f94:	2603a687          	flw	fa3,608(t2) # 1a260 <__DATA_BEGIN__+0x10>
   14f98:	00f7d393          	srl	t2,a5,0xf
   14f9c:	02039063          	bnez	t2,14fbc <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x478>
   14fa0:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   14fa4:	01e7e7b3          	or	a5,a5,t5
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   14fa8:	0001a3b7          	lui	t2,0x1a
   14fac:	f0078753          	fmv.w.x	fa4,a5
   14fb0:	2583a687          	flw	fa3,600(t2) # 1a258 <__DATA_BEGIN__+0x8>
   14fb4:	08d776d3          	fsub.s	fa3,fa4,fa3
   14fb8:	00d6f6d3          	fadd.s	fa3,fa3,fa3
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   14fbc:	008ed783          	lhu	a5,8(t4)
   14fc0:	0001a3b7          	lui	t2,0x1a
   14fc4:	2603a387          	flw	ft7,608(t2) # 1a260 <__DATA_BEGIN__+0x10>
   14fc8:	00f7d393          	srl	t2,a5,0xf
   14fcc:	02039063          	bnez	t2,14fec <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x4a8>
   14fd0:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   14fd4:	01e7e7b3          	or	a5,a5,t5
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   14fd8:	0001a3b7          	lui	t2,0x1a
   14fdc:	f0078753          	fmv.w.x	fa4,a5
   14fe0:	2583a287          	flw	ft5,600(t2) # 1a258 <__DATA_BEGIN__+0x8>
   14fe4:	085773d3          	fsub.s	ft7,fa4,ft5
   14fe8:	0073f3d3          	fadd.s	ft7,ft7,ft7
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   14fec:	004ed783          	lhu	a5,4(t4)
   14ff0:	0001a3b7          	lui	t2,0x1a
   14ff4:	2603a707          	flw	fa4,608(t2) # 1a260 <__DATA_BEGIN__+0x10>
   14ff8:	00f7d393          	srl	t2,a5,0xf
   14ffc:	02039063          	bnez	t2,1501c <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x4d8>
   15000:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   15004:	01e7e7b3          	or	a5,a5,t5
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   15008:	0001a3b7          	lui	t2,0x1a
   1500c:	f0078753          	fmv.w.x	fa4,a5
   15010:	2583a287          	flw	ft5,600(t2) # 1a258 <__DATA_BEGIN__+0x8>
   15014:	08577753          	fsub.s	fa4,fa4,ft5
   15018:	00e77753          	fadd.s	fa4,fa4,fa4
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   1501c:	00aed783          	lhu	a5,10(t4)
   15020:	0001a3b7          	lui	t2,0x1a
   15024:	2603a307          	flw	ft6,608(t2) # 1a260 <__DATA_BEGIN__+0x10>
   15028:	00f7d393          	srl	t2,a5,0xf
   1502c:	02039063          	bnez	t2,1504c <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x508>
   15030:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   15034:	01e7e7b3          	or	a5,a5,t5
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   15038:	0001a3b7          	lui	t2,0x1a
   1503c:	f00782d3          	fmv.w.x	ft5,a5
   15040:	2583a307          	flw	ft6,600(t2) # 1a258 <__DATA_BEGIN__+0x8>
   15044:	0862f353          	fsub.s	ft6,ft5,ft6
   15048:	00637353          	fadd.s	ft6,ft6,ft6
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   1504c:	00fef7d3          	fadd.s	fa5,ft9,fa5
   15050:	010ef853          	fadd.s	fa6,ft9,fa6
   15054:	00d5f6d3          	fadd.s	fa3,fa1,fa3
   15058:	0075f3d3          	fadd.s	ft7,fa1,ft7
   1505c:	00e67753          	fadd.s	fa4,fa2,fa4
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   15060:	1027f7d3          	fmul.s	fa5,fa5,ft2
   15064:	10287853          	fmul.s	fa6,fa6,ft2
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   15068:	00667353          	fadd.s	ft6,fa2,ft6
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   1506c:	11c3f3d3          	fmul.s	ft7,ft7,ft8
   15070:	11c6f6d3          	fmul.s	fa3,fa3,ft8
   15074:	11177753          	fmul.s	fa4,fa4,fa7
   15078:	290782d3          	fmin.s	ft5,fa5,fa6
	if (tmin > tmax) return ray.t_max;//no hit || behind
   1507c:	290797d3          	fmax.s	fa5,fa5,fa6
   15080:	11137353          	fmul.s	ft6,ft6,fa7
	float tmin = std::max(std::max(tminv.x, tminv.y), std::max(tminv.z, ray.t_min));
   15084:	28768853          	fmin.s	fa6,fa3,ft7
   15088:	283292d3          	fmax.s	ft5,ft5,ft3
	if (tmin > tmax) return ray.t_max;//no hit || behind
   1508c:	287696d3          	fmax.s	fa3,fa3,ft7
   15090:	280787d3          	fmin.s	fa5,fa5,ft0
   15094:	286703d3          	fmin.s	ft7,fa4,ft6
   15098:	290292d3          	fmax.s	ft5,ft5,fa6
   1509c:	28d787d3          	fmin.s	fa5,fa5,fa3
   150a0:	28671753          	fmax.s	fa4,fa4,ft6
   150a4:	287296d3          	fmax.s	fa3,ft5,ft7
   150a8:	28e787d3          	fmin.s	fa5,fa5,fa4
   150ac:	a0d797d3          	flt.s	a5,fa5,fa3
   150b0:	00078463          	beqz	a5,150b8 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x574>
   150b4:	200006d3          	fmv.s	fa3,ft0
				new_entry.data = node4.nodes[i].data;
   150b8:	00cea383          	lw	t2,12(t4)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   150bc:	a0a697d3          	flt.s	a5,fa3,fa0
				new_entry.data = node4.nodes[i].data;
   150c0:	02712623          	sw	t2,44(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   150c4:	00079a63          	bnez	a5,150d8 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x594>
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   150c8:	010e8e93          	add	t4,t4,16
   150cc:	e7d296e3          	bne	t0,t4,14f38 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x3f4>
	while(node_stack_size);
   150d0:	b20e10e3          	bnez	t3,14bf0 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xac>
   150d4:	d9dff06f          	j	14e70 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x32c>
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   150d8:	001e091b          	addw	s2,t3,1
	for(; j != min; --j)
   150dc:	060e0263          	beqz	t3,15140 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x5fc>
   150e0:	fffe079b          	addw	a5,t3,-1
   150e4:	020e1393          	sll	t2,t3,0x20
   150e8:	01d3de13          	srl	t3,t2,0x1d
   150ec:	02079393          	sll	t2,a5,0x20
   150f0:	01d3d793          	srl	a5,t2,0x1d
   150f4:	000f8993          	mv	s3,t6
   150f8:	01cf8e33          	add	t3,t6,t3
   150fc:	00ff87b3          	add	a5,t6,a5
   15100:	0180006f          	j	15118 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x5d4>
		stack[j] = stack[j - 1];
   15104:	0007b383          	ld	t2,0(a5)
	for(; j != min; --j)
   15108:	ff8e0e13          	add	t3,t3,-8
		stack[j] = stack[j - 1];
   1510c:	007e3423          	sd	t2,8(t3)
	for(; j != min; --j)
   15110:	02ff8a63          	beq	t6,a5,15144 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x600>
   15114:	00040793          	mv	a5,s0
		if(stack[j - 1].t >= entry.t) break;
   15118:	0007a787          	flw	fa5,0(a5)
		stack[j] = stack[j - 1];
   1511c:	000e0493          	mv	s1,t3
	for(; j != min; --j)
   15120:	ff878413          	add	s0,a5,-8
		if(stack[j - 1].t >= entry.t) break;
   15124:	a0f683d3          	fle.s	t2,fa3,fa5
   15128:	fc038ee3          	beqz	t2,15104 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x5c0>
	stack[j] = entry;
   1512c:	02d12427          	fsw	fa3,40(sp)
   15130:	02813783          	ld	a5,40(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   15134:	00090e13          	mv	t3,s2
	stack[j] = entry;
   15138:	00f4b023          	sd	a5,0(s1)
}
   1513c:	f8dff06f          	j	150c8 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x584>
   15140:	03010993          	add	s3,sp,48
	stack[j] = entry;
   15144:	02d12427          	fsw	fa3,40(sp)
   15148:	02813783          	ld	a5,40(sp)
   1514c:	00098493          	mv	s1,s3
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   15150:	00090e13          	mv	t3,s2
	stack[j] = entry;
   15154:	00f4b023          	sd	a5,0(s1)
   15158:	f71ff06f          	j	150c8 <_Z9intersectI12MeshPointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x584>

000000000001515c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit>:
inline bool intersect(const BVH::CompressedNode4* blas, const T& mesh, const Ray& ray, Hit& hit)
   1515c:	81010113          	add	sp,sp,-2032
   15160:	79b13823          	sd	s11,1936(sp)
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   15164:	0001adb7          	lui	s11,0x1a
   15168:	258da787          	flw	fa5,600(s11) # 1a258 <__DATA_BEGIN__+0x8>
   1516c:	77712827          	fsw	fs7,1904(sp)
	inline float operator[](int i) const { return e[i]; }
   15170:	01062b87          	flw	fs7,16(a2)
   15174:	01462687          	flw	fa3,20(a2)
   15178:	77b12027          	fsw	fs11,1888(sp)
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   1517c:	1977f753          	fdiv.s	fa4,fa5,fs7
	inline float operator[](int i) const { return e[i]; }
   15180:	01862d87          	flw	fs11,24(a2)
   15184:	7e813423          	sd	s0,2024(sp)
   15188:	7e913023          	sd	s1,2016(sp)
   1518c:	7d213c23          	sd	s2,2008(sp)
   15190:	7d313823          	sd	s3,2000(sp)
   15194:	7d413423          	sd	s4,1992(sp)
   15198:	7d513023          	sd	s5,1984(sp)
   1519c:	7b613c23          	sd	s6,1976(sp)
   151a0:	7b713823          	sd	s7,1968(sp)
   151a4:	7b813423          	sd	s8,1960(sp)
   151a8:	7b913023          	sd	s9,1952(sp)
   151ac:	79a13c23          	sd	s10,1944(sp)
   151b0:	78812627          	fsw	fs0,1932(sp)
   151b4:	78912427          	fsw	fs1,1928(sp)
   151b8:	79212227          	fsw	fs2,1924(sp)
   151bc:	79312027          	fsw	fs3,1920(sp)
   151c0:	77412e27          	fsw	fs4,1916(sp)
   151c4:	77512c27          	fsw	fs5,1912(sp)
   151c8:	77612a27          	fsw	fs6,1908(sp)
   151cc:	77812627          	fsw	fs8,1900(sp)
   151d0:	77912427          	fsw	fs9,1896(sp)
   151d4:	77a12227          	fsw	fs10,1892(sp)
   151d8:	f2010113          	add	sp,sp,-224
   151dc:	0cd12427          	fsw	fa3,200(sp)
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   151e0:	18d7f6d3          	fdiv.s	fa3,fa5,fa3
	e[0] *= v[0];
   151e4:	0001a7b7          	lui	a5,0x1a
   151e8:	25c7a607          	flw	fa2,604(a5) # 1a25c <__DATA_BEGIN__+0xc>
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   151ec:	04e12c27          	fsw	fa4,88(sp)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   151f0:	0001a7b7          	lui	a5,0x1a
	node_stack[0].t = ray.t_min;
   151f4:	00c62707          	flw	fa4,12(a2)
	e[0] *= v[0];
   151f8:	04c12627          	fsw	fa2,76(sp)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   151fc:	2687ae87          	flw	ft9,616(a5) # 1a268 <__DATA_BEGIN__+0x18>
   15200:	0001a7b7          	lui	a5,0x1a
   15204:	2707a607          	flw	fa2,624(a5) # 1a270 <__DATA_BEGIN__+0x20>
   15208:	0001a7b7          	lui	a5,0x1a
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   1520c:	0db12627          	fsw	fs11,204(sp)
   15210:	04c12827          	fsw	fa2,80(sp)
   15214:	2747a607          	flw	fa2,628(a5) # 1a274 <__DATA_BEGIN__+0x24>
inline bool intersect(const BVH::CompressedNode4* blas, const T& mesh, const Ray& ray, Hit& hit)
   15218:	7cf10793          	add	a5,sp,1999
   1521c:	fc07f993          	and	s3,a5,-64
	node_stack[0].data.is_leaf = false;
   15220:	00600793          	li	a5,6
inline bool intersect(const BVH::CompressedNode4* blas, const T& mesh, const Ray& ray, Hit& hit)
   15224:	00060813          	mv	a6,a2
   15228:	0001a4b7          	lui	s1,0x1a
   1522c:	04c12a27          	fsw	fa2,84(sp)
   15230:	19b7f7d3          	fdiv.s	fa5,fa5,fs11
   15234:	217b8dd3          	fmv.s	fs11,fs7
   15238:	00050a13          	mv	s4,a0
   1523c:	00068913          	mv	s2,a3
   15240:	04d12e27          	fsw	fa3,92(sp)
	node_stack[0].t = ray.t_min;
   15244:	48e12827          	fsw	fa4,1168(sp)
	node_stack[0].data.is_leaf = false;
   15248:	48f12a23          	sw	a5,1172(sp)
	bool found_hit = false;
   1524c:	0c013823          	sd	zero,208(sp)
	uint32_t node_stack_size = 1u;
   15250:	00100413          	li	s0,1
   15254:	00058393          	mv	t2,a1
   15258:	06f12027          	fsw	fa5,96(sp)
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   1525c:	fff4071b          	addw	a4,s0,-1
   15260:	02071693          	sll	a3,a4,0x20
   15264:	01d6d793          	srl	a5,a3,0x1d
   15268:	75078793          	add	a5,a5,1872
   1526c:	0f010693          	add	a3,sp,240
   15270:	00d787b3          	add	a5,a5,a3
   15274:	c507b783          	ld	a5,-944(a5)
		if(current_entry.t >= hit.t) return found_hit;
   15278:	00092407          	flw	fs0,0(s2)
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   1527c:	0007041b          	sext.w	s0,a4
		if(current_entry.t >= hit.t) return found_hit;
   15280:	f00787d3          	fmv.w.x	fa5,a5
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   15284:	0ef13c23          	sd	a5,248(sp)
		if(current_entry.t >= hit.t) return found_hit;
   15288:	a0f40753          	fle.s	a4,fs0,fa5
   1528c:	00070463          	beqz	a4,15294 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x138>
   15290:	4400106f          	j	166d0 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1574>
		if(!current_entry.data.is_leaf)
   15294:	0fc12683          	lw	a3,252(sp)
   15298:	0001abb7          	lui	s7,0x1a
   1529c:	26cba787          	flw	fa5,620(s7) # 1a26c <__DATA_BEGIN__+0x1c>
	inline float operator[](int i) const { return e[i]; }
   152a0:	00082c87          	flw	fs9,0(a6)
   152a4:	00482b87          	flw	fs7,4(a6)
   152a8:	00882d07          	flw	fs10,8(a6)
   152ac:	0016f693          	and	a3,a3,1
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   152b0:	0217d713          	srl	a4,a5,0x21
		if(!current_entry.data.is_leaf)
   152b4:	0ad13823          	sd	a3,176(sp)
   152b8:	0997f6d3          	fsub.s	fa3,fa5,fs9
   152bc:	0977f753          	fsub.s	fa4,fa5,fs7
      if (__a < __b)
   152c0:	00c82107          	flw	ft2,12(a6)
   152c4:	09a7f7d3          	fsub.s	fa5,fa5,fs10
      if (__b < __a)
   152c8:	01c82087          	flw	ft1,28(a6)
				found_hit |= intersect(current_entry.data.fst_chld_ind + i, mesh, ray, hit);
   152cc:	0247d793          	srl	a5,a5,0x24
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   152d0:	00777713          	and	a4,a4,7
		if(!current_entry.data.is_leaf)
   152d4:	00069463          	bnez	a3,152dc <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x180>
   152d8:	4880106f          	j	16760 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1604>
	move_to_stack(header, tes_tree.headers[patch_index]);
   152dc:	0003b683          	ld	a3,0(t2)
   152e0:	00f70733          	add	a4,a4,a5
	float max_db_over_max_error = header.max_db * ray.rcp_max_error;
   152e4:	02882507          	flw	fa0,40(a6)
	const TesselationTree4::CompressedNode4* nodes = &tes_tree.nodes[header.root_node_offset];
   152e8:	0083b603          	ld	a2,8(t2)
   152ec:	00170713          	add	a4,a4,1
   152f0:	00679793          	sll	a5,a5,0x6
   152f4:	219c8b53          	fmv.s	fs6,fs9
   152f8:	00671713          	sll	a4,a4,0x6
	const CompactTri* triangles = &tes_tree.triangles[header.root_tri_offset];
   152fc:	0103bb03          	ld	s6,16(t2)
   15300:	21ad0c53          	fmv.s	fs8,fs10
   15304:	20840cd3          	fmv.s	fs9,fs0
   15308:	201082d3          	fmv.s	ft5,ft1
   1530c:	00f685b3          	add	a1,a3,a5
   15310:	00e687b3          	add	a5,a3,a4
	const TesselationTree4::CompressedNode4* nodes = &tes_tree.nodes[header.root_node_offset];
   15314:	08c13423          	sd	a2,136(sp)
   15318:	0af13c23          	sd	a5,184(sp)
   1531c:	0001aab7          	lui	s5,0x1a
   15320:	0c813c23          	sd	s0,216(sp)
   15324:	0db12027          	fsw	fs11,192(sp)
   15328:	0ca12227          	fsw	fa0,196(sp)
   1532c:	08b13823          	sd	a1,144(sp)
   15330:	0f413023          	sd	s4,224(sp)
   15334:	0e713423          	sd	t2,232(sp)
		uint64_t r = ((uint64_t*)&src)[i];
   15338:	09013583          	ld	a1,144(sp)
	float max_db_over_max_error = header.max_db * ray.rcp_max_error;
   1533c:	0c412607          	flw	fa2,196(sp)
   15340:	0105b503          	ld	a0,16(a1)
   15344:	0185b883          	ld	a7,24(a1)
   15348:	0005b783          	ld	a5,0(a1)
   1534c:	f00505d3          	fmv.w.x	fa1,a0
   15350:	0085b603          	ld	a2,8(a1)
   15354:	0205b703          	ld	a4,32(a1)
   15358:	10b67653          	fmul.s	fa2,fa2,fa1
   1535c:	0285b683          	ld	a3,40(a1)
   15360:	0305be03          	ld	t3,48(a1)
   15364:	0385b303          	ld	t1,56(a1)
		((uint64_t*)&dst)[i] = r;
   15368:	0519bc23          	sd	a7,88(s3)
   1536c:	04c12427          	fsw	fa2,72(sp)
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   15370:	0001a5b7          	lui	a1,0x1a
	const TesselationTree4::CompressedNode4* nodes = &tes_tree.nodes[header.root_node_offset];
   15374:	02055293          	srl	t0,a0,0x20
	const CompactTri* triangles = &tes_tree.triangles[header.root_tri_offset];
   15378:	02089893          	sll	a7,a7,0x20
   1537c:	03079513          	sll	a0,a5,0x30
   15380:	2605a607          	flw	fa2,608(a1) # 1a260 <__DATA_BEGIN__+0x10>
   15384:	0208d893          	srl	a7,a7,0x20
   15388:	02054463          	bltz	a0,153b0 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x254>
   1538c:	0107951b          	sllw	a0,a5,0x10
   15390:	0105551b          	srlw	a0,a0,0x10
   15394:	0085151b          	sllw	a0,a0,0x8
   15398:	3f800eb7          	lui	t4,0x3f800
	return *((float*)&u);
   1539c:	01d56533          	or	a0,a0,t4
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   153a0:	258da607          	flw	fa2,600(s11)
   153a4:	f00505d3          	fmv.w.x	fa1,a0
   153a8:	08c5f653          	fsub.s	fa2,fa1,fa2
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   153ac:	00c67653          	fadd.s	fa2,fa2,fa2
   153b0:	0307d513          	srl	a0,a5,0x30
   153b4:	0007d463          	bgez	a5,153bc <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x260>
   153b8:	2b00106f          	j	16668 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x150c>
   153bc:	0085151b          	sllw	a0,a0,0x8
   153c0:	3f800eb7          	lui	t4,0x3f800
	return *((float*)&u);
   153c4:	01d56533          	or	a0,a0,t4
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   153c8:	258da587          	flw	fa1,600(s11)
   153cc:	f0050553          	fmv.w.x	fa0,a0
   153d0:	08b57353          	fsub.s	ft6,fa0,fa1
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   153d4:	00637353          	fadd.s	ft6,ft6,ft6
   153d8:	4107de9b          	sraw	t4,a5,0x10
   153dc:	0107d51b          	srlw	a0,a5,0x10
   153e0:	000ed463          	bgez	t4,153e8 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x28c>
   153e4:	27c0106f          	j	16660 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1504>
   153e8:	0085151b          	sllw	a0,a0,0x8
   153ec:	3f800eb7          	lui	t4,0x3f800
	return *((float*)&u);
   153f0:	01d56533          	or	a0,a0,t4
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   153f4:	258da587          	flw	fa1,600(s11)
   153f8:	f0050553          	fmv.w.x	fa0,a0
   153fc:	08b57053          	fsub.s	ft0,fa0,fa1
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   15400:	00007053          	fadd.s	ft0,ft0,ft0
   15404:	03061513          	sll	a0,a2,0x30
   15408:	00055463          	bgez	a0,15410 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x2b4>
   1540c:	24c0106f          	j	16658 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x14fc>
   15410:	0106151b          	sllw	a0,a2,0x10
   15414:	0105551b          	srlw	a0,a0,0x10
   15418:	0085151b          	sllw	a0,a0,0x8
   1541c:	3f800eb7          	lui	t4,0x3f800
	return *((float*)&u);
   15420:	01d56533          	or	a0,a0,t4
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   15424:	258da587          	flw	fa1,600(s11)
   15428:	f0050553          	fmv.w.x	fa0,a0
   1542c:	08b571d3          	fsub.s	ft3,fa0,fa1
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   15430:	0031f1d3          	fadd.s	ft3,ft3,ft3
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   15434:	0207d793          	srl	a5,a5,0x20
   15438:	03079513          	sll	a0,a5,0x30
   1543c:	03079e93          	sll	t4,a5,0x30
   15440:	03055513          	srl	a0,a0,0x30
   15444:	000ed463          	bgez	t4,1544c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x2f0>
   15448:	2080106f          	j	16650 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x14f4>
   1544c:	0085179b          	sllw	a5,a0,0x8
   15450:	3f800537          	lui	a0,0x3f800
	return *((float*)&u);
   15454:	00a7e7b3          	or	a5,a5,a0
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   15458:	258da587          	flw	fa1,600(s11)
   1545c:	f0078553          	fmv.w.x	fa0,a5
   15460:	08b57253          	fsub.s	ft4,fa0,fa1
   15464:	00427253          	fadd.s	ft4,ft4,ft4
   15468:	4106551b          	sraw	a0,a2,0x10
   1546c:	0106579b          	srlw	a5,a2,0x10
   15470:	00055463          	bgez	a0,15478 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x31c>
   15474:	1d40106f          	j	16648 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x14ec>
   15478:	0087979b          	sllw	a5,a5,0x8
   1547c:	3f800537          	lui	a0,0x3f800
	return *((float*)&u);
   15480:	00a7e7b3          	or	a5,a5,a0
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   15484:	258da587          	flw	fa1,600(s11)
   15488:	f0078553          	fmv.w.x	fa0,a5
   1548c:	08b575d3          	fsub.s	fa1,fa0,fa1
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   15490:	00b5f5d3          	fadd.s	fa1,fa1,fa1
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   15494:	00d67653          	fadd.s	fa2,fa2,fa3
   15498:	0066f353          	fadd.s	ft6,fa3,ft6
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   1549c:	05812507          	flw	fa0,88(sp)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   154a0:	00077053          	fadd.s	ft0,fa4,ft0
   154a4:	003771d3          	fadd.s	ft3,fa4,ft3
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   154a8:	10a67653          	fmul.s	fa2,fa2,fa0
   154ac:	10a37353          	fmul.s	ft6,ft6,fa0
   154b0:	05c12507          	flw	fa0,92(sp)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   154b4:	0047f253          	fadd.s	ft4,fa5,ft4
   154b8:	00b7f5d3          	fadd.s	fa1,fa5,fa1
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   154bc:	10a07053          	fmul.s	ft0,ft0,fa0
   154c0:	10a1f1d3          	fmul.s	ft3,ft3,fa0
      if (__a < __b)
   154c4:	06212227          	fsw	ft2,100(sp)
   154c8:	20210553          	fmv.s	fa0,ft2
   154cc:	06012107          	flw	ft2,96(sp)
   154d0:	286600d3          	fmin.s	ft1,fa2,ft6
	if (tmin > tmax) return ray.t_max;//no hit || behind
   154d4:	28661653          	fmax.s	fa2,fa2,ft6
   154d8:	1025f5d3          	fmul.s	fa1,fa1,ft2
   154dc:	10227253          	fmul.s	ft4,ft4,ft2
	float tmin = std::max(std::max(tminv.x, tminv.y), std::max(tminv.z, ray.t_min));
   154e0:	28a090d3          	fmax.s	ft1,ft1,fa0
   154e4:	28300153          	fmin.s	ft2,ft0,ft3
	if (tmin > tmax) return ray.t_max;//no hit || behind
   154e8:	28560653          	fmin.s	fa2,fa2,ft5
   154ec:	28301053          	fmax.s	ft0,ft0,ft3
   154f0:	282090d3          	fmax.s	ft1,ft1,ft2
   154f4:	28b20153          	fmin.s	ft2,ft4,fa1
   154f8:	28060653          	fmin.s	fa2,fa2,ft0
   154fc:	28b21253          	fmax.s	ft4,ft4,fa1
   15500:	282095d3          	fmax.s	fa1,ft1,ft2
   15504:	28460653          	fmin.s	fa2,fa2,ft4
   15508:	a0b617d3          	flt.s	a5,fa2,fa1
   1550c:	00079463          	bnez	a5,15514 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x3b8>
	return tmin;
   15510:	20b582d3          	fmv.s	ft5,fa1
	float f0 = u24_to_f32(dw0 & 0xffffff);
   15514:	02871793          	sll	a5,a4,0x28
   15518:	0287d793          	srl	a5,a5,0x28
	return *((float*)&u);
   1551c:	3f800eb7          	lui	t4,0x3f800
   15520:	01d7e7b3          	or	a5,a5,t4
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   15524:	2604a587          	flw	fa1,608(s1) # 1a260 <__DATA_BEGIN__+0x10>
   15528:	264aa607          	flw	fa2,612(s5) # 1a264 <__DATA_BEGIN__+0x14>
   1552c:	f0078553          	fmv.w.x	fa0,a5
	node_stack[0].dbs = header.node.dbs;
   15530:	02065513          	srl	a0,a2,0x20
   15534:	01775613          	srl	a2,a4,0x17
	node_stack[0].t = intersect(decompress(header.node.aabb), ray, inv_d);
   15538:	10512827          	fsw	ft5,272(sp)
	node_stack[0].node_index = 0;
   1553c:	10012a23          	sw	zero,276(sp)
	node_stack[0].dbs = header.node.dbs;
   15540:	10a12c23          	sw	a0,280(sp)
	uint32_t hit_lod = ~0u;
   15544:	00167613          	and	a2,a2,1
   15548:	60b57643          	fmadd.s	fa2,fa0,fa1,fa2
   1554c:	00060463          	beqz	a2,15554 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x3f8>
   15550:	258da607          	flw	fa2,600(s11)
	float f5 = u24_to_f32(((dw1 >> 56) | (dw2 << 8)) & 0xffffff);
   15554:	008e179b          	sllw	a5,t3,0x8
   15558:	0386d613          	srl	a2,a3,0x38
	float f2 = u24_to_f32(((dw0 >> 48) | (dw1 << 16)) & 0xffffff);
   1555c:	03075513          	srl	a0,a4,0x30
	float f5 = u24_to_f32(((dw1 >> 56) | (dw2 << 8)) & 0xffffff);
   15560:	00f66633          	or	a2,a2,a5
	float f1 = u24_to_f32((dw0 >> 24) & 0xffffff);
   15564:	01875713          	srl	a4,a4,0x18
   15568:	010007b7          	lui	a5,0x1000
   1556c:	fff78793          	add	a5,a5,-1 # ffffff <__global_pointer$+0xfe55af>
   15570:	0007071b          	sext.w	a4,a4
   15574:	3f800fb7          	lui	t6,0x3f800
	float f2 = u24_to_f32(((dw0 >> 48) | (dw1 << 16)) & 0xffffff);
   15578:	01069e9b          	sllw	t4,a3,0x10
	float f1 = u24_to_f32((dw0 >> 24) & 0xffffff);
   1557c:	00f77d33          	and	s10,a4,a5
	float f2 = u24_to_f32(((dw0 >> 48) | (dw1 << 16)) & 0xffffff);
   15580:	01d56533          	or	a0,a0,t4
	return *((float*)&u);
   15584:	01fd6d33          	or	s10,s10,t6
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   15588:	f00d0553          	fmv.w.x	fa0,s10
   1558c:	06c12427          	fsw	fa2,104(sp)
   15590:	0005051b          	sext.w	a0,a0
   15594:	264aa607          	flw	fa2,612(s5)
   15598:	00f57cb3          	and	s9,a0,a5
	float f3 = u24_to_f32((dw1 >> 8) & 0xffffff);
   1559c:	0086df13          	srl	t5,a3,0x8
	return *((float*)&u);
   155a0:	01fcecb3          	or	s9,s9,t6
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   155a4:	60b571c3          	fmadd.s	ft3,fa0,fa1,fa2
   155a8:	000f0f1b          	sext.w	t5,t5
   155ac:	f00c8553          	fmv.w.x	fa0,s9
   155b0:	00ff7c33          	and	s8,t5,a5
	return *((float*)&u);
   155b4:	01fc6c33          	or	s8,s8,t6
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   155b8:	60b57143          	fmadd.s	ft2,fa0,fa1,fa2
	float f4 = u24_to_f32((dw1 >> 32) & 0xffffff);
   155bc:	4206d693          	sra	a3,a3,0x20
   155c0:	f00c0553          	fmv.w.x	fa0,s8
   155c4:	00f6fa33          	and	s4,a3,a5
	return *((float*)&u);
   155c8:	01fa6a33          	or	s4,s4,t6
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   155cc:	60b570c3          	fmadd.s	ft1,fa0,fa1,fa2
	float f5 = u24_to_f32(((dw1 >> 56) | (dw2 << 8)) & 0xffffff);
   155d0:	0006061b          	sext.w	a2,a2
   155d4:	f00a0553          	fmv.w.x	fa0,s4
   155d8:	00f67433          	and	s0,a2,a5
	float f6 = u24_to_f32((dw2 >> 16) & 0xffffff);
   155dc:	010e5e93          	srl	t4,t3,0x10
	return *((float*)&u);
   155e0:	01f46433          	or	s0,s0,t6
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   155e4:	60b57043          	fmadd.s	ft0,fa0,fa1,fa2
   155e8:	000e8e9b          	sext.w	t4,t4
   155ec:	f0040553          	fmv.w.x	fa0,s0
   155f0:	00fef3b3          	and	t2,t4,a5
	return *((float*)&u);
   155f4:	01f3e3b3          	or	t2,t2,t6
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   155f8:	60b57343          	fmadd.s	ft6,fa0,fa1,fa2
   155fc:	f0038553          	fmv.w.x	fa0,t2
	float f7 = u24_to_f32((dw2 >> 40) & 0xffffff);
   15600:	028e5e13          	srl	t3,t3,0x28
	return *((float*)&u);
   15604:	01fe65b3          	or	a1,t3,t6
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   15608:	60b572c3          	fmadd.s	ft5,fa0,fa1,fa2
	float f8 = u24_to_f32(dw3 & 0xffffff);
   1560c:	0003031b          	sext.w	t1,t1
   15610:	f0058553          	fmv.w.x	fa0,a1
   15614:	00f377b3          	and	a5,t1,a5
	return *((float*)&u);
   15618:	01f7e7b3          	or	a5,a5,t6
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   1561c:	60b57243          	fmadd.s	ft4,fa0,fa1,fa2
   15620:	f0078553          	fmv.w.x	fa0,a5
   15624:	01735313          	srl	t1,t1,0x17
   15628:	00137313          	and	t1,t1,1
   1562c:	60b57643          	fmadd.s	fa2,fa0,fa1,fa2
   15630:	00030463          	beqz	t1,15638 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x4dc>
   15634:	258da607          	flw	fa2,600(s11)
		if(next_level == header.last_lod) //leaf node
   15638:	0589bc83          	ld	s9,88(s3)
   1563c:	01775713          	srl	a4,a4,0x17
   15640:	06c12627          	fsw	fa2,108(sp)
   15644:	00177713          	and	a4,a4,1
   15648:	03ccd313          	srl	t1,s9,0x3c
   1564c:	7e0718e3          	bnez	a4,1663c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x14e0>
   15650:	06312827          	fsw	ft3,112(sp)
   15654:	01755513          	srl	a0,a0,0x17
   15658:	00157513          	and	a0,a0,1
   1565c:	7c051ae3          	bnez	a0,16630 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x14d4>
   15660:	06212a27          	fsw	ft2,116(sp)
   15664:	017f5f13          	srl	t5,t5,0x17
   15668:	001f7f13          	and	t5,t5,1
   1566c:	7a0f1ce3          	bnez	t5,16624 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x14c8>
   15670:	06112c27          	fsw	ft1,120(sp)
   15674:	0176d693          	srl	a3,a3,0x17
   15678:	0016f693          	and	a3,a3,1
   1567c:	78069ee3          	bnez	a3,16618 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x14bc>
   15680:	06012e27          	fsw	ft0,124(sp)
   15684:	01765613          	srl	a2,a2,0x17
   15688:	00167613          	and	a2,a2,1
   1568c:	780610e3          	bnez	a2,1660c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x14b0>
   15690:	08612027          	fsw	ft6,128(sp)
   15694:	017ede93          	srl	t4,t4,0x17
   15698:	001efe93          	and	t4,t4,1
   1569c:	760e92e3          	bnez	t4,16600 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x14a4>
   156a0:	08512227          	fsw	ft5,132(sp)
   156a4:	017e5e13          	srl	t3,t3,0x17
   156a8:	740e16e3          	bnez	t3,165f4 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1498>
   156ac:	08412c27          	fsw	ft4,152(sp)
	uint32_t node_stack_size = 1u;
   156b0:	0b013e03          	ld	t3,176(sp)
	uint32_t hit_lod = ~0u;
   156b4:	0c012d07          	flw	fs10,192(sp)
   156b8:	0c812a87          	flw	fs5,200(sp)
   156bc:	0cc12a07          	flw	fs4,204(sp)
   156c0:	219c8dd3          	fmv.s	fs11,fs9
   156c4:	fff00413          	li	s0,-1
   156c8:	00028513          	mv	a0,t0
   156cc:	08d12e27          	fsw	fa3,156(sp)
   156d0:	0ae12027          	fsw	fa4,160(sp)
   156d4:	0af12227          	fsw	fa5,164(sp)
   156d8:	0b913423          	sd	s9,168(sp)
		const NodeStackEntry current_node_entry = node_stack[--node_stack_size];
   156dc:	fffe0e9b          	addw	t4,t3,-1
   156e0:	020e9713          	sll	a4,t4,0x20
   156e4:	02075713          	srl	a4,a4,0x20
   156e8:	00171793          	sll	a5,a4,0x1
   156ec:	00e787b3          	add	a5,a5,a4
   156f0:	00279793          	sll	a5,a5,0x2
   156f4:	0f010713          	add	a4,sp,240
   156f8:	75078793          	add	a5,a5,1872
   156fc:	00e787b3          	add	a5,a5,a4
   15700:	8d07a703          	lw	a4,-1840(a5)
   15704:	8d47a603          	lw	a2,-1836(a5)
   15708:	8d87a683          	lw	a3,-1832(a5)
		if(current_node_entry.t >= hit.t) continue;
   1570c:	f00707d3          	fmv.w.x	fa5,a4
		const NodeStackEntry current_node_entry = node_stack[--node_stack_size];
   15710:	10e12023          	sw	a4,256(sp)
   15714:	10c12223          	sw	a2,260(sp)
		if(current_node_entry.t >= hit.t) continue;
   15718:	a0fd87d3          	fle.s	a5,fs11,fa5
		const NodeStackEntry current_node_entry = node_stack[--node_stack_size];
   1571c:	10d12423          	sw	a3,264(sp)
		if(current_node_entry.t >= hit.t) continue;
   15720:	22079ae3          	bnez	a5,16154 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xff8>
		uint32_t node_index = current_node_entry.node_index;
   15724:	10013703          	ld	a4,256(sp)
		uint32_t dbs = current_node_entry.dbs;
   15728:	0006879b          	sext.w	a5,a3
		uint32_t lod = current_node_entry.lod;
   1572c:	03a75f93          	srl	t6,a4,0x3a
		uint32_t node_index = current_node_entry.node_index;
   15730:	00671f13          	sll	t5,a4,0x6
		uint32_t lod = current_node_entry.lod;
   15734:	00fff393          	and	t2,t6,15
		uint32_t node_index = current_node_entry.node_index;
   15738:	026f5f13          	srl	t5,t5,0x26
		uint32_t lod = current_node_entry.lod;
   1573c:	00038f93          	mv	t6,t2
		uint32_t tri_type = current_node_entry.tri_type;
   15740:	03e75593          	srl	a1,a4,0x3e
		if(lod == 0) tri_stack[lod].tri = decompact(header.tri);
   15744:	480394e3          	bnez	t2,163cc <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1270>
	e[0] = v[0];
   15748:	06c12f07          	flw	ft10,108(sp)
   1574c:	09812e07          	flw	ft8,152(sp)
   15750:	08412307          	flw	ft6,132(sp)
   15754:	08012287          	flw	ft5,128(sp)
   15758:	07c12587          	flw	fa1,124(sp)
   1575c:	07812607          	flw	fa2,120(sp)
   15760:	07412687          	flw	fa3,116(sp)
   15764:	07012707          	flw	fa4,112(sp)
   15768:	06812787          	flw	fa5,104(sp)
   1576c:	21ef0153          	fmv.s	ft2,ft10
   15770:	21ce01d3          	fmv.s	ft3,ft8
   15774:	20630253          	fmv.s	ft4,ft6
   15778:	20528053          	fmv.s	ft0,ft5
   1577c:	20b58553          	fmv.s	fa0,fa1
   15780:	20c600d3          	fmv.s	ft1,fa2
   15784:	20d683d3          	fmv.s	ft7,fa3
   15788:	20e70853          	fmv.s	fa6,fa4
   1578c:	20f788d3          	fmv.s	fa7,fa5
   15790:	23010713          	add	a4,sp,560
   15794:	22f12827          	fsw	fa5,560(sp)
	e[1] = v[1];
   15798:	22e12a27          	fsw	fa4,564(sp)
	e[2] = v[2];
   1579c:	22d12c27          	fsw	fa3,568(sp)
	e[0] = v[0];
   157a0:	22c12e27          	fsw	fa2,572(sp)
	e[1] = v[1];
   157a4:	24b12027          	fsw	fa1,576(sp)
	e[2] = v[2];
   157a8:	24512227          	fsw	ft5,580(sp)
	e[0] = v[0];
   157ac:	24612427          	fsw	ft6,584(sp)
	e[1] = v[1];
   157b0:	25c12627          	fsw	ft8,588(sp)
	e[2] = v[2];
   157b4:	25e12827          	fsw	ft10,592(sp)
class Triangle
   157b8:	00070593          	mv	a1,a4
   157bc:	00000f93          	li	t6,0
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   157c0:	09787cd3          	fsub.s	fs9,fa6,fs7
   157c4:	09757453          	fsub.s	fs0,fa0,fs7
   157c8:	0971f9d3          	fsub.s	fs3,ft3,fs7
   157cc:	0960f6d3          	fsub.s	fa3,ft1,fs6
   157d0:	09627653          	fsub.s	fa2,ft4,fs6
   157d4:	0968ff53          	fsub.s	ft10,fa7,fs6
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   157d8:	119af7d3          	fmul.s	fa5,fs5,fs9
   157dc:	108af2d3          	fmul.s	ft5,fs5,fs0
   157e0:	113af753          	fmul.s	fa4,fs5,fs3
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   157e4:	0983f953          	fsub.s	fs2,ft7,fs8
   157e8:	098074d3          	fsub.s	fs1,ft0,fs8
   157ec:	79ed77c3          	fmadd.s	fa5,fs10,ft10,fa5
   157f0:	28dd72c3          	fmadd.s	ft5,fs10,fa3,ft5
   157f4:	70cd7743          	fmadd.s	fa4,fs10,fa2,fa4
   157f8:	09817fd3          	fsub.s	ft11,ft2,fs8
	glm::vec3 fdbs((float)(qdb >> 00 & 0x3ff), (float)(qdb >> 10 & 0x3ff), (float)(qdb >> 20 & 0x3ff));
   157fc:	00a7d61b          	srlw	a2,a5,0xa
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   15800:	792a77c3          	fmadd.s	fa5,fs4,fs2,fa5
   15804:	289a72c3          	fmadd.s	ft5,fs4,fs1,ft5
   15808:	0147d69b          	srlw	a3,a5,0x14
   1580c:	71fa7743          	fmadd.s	fa4,fs4,ft11,fa4
   15810:	3ff7f793          	and	a5,a5,1023
   15814:	3ff67613          	and	a2,a2,1023
   15818:	3ff6f693          	and	a3,a3,1023
   1581c:	d007f5d3          	fcvt.s.w	fa1,a5
   15820:	28e78353          	fmin.s	ft6,fa5,fa4
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   15824:	00d12627          	fsw	fa3,12(sp)
   15828:	285787d3          	fmin.s	fa5,fa5,ft5
   1582c:	d006f6d3          	fcvt.s.w	fa3,a3
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   15830:	28e28753          	fmin.s	fa4,ft5,fa4
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   15834:	00c12827          	fsw	fa2,16(sp)
	e[0] *= v[0];
   15838:	04c12287          	flw	ft5,76(sp)
   1583c:	d0067653          	fcvt.s.w	fa2,a2
	glm::vec3 r = mdlen * ray.drdt + ray.radius;
   15840:	02482e07          	flw	ft8,36(a6)
   15844:	1055f5d3          	fmul.s	fa1,fa1,ft5
	e[1] *= v[1];
   15848:	10567653          	fmul.s	fa2,fa2,ft5
	e[2] *= v[2];
   1584c:	1056f6d3          	fmul.s	fa3,fa3,ft5
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   15850:	02082287          	flw	ft5,32(a6)
   15854:	e0e2f743          	fmadd.s	fa4,ft5,fa4,ft8
   15858:	e062f343          	fmadd.s	ft6,ft5,ft6,ft8
   1585c:	e0f2f7c3          	fmadd.s	fa5,ft5,fa5,ft8
	asm volatile("frcp.s %0,%1\n\t" 
   15860:	60077753          	frcp.s	fa4,fa4
   15864:	60037353          	frcp.s	ft6,ft6
   15868:	6007f7d3          	frcp.s	fa5,fa5
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   1586c:	10b5f5d3          	fmul.s	fa1,fa1,fa1
   15870:	04812e07          	flw	ft8,72(sp)
   15874:	10d6f6d3          	fmul.s	fa3,fa3,fa3
   15878:	10c67653          	fmul.s	fa2,fa2,fa2
   1587c:	0001a6b7          	lui	a3,0x1a
   15880:	11c5f5d3          	fmul.s	fa1,fa1,ft8
   15884:	f00002d3          	fmv.w.x	ft5,zero
   15888:	11c6f6d3          	fmul.s	fa3,fa3,ft8
   1588c:	11c67653          	fmul.s	fa2,fa2,ft8
   15890:	10e5f5d3          	fmul.s	fa1,fa1,fa4
   15894:	10f6f6d3          	fmul.s	fa3,fa3,fa5
   15898:	2586a787          	flw	fa5,600(a3) # 1a258 <__DATA_BEGIN__+0x8>
   1589c:	10667653          	fmul.s	fa2,fa2,ft6
   158a0:	a0f597d3          	flt.s	a5,fa1,fa5
   158a4:	00079663          	bnez	a5,158b0 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x754>
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   158a8:	08f5f2d3          	fsub.s	ft5,fa1,fa5
   158ac:	28f282d3          	fmin.s	ft5,ft5,fa5
   158b0:	258da787          	flw	fa5,600(s11)
   158b4:	f0000753          	fmv.w.x	fa4,zero
   158b8:	a0f617d3          	flt.s	a5,fa2,fa5
   158bc:	00079663          	bnez	a5,158c8 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x76c>
   158c0:	08f67753          	fsub.s	fa4,fa2,fa5
   158c4:	28f70753          	fmin.s	fa4,fa4,fa5
   158c8:	258da787          	flw	fa5,600(s11)
   158cc:	f0000653          	fmv.w.x	fa2,zero
   158d0:	a0f697d3          	flt.s	a5,fa3,fa5
   158d4:	00079663          	bnez	a5,158e0 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x784>
   158d8:	08f6f653          	fsub.s	fa2,fa3,fa5
   158dc:	28f60653          	fmin.s	fa2,fa2,fa5
		if(edge_states[0] <= 0.0f && edge_states[1] <= 0.0f && edge_states[2] <= 0.0f)
   158e0:	f00007d3          	fmv.w.x	fa5,zero
   158e4:	a0f287d3          	fle.s	a5,ft5,fa5
   158e8:	00078a63          	beqz	a5,158fc <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x7a0>
   158ec:	a0f707d3          	fle.s	a5,fa4,fa5
   158f0:	00078663          	beqz	a5,158fc <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x7a0>
   158f4:	a0f607d3          	fle.s	a5,fa2,fa5
   158f8:	70079063          	bnez	a5,15ff8 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xe9c>
		uint32_t absoulte_node_index = lod_node_offset[lod] + node_index;
   158fc:	000197b7          	lui	a5,0x19
   15900:	00239693          	sll	a3,t2,0x2
   15904:	d3878793          	add	a5,a5,-712 # 18d38 <_ZL15lod_node_offset>
   15908:	00d787b3          	add	a5,a5,a3
   1590c:	0007a603          	lw	a2,0(a5)
   15910:	02039a13          	sll	s4,t2,0x20
   15914:	020a5a13          	srl	s4,s4,0x20
   15918:	01e6063b          	addw	a2,a2,t5
		move_to_stack(new_tri, triangles[absoulte_node_index]);
   1591c:	02061613          	sll	a2,a2,0x20
   15920:	02065613          	srl	a2,a2,0x20
   15924:	011602b3          	add	t0,a2,a7
   15928:	00529293          	sll	t0,t0,0x5
		uint64_t r = ((uint64_t*)&src)[i];
   1592c:	005b02b3          	add	t0,s6,t0
   15930:	0002b683          	ld	a3,0(t0)
   15934:	0082b783          	ld	a5,8(t0)
   15938:	0102bc83          	ld	s9,16(t0)
	float f0 = u24_to_f32(dw0 & 0xffffff);
   1593c:	00068c1b          	sext.w	s8,a3
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   15940:	017c5d13          	srl	s10,s8,0x17
   15944:	001d7d13          	and	s10,s10,1
		uint64_t r = ((uint64_t*)&src)[i];
   15948:	0182b283          	ld	t0,24(t0)
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   1594c:	340d12e3          	bnez	s10,16490 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1334>
   15950:	028c1c13          	sll	s8,s8,0x28
   15954:	028c5c13          	srl	s8,s8,0x28
   15958:	3f800d37          	lui	s10,0x3f800
	return *((float*)&u);
   1595c:	01ac6c33          	or	s8,s8,s10
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   15960:	2604a687          	flw	fa3,608(s1)
   15964:	264aa787          	flw	fa5,612(s5)
   15968:	f00c05d3          	fmv.w.x	fa1,s8
   1596c:	78d5f443          	fmadd.s	fs0,fa1,fa3,fa5
	float f1 = u24_to_f32((dw0 >> 24) & 0xffffff);
   15970:	0186dc13          	srl	s8,a3,0x18
   15974:	000c0c1b          	sext.w	s8,s8
   15978:	017c5d13          	srl	s10,s8,0x17
   1597c:	001d7d13          	and	s10,s10,1
   15980:	300d14e3          	bnez	s10,16488 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x132c>
   15984:	028c1c13          	sll	s8,s8,0x28
   15988:	028c5c13          	srl	s8,s8,0x28
   1598c:	3f800d37          	lui	s10,0x3f800
	return *((float*)&u);
   15990:	01ac6c33          	or	s8,s8,s10
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   15994:	2604a687          	flw	fa3,608(s1)
   15998:	264aa787          	flw	fa5,612(s5)
   1599c:	f00c05d3          	fmv.w.x	fa1,s8
   159a0:	78d5ff43          	fmadd.s	ft10,fa1,fa3,fa5
	float f2 = u24_to_f32(((dw0 >> 48) | (dw1 << 16)) & 0xffffff);
   159a4:	01079c1b          	sllw	s8,a5,0x10
   159a8:	0306d693          	srl	a3,a3,0x30
   159ac:	0186e6b3          	or	a3,a3,s8
   159b0:	0006869b          	sext.w	a3,a3
   159b4:	0176dc13          	srl	s8,a3,0x17
   159b8:	001c7c13          	and	s8,s8,1
   159bc:	2c0c12e3          	bnez	s8,16480 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1324>
   159c0:	02869693          	sll	a3,a3,0x28
   159c4:	0286d693          	srl	a3,a3,0x28
   159c8:	3f800c37          	lui	s8,0x3f800
	return *((float*)&u);
   159cc:	0186e6b3          	or	a3,a3,s8
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   159d0:	2604a687          	flw	fa3,608(s1)
   159d4:	264aa787          	flw	fa5,612(s5)
   159d8:	f00685d3          	fmv.w.x	fa1,a3
   159dc:	78d5f6c3          	fmadd.s	fa3,fa1,fa3,fa5
	float f3 = u24_to_f32((dw1 >> 8) & 0xffffff);
   159e0:	0087d693          	srl	a3,a5,0x8
   159e4:	0006869b          	sext.w	a3,a3
   159e8:	0176dc13          	srl	s8,a3,0x17
   159ec:	001c7c13          	and	s8,s8,1
   159f0:	280c14e3          	bnez	s8,16478 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x131c>
   159f4:	02869693          	sll	a3,a3,0x28
   159f8:	0286d693          	srl	a3,a3,0x28
   159fc:	3f800c37          	lui	s8,0x3f800
	return *((float*)&u);
   15a00:	0186e6b3          	or	a3,a3,s8
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   15a04:	2604a587          	flw	fa1,608(s1)
   15a08:	264aa787          	flw	fa5,612(s5)
   15a0c:	f0068353          	fmv.w.x	ft6,a3
   15a10:	78b37e43          	fmadd.s	ft8,ft6,fa1,fa5
	float f4 = u24_to_f32((dw1 >> 32) & 0xffffff);
   15a14:	4207d693          	sra	a3,a5,0x20
   15a18:	0176dc13          	srl	s8,a3,0x17
   15a1c:	001c7c13          	and	s8,s8,1
   15a20:	240c18e3          	bnez	s8,16470 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1314>
   15a24:	02869693          	sll	a3,a3,0x28
   15a28:	0286d693          	srl	a3,a3,0x28
   15a2c:	3f800c37          	lui	s8,0x3f800
	return *((float*)&u);
   15a30:	0186e6b3          	or	a3,a3,s8
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   15a34:	2604a587          	flw	fa1,608(s1)
   15a38:	264aa787          	flw	fa5,612(s5)
   15a3c:	f0068353          	fmv.w.x	ft6,a3
   15a40:	78b37fc3          	fmadd.s	ft11,ft6,fa1,fa5
	float f5 = u24_to_f32(((dw1 >> 56) | (dw2 << 8)) & 0xffffff);
   15a44:	008c969b          	sllw	a3,s9,0x8
   15a48:	0387d793          	srl	a5,a5,0x38
   15a4c:	00d7e7b3          	or	a5,a5,a3
   15a50:	0007879b          	sext.w	a5,a5
   15a54:	0177d693          	srl	a3,a5,0x17
   15a58:	0016f693          	and	a3,a3,1
   15a5c:	200696e3          	bnez	a3,16468 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x130c>
   15a60:	02879793          	sll	a5,a5,0x28
   15a64:	0287d793          	srl	a5,a5,0x28
   15a68:	3f8006b7          	lui	a3,0x3f800
	return *((float*)&u);
   15a6c:	00d7e7b3          	or	a5,a5,a3
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   15a70:	2604a587          	flw	fa1,608(s1)
   15a74:	264aa787          	flw	fa5,612(s5)
   15a78:	f0078353          	fmv.w.x	ft6,a5
   15a7c:	78b377c3          	fmadd.s	fa5,ft6,fa1,fa5
	float f6 = u24_to_f32((dw2 >> 16) & 0xffffff);
   15a80:	010cd793          	srl	a5,s9,0x10
   15a84:	0007879b          	sext.w	a5,a5
   15a88:	0177d693          	srl	a3,a5,0x17
   15a8c:	0016f693          	and	a3,a3,1
   15a90:	1c0698e3          	bnez	a3,16460 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1304>
   15a94:	02879793          	sll	a5,a5,0x28
   15a98:	0287d793          	srl	a5,a5,0x28
   15a9c:	3f8006b7          	lui	a3,0x3f800
	return *((float*)&u);
   15aa0:	00d7e7b3          	or	a5,a5,a3
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   15aa4:	2604a307          	flw	ft6,608(s1)
   15aa8:	264aa587          	flw	fa1,612(s5)
   15aac:	f00784d3          	fmv.w.x	fs1,a5
   15ab0:	5864f343          	fmadd.s	ft6,fs1,ft6,fa1
	float f7 = u24_to_f32((dw2 >> 40) & 0xffffff);
   15ab4:	028cd793          	srl	a5,s9,0x28
   15ab8:	1a0cc0e3          	bltz	s9,16458 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x12fc>
   15abc:	3f8006b7          	lui	a3,0x3f800
	return *((float*)&u);
   15ac0:	00d7e7b3          	or	a5,a5,a3
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   15ac4:	2604a487          	flw	fs1,608(s1)
   15ac8:	264aa587          	flw	fa1,612(s5)
   15acc:	f0078953          	fmv.w.x	fs2,a5
   15ad0:	589974c3          	fmadd.s	fs1,fs2,fs1,fa1
	float f8 = u24_to_f32(dw3 & 0xffffff);
   15ad4:	0002829b          	sext.w	t0,t0
   15ad8:	0172d793          	srl	a5,t0,0x17
   15adc:	0017f793          	and	a5,a5,1
   15ae0:	160798e3          	bnez	a5,16450 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x12f4>
   15ae4:	02829293          	sll	t0,t0,0x28
   15ae8:	0282d793          	srl	a5,t0,0x28
   15aec:	3f8006b7          	lui	a3,0x3f800
	return *((float*)&u);
   15af0:	00d7e7b3          	or	a5,a5,a3
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   15af4:	2604a907          	flw	fs2,608(s1)
   15af8:	264aa587          	flw	fa1,612(s5)
   15afc:	f00789d3          	fmv.w.x	fs3,a5
   15b00:	5929f5c3          	fmadd.s	fa1,fs3,fs2,fa1
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   15b04:	00127cd3          	fadd.s	fs9,ft4,ft1
   15b08:	00a1f9d3          	fadd.s	fs3,ft3,fa0
   15b0c:	00017953          	fadd.s	fs2,ft2,ft0
   15b10:	0101f1d3          	fadd.s	ft3,ft3,fa6
   15b14:	00717153          	fadd.s	ft2,ft2,ft7
   15b18:	00a87553          	fadd.s	fa0,fa6,fa0
   15b1c:	0003f053          	fadd.s	ft0,ft7,ft0
   15b20:	01127253          	fadd.s	ft4,ft4,fa7
   15b24:	0018f0d3          	fadd.s	ft1,fa7,ft1
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   15b28:	f9d1ffcb          	fnmsub.s	ft11,ft3,ft9,ft11
   15b2c:	49d574cb          	fnmsub.s	fs1,fa0,ft9,fs1
   15b30:	41dcf44b          	fnmsub.s	fs0,fs9,ft9,fs0
   15b34:	e1d27e4b          	fnmsub.s	ft8,ft4,ft9,ft8
   15b38:	31d0f34b          	fnmsub.s	ft6,ft1,ft9,ft6
   15b3c:	f1d9ff4b          	fnmsub.s	ft10,fs3,ft9,ft10
   15b40:	69d976cb          	fnmsub.s	fa3,fs2,ft9,fa3
   15b44:	79d177cb          	fnmsub.s	fa5,ft2,ft9,fa5
   15b48:	59d075cb          	fnmsub.s	fa1,ft0,ft9,fa1
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   15b4c:	1082f453          	fmul.s	fs0,ft5,fs0
   15b50:	11e2ff53          	fmul.s	ft10,ft5,ft10
   15b54:	10d2f6d3          	fmul.s	fa3,ft5,fa3
   15b58:	11f77fd3          	fmul.s	ft11,fa4,ft11
   15b5c:	10f777d3          	fmul.s	fa5,fa4,fa5
   15b60:	11c77e53          	fmul.s	ft8,fa4,ft8
   15b64:	109674d3          	fmul.s	fs1,fa2,fs1
   15b68:	10b675d3          	fmul.s	fa1,fa2,fa1
   15b6c:	10667353          	fmul.s	ft6,fa2,ft6
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   15b70:	41dcf3c3          	fmadd.s	ft7,fs9,ft9,fs0
   15b74:	f1d9f843          	fmadd.s	fa6,fs3,ft9,ft10
   15b78:	69d976c3          	fmadd.s	fa3,fs2,ft9,fa3
   15b7c:	e1d27243          	fmadd.s	ft4,ft4,ft9,ft8
   15b80:	f9d1f1c3          	fmadd.s	ft3,ft3,ft9,ft11
   15b84:	79d177c3          	fmadd.s	fa5,ft2,ft9,fa5
   15b88:	31d0f0c3          	fmadd.s	ft1,ft1,ft9,ft6
   15b8c:	49d57543          	fmadd.s	fa0,fa0,ft9,fs1
   15b90:	59d075c3          	fmadd.s	fa1,ft0,ft9,fa1
   15b94:	024f8f93          	add	t6,t6,36 # 3f800024 <__global_pointer$+0x3f7e55d4>
   15b98:	01f70733          	add	a4,a4,t6
   15b9c:	02712e27          	fsw	ft7,60(sp)
   15ba0:	05012027          	fsw	fa6,64(sp)
   15ba4:	04d12227          	fsw	fa3,68(sp)
   15ba8:	02412227          	fsw	ft4,36(sp)
   15bac:	02312427          	fsw	ft3,40(sp)
   15bb0:	02f12627          	fsw	fa5,44(sp)
   15bb4:	00112c27          	fsw	ft1,24(sp)
   15bb8:	00a12e27          	fsw	fa0,28(sp)
   15bbc:	02b12027          	fsw	fa1,32(sp)
	e[0] = v[0];
   15bc0:	00772027          	fsw	ft7,0(a4)
	e[1] = v[1];
   15bc4:	01072227          	fsw	fa6,4(a4)
	e[2] = v[2];
   15bc8:	00d72427          	fsw	fa3,8(a4)
	e[0] = v[0];
   15bcc:	00472627          	fsw	ft4,12(a4)
	e[1] = v[1];
   15bd0:	00372827          	fsw	ft3,16(a4)
	e[2] = v[2];
   15bd4:	00f72a27          	fsw	fa5,20(a4)
	e[0] = v[0];
   15bd8:	00172c27          	fsw	ft1,24(a4)
	e[1] = v[1];
   15bdc:	00a72e27          	fsw	fa0,28(a4)
	e[2] = v[2];
   15be0:	02b72027          	fsw	fa1,32(a4)
		uint32_t next_level = lod + 1;
   15be4:	00138293          	add	t0,t2,1
		uint32_t first_child_index = node_index << 2; //compute first child index
   15be8:	002f1f13          	sll	t5,t5,0x2
		if(next_level == header.last_lod) //leaf node
   15bec:	5c628863          	beq	t0,t1,161bc <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1060>
			tri_stack[lod].child_transformed = (edge_states[0] < 1.0f) || (edge_states[1] < 1.0f) || (edge_states[2] < 1.0f) || ((lod != 0) && tri_stack[lod - 1].child_transformed);
   15bf0:	258da787          	flw	fa5,600(s11)
   15bf4:	00100f93          	li	t6,1
   15bf8:	a0f297d3          	flt.s	a5,ft5,fa5
   15bfc:	04079063          	bnez	a5,15c3c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xae0>
   15c00:	a0f717d3          	flt.s	a5,fa4,fa5
   15c04:	02079c63          	bnez	a5,15c3c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xae0>
   15c08:	a0f617d3          	flt.s	a5,fa2,fa5
   15c0c:	02079863          	bnez	a5,15c3c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xae0>
   15c10:	00000f93          	li	t6,0
   15c14:	02038463          	beqz	t2,15c3c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xae0>
   15c18:	fff3879b          	addw	a5,t2,-1
   15c1c:	02079793          	sll	a5,a5,0x20
   15c20:	04c00713          	li	a4,76
   15c24:	0207d793          	srl	a5,a5,0x20
   15c28:	02e787b3          	mul	a5,a5,a4
   15c2c:	0f010713          	add	a4,sp,240
   15c30:	75078793          	add	a5,a5,1872
   15c34:	00e787b3          	add	a5,a5,a4
   15c38:	a387cf83          	lbu	t6,-1480(a5)
   15c3c:	04c00713          	li	a4,76
   15c40:	02ea0733          	mul	a4,s4,a4
		uint64_t r = ((uint64_t*)&src)[i];
   15c44:	08813683          	ld	a3,136(sp)
   15c48:	00c507b3          	add	a5,a0,a2
   15c4c:	00679793          	sll	a5,a5,0x6
   15c50:	00f687b3          	add	a5,a3,a5
   15c54:	0087bd03          	ld	s10,8(a5)
   15c58:	0107bc83          	ld	s9,16(a5)
   15c5c:	0187bc03          	ld	s8,24(a5)
   15c60:	0307b603          	ld	a2,48(a5)
   15c64:	0387b683          	ld	a3,56(a5)
   15c68:	0207ba03          	ld	s4,32(a5)
   15c6c:	0287b383          	ld	t2,40(a5)
		((uint64_t*)&dst)[i] = r;
   15c70:	0007b783          	ld	a5,0(a5)
   15c74:	75070713          	add	a4,a4,1872
   15c78:	00c82207          	flw	ft4,12(a6)
   15c7c:	00f13023          	sd	a5,0(sp)
   15c80:	0f010793          	add	a5,sp,240
   15c84:	00f70733          	add	a4,a4,a5
   15c88:	00013783          	ld	a5,0(sp)
      if (__b < __a)
   15c8c:	01c82187          	flw	ft3,28(a6)
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   15c90:	258da007          	flw	ft0,600(s11)
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   15c94:	2604a107          	flw	ft2,608(s1)
   15c98:	26cba087          	flw	ft1,620(s7)
   15c9c:	05812287          	flw	ft5,88(sp)
   15ca0:	05c12307          	flw	ft6,92(sp)
   15ca4:	06012387          	flw	ft7,96(sp)
   15ca8:	02012c87          	flw	fs9,32(sp)
		((uint64_t*)&dst)[i] = r;
   15cac:	01a9b423          	sd	s10,8(s3)
   15cb0:	0199b823          	sd	s9,16(s3)
   15cb4:	0189bc23          	sd	s8,24(s3)
   15cb8:	02c9b823          	sd	a2,48(s3)
   15cbc:	02d9bc23          	sd	a3,56(s3)
   15cc0:	a3f70c23          	sb	t6,-1480(a4)
   15cc4:	00f9b023          	sd	a5,0(s3)
   15cc8:	0349b023          	sd	s4,32(s3)
   15ccc:	0279b423          	sd	t2,40(s3)
   15cd0:	00098613          	mv	a2,s3
		const NodeStackEntry current_node_entry = node_stack[--node_stack_size];
   15cd4:	000e8c13          	mv	s8,t4
   15cd8:	00000693          	li	a3,0
   15cdc:	00a13823          	sd	a0,16(sp)
   15ce0:	03613823          	sd	s6,48(sp)
   15ce4:	00028d13          	mv	s10,t0
   15ce8:	000f0c93          	mv	s9,t5
   15cec:	00065783          	lhu	a5,0(a2)
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   15cf0:	200007d3          	fmv.s	fa5,ft0
   15cf4:	00f7d713          	srl	a4,a5,0xf
   15cf8:	00071e63          	bnez	a4,15d14 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xbb8>
   15cfc:	0087979b          	sllw	a5,a5,0x8
   15d00:	3f800737          	lui	a4,0x3f800
	return *((float*)&u);
   15d04:	00e7e7b3          	or	a5,a5,a4
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   15d08:	f00787d3          	fmv.w.x	fa5,a5
   15d0c:	0807f7d3          	fsub.s	fa5,fa5,ft0
   15d10:	0827f7c3          	fmadd.s	fa5,fa5,ft2,ft1
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   15d14:	00665783          	lhu	a5,6(a2)
   15d18:	20000553          	fmv.s	fa0,ft0
   15d1c:	00f7d713          	srl	a4,a5,0xf
   15d20:	00071e63          	bnez	a4,15d3c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xbe0>
   15d24:	0087979b          	sllw	a5,a5,0x8
   15d28:	3f800737          	lui	a4,0x3f800
	return *((float*)&u);
   15d2c:	00e7e7b3          	or	a5,a5,a4
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   15d30:	f0078753          	fmv.w.x	fa4,a5
   15d34:	08077753          	fsub.s	fa4,fa4,ft0
   15d38:	08277543          	fmadd.s	fa0,fa4,ft2,ft1
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   15d3c:	00265783          	lhu	a5,2(a2)
   15d40:	20000653          	fmv.s	fa2,ft0
   15d44:	00f7d713          	srl	a4,a5,0xf
   15d48:	00071e63          	bnez	a4,15d64 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xc08>
   15d4c:	0087979b          	sllw	a5,a5,0x8
   15d50:	3f800737          	lui	a4,0x3f800
	return *((float*)&u);
   15d54:	00e7e7b3          	or	a5,a5,a4
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   15d58:	f0078753          	fmv.w.x	fa4,a5
   15d5c:	08077753          	fsub.s	fa4,fa4,ft0
   15d60:	08277643          	fmadd.s	fa2,fa4,ft2,ft1
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   15d64:	00865783          	lhu	a5,8(a2)
   15d68:	0001a537          	lui	a0,0x1a
   15d6c:	25852587          	flw	fa1,600(a0) # 1a258 <__DATA_BEGIN__+0x8>
   15d70:	00f7d713          	srl	a4,a5,0xf
   15d74:	02071263          	bnez	a4,15d98 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xc3c>
   15d78:	0087979b          	sllw	a5,a5,0x8
   15d7c:	3f800737          	lui	a4,0x3f800
	return *((float*)&u);
   15d80:	00e7e7b3          	or	a5,a5,a4
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   15d84:	f0078753          	fmv.w.x	fa4,a5
   15d88:	0001a7b7          	lui	a5,0x1a
   15d8c:	2607a687          	flw	fa3,608(a5) # 1a260 <__DATA_BEGIN__+0x10>
   15d90:	08b77753          	fsub.s	fa4,fa4,fa1
   15d94:	08d775c3          	fmadd.s	fa1,fa4,fa3,ft1
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   15d98:	00465783          	lhu	a5,4(a2)
   15d9c:	0001a537          	lui	a0,0x1a
   15da0:	25852687          	flw	fa3,600(a0) # 1a258 <__DATA_BEGIN__+0x8>
   15da4:	00f7d713          	srl	a4,a5,0xf
   15da8:	02071463          	bnez	a4,15dd0 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xc74>
   15dac:	0087979b          	sllw	a5,a5,0x8
   15db0:	3f800737          	lui	a4,0x3f800
	return *((float*)&u);
   15db4:	00e7e7b3          	or	a5,a5,a4
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   15db8:	f0078753          	fmv.w.x	fa4,a5
   15dbc:	0001a7b7          	lui	a5,0x1a
   15dc0:	2607a807          	flw	fa6,608(a5) # 1a260 <__DATA_BEGIN__+0x10>
   15dc4:	08d77753          	fsub.s	fa4,fa4,fa3
   15dc8:	26cba687          	flw	fa3,620(s7)
   15dcc:	690776c3          	fmadd.s	fa3,fa4,fa6,fa3
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   15dd0:	00a65783          	lhu	a5,10(a2)
   15dd4:	258da707          	flw	fa4,600(s11)
   15dd8:	00f7d713          	srl	a4,a5,0xf
   15ddc:	02071263          	bnez	a4,15e00 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xca4>
   15de0:	0087979b          	sllw	a5,a5,0x8
   15de4:	3f800737          	lui	a4,0x3f800
	return *((float*)&u);
   15de8:	00e7e7b3          	or	a5,a5,a4
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   15dec:	f0078853          	fmv.w.x	fa6,a5
   15df0:	2604a887          	flw	fa7,608(s1)
   15df4:	08e87753          	fsub.s	fa4,fa6,fa4
   15df8:	26cba807          	flw	fa6,620(s7)
   15dfc:	81177743          	fmadd.s	fa4,fa4,fa7,fa6
				if(tri_stack[lod].child_transformed)
   15e00:	140f9e63          	bnez	t6,15f5c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xe00>
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   15e04:	0967f7d3          	fsub.s	fa5,fa5,fs6
   15e08:	09767653          	fsub.s	fa2,fa2,fs7
   15e0c:	09657553          	fsub.s	fa0,fa0,fs6
   15e10:	0975f5d3          	fsub.s	fa1,fa1,fs7
   15e14:	09877853          	fsub.s	fa6,fa4,fs8
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   15e18:	1057f7d3          	fmul.s	fa5,fa5,ft5
   15e1c:	10667653          	fmul.s	fa2,fa2,ft6
   15e20:	10557553          	fmul.s	fa0,fa0,ft5
   15e24:	1065f5d3          	fmul.s	fa1,fa1,ft6
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   15e28:	0986f6d3          	fsub.s	fa3,fa3,fs8
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   15e2c:	10787853          	fmul.s	fa6,fa6,ft7
   15e30:	28a78753          	fmin.s	fa4,fa5,fa0
   15e34:	28b608d3          	fmin.s	fa7,fa2,fa1
	if (tmin > tmax) return ray.t_max;//no hit || behind
   15e38:	28a797d3          	fmax.s	fa5,fa5,fa0
   15e3c:	28b61653          	fmax.s	fa2,fa2,fa1
   15e40:	1076f6d3          	fmul.s	fa3,fa3,ft7
	float tmin = std::max(std::max(tminv.x, tminv.y), std::max(tminv.z, ray.t_min));
   15e44:	29171753          	fmax.s	fa4,fa4,fa7
	if (tmin > tmax) return ray.t_max;//no hit || behind
   15e48:	28c787d3          	fmin.s	fa5,fa5,fa2
   15e4c:	28471753          	fmax.s	fa4,fa4,ft4
   15e50:	29068653          	fmin.s	fa2,fa3,fa6
   15e54:	283787d3          	fmin.s	fa5,fa5,ft3
   15e58:	290696d3          	fmax.s	fa3,fa3,fa6
   15e5c:	28c71753          	fmax.s	fa4,fa4,fa2
   15e60:	28d787d3          	fmin.s	fa5,fa5,fa3
   15e64:	a0e797d3          	flt.s	a5,fa5,fa4
   15e68:	00078463          	beqz	a5,15e70 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xd14>
   15e6c:	20318753          	fmv.s	fa4,ft3
				if(entry.t < hit.t) insert(entry, node_stack, node_stack_size++, temp_node_stack_size);
   15e70:	a1b717d3          	flt.s	a5,fa4,fs11
   15e74:	02079663          	bnez	a5,15ea0 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xd44>
			for(uint32_t i = 0; i < 4; ++i)
   15e78:	00168693          	add	a3,a3,1 # 3f800001 <__global_pointer$+0x3f7e55b1>
   15e7c:	00400793          	li	a5,4
   15e80:	01060613          	add	a2,a2,16
   15e84:	e6f694e3          	bne	a3,a5,15cec <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xb90>
   15e88:	01013503          	ld	a0,16(sp)
   15e8c:	03013b03          	ld	s6,48(sp)
   15e90:	000c0e13          	mv	t3,s8
	} while(node_stack_size);
   15e94:	2c0e0463          	beqz	t3,1615c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1000>
		if(current_node_entry.t >= hit.t) continue;
   15e98:	00092d87          	flw	fs11,0(s2)
   15e9c:	841ff06f          	j	156dc <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x580>
				entry.dbs = node4.nodes[i].dbs;
   15ea0:	00c62283          	lw	t0,12(a2)
				if(entry.t < hit.t) insert(entry, node_stack, node_stack_size++, temp_node_stack_size);
   15ea4:	001c0f1b          	addw	t5,s8,1 # 3f800001 <__global_pointer$+0x3f7e55b1>
	for(; j != min; --j)
   15ea8:	098e8ce3          	beq	t4,s8,16740 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x15e4>
   15eac:	11010393          	add	t2,sp,272
   15eb0:	0200006f          	j	15ed0 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xd74>
		stack[j] = stack[j - 1];
   15eb4:	0007a503          	lw	a0,0(a5)
   15eb8:	00a72023          	sw	a0,0(a4) # 3f800000 <__global_pointer$+0x3f7e55b0>
   15ebc:	0047a503          	lw	a0,4(a5)
   15ec0:	00a72223          	sw	a0,4(a4)
   15ec4:	0087a503          	lw	a0,8(a5)
   15ec8:	00a72423          	sw	a0,8(a4)
	for(; j != min; --j)
   15ecc:	614e0263          	beq	t3,s4,164d0 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1374>
		if(stack[j - 1].t >= entry.t) break;
   15ed0:	fffc051b          	addw	a0,s8,-1
   15ed4:	02051713          	sll	a4,a0,0x20
   15ed8:	02075713          	srl	a4,a4,0x20
   15edc:	00171793          	sll	a5,a4,0x1
   15ee0:	00e787b3          	add	a5,a5,a4
   15ee4:	00279793          	sll	a5,a5,0x2
   15ee8:	00f387b3          	add	a5,t2,a5
   15eec:	0007a787          	flw	fa5,0(a5)
   15ef0:	000c0a1b          	sext.w	s4,s8
		stack[j] = stack[j - 1];
   15ef4:	020a1c13          	sll	s8,s4,0x20
   15ef8:	020c5c13          	srl	s8,s8,0x20
   15efc:	001c1713          	sll	a4,s8,0x1
		if(stack[j - 1].t >= entry.t) break;
   15f00:	a0f70b53          	fle.s	s6,fa4,fa5
		stack[j] = stack[j - 1];
   15f04:	01870733          	add	a4,a4,s8
   15f08:	00271713          	sll	a4,a4,0x2
   15f0c:	00e38733          	add	a4,t2,a4
		if(stack[j - 1].t >= entry.t) break;
   15f10:	00050c1b          	sext.w	s8,a0
   15f14:	fa0b00e3          	beqz	s6,15eb4 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xd58>
	stack[j] = entry;
   15f18:	04000a37          	lui	s4,0x4000
   15f1c:	fffa0a13          	add	s4,s4,-1 # 3ffffff <__global_pointer$+0x3fe55af>
   15f20:	014cfc33          	and	s8,s9,s4
   15f24:	0146f3b3          	and	t2,a3,s4
   15f28:	018383bb          	addw	t2,t2,s8
   15f2c:	01ad179b          	sllw	a5,s10,0x1a
   15f30:	3c000c37          	lui	s8,0x3c000
   15f34:	0187f7b3          	and	a5,a5,s8
   15f38:	0143f3b3          	and	t2,t2,s4
   15f3c:	0077e7b3          	or	a5,a5,t2
   15f40:	01e6939b          	sllw	t2,a3,0x1e
   15f44:	0077e7b3          	or	a5,a5,t2
   15f48:	00e72027          	fsw	fa4,0(a4)
   15f4c:	00f72223          	sw	a5,4(a4)
   15f50:	00572423          	sw	t0,8(a4)
   15f54:	000f0c13          	mv	s8,t5
}
   15f58:	f21ff06f          	j	15e78 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xd1c>
	if(tri_type == 0) return Triangle(prnt_tri.vrts[0], cntr_tri.vrts[2], cntr_tri.vrts[1]);
   15f5c:	52069e63          	bnez	a3,16498 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x133c>
	e[2] = v[2];
   15f60:	02c12807          	flw	fa6,44(sp)
	inline float operator[](int i) const { return e[i]; }
   15f64:	0005a407          	flw	fs0,0(a1)
   15f68:	0045a907          	flw	fs2,4(a1)
   15f6c:	0085a487          	flw	fs1,8(a1)
	e[1] = v[1];
   15f70:	02812887          	flw	fa7,40(sp)
	e[0] = v[0];
   15f74:	02412e07          	flw	ft8,36(sp)
	e[2] = v[2];
   15f78:	219c8f53          	fmv.s	ft10,fs9
	e[1] = v[1];
   15f7c:	01c12f87          	flw	ft11,28(sp)
	e[0] = v[0];
   15f80:	01812987          	flw	fs3,24(sp)
	e[2] = v[2];
   15f84:	01012627          	fsw	fa6,12(sp)
	return vec3(std::min(a[0], b[0]), std::min(a[1], b[1]), std::min(a[2], b[2]));
   15f88:	05012807          	flw	fa6,80(sp)
   15f8c:	290787d3          	fmin.s	fa5,fa5,fa6
   15f90:	29060653          	fmin.s	fa2,fa2,fa6
   15f94:	290686d3          	fmin.s	fa3,fa3,fa6
   15f98:	05412807          	flw	fa6,84(sp)
   15f9c:	293787d3          	fmin.s	fa5,fa5,fs3
   15fa0:	29260653          	fmin.s	fa2,fa2,fs2
   15fa4:	29051553          	fmax.s	fa0,fa0,fa6
   15fa8:	290595d3          	fmax.s	fa1,fa1,fa6
   15fac:	29071753          	fmax.s	fa4,fa4,fa6
   15fb0:	289686d3          	fmin.s	fa3,fa3,fs1
   15fb4:	29351553          	fmax.s	fa0,fa0,fs3
   15fb8:	292595d3          	fmax.s	fa1,fa1,fs2
   15fbc:	28971753          	fmax.s	fa4,fa4,fs1
   15fc0:	00c12807          	flw	fa6,12(sp)
   15fc4:	288787d3          	fmin.s	fa5,fa5,fs0
   15fc8:	29f60653          	fmin.s	fa2,fa2,ft11
   15fcc:	29e686d3          	fmin.s	fa3,fa3,ft10
   15fd0:	28851553          	fmax.s	fa0,fa0,fs0
   15fd4:	29f595d3          	fmax.s	fa1,fa1,ft11
   15fd8:	29e71753          	fmax.s	fa4,fa4,ft10
   15fdc:	29c787d3          	fmin.s	fa5,fa5,ft8
   15fe0:	29160653          	fmin.s	fa2,fa2,fa7
   15fe4:	290686d3          	fmin.s	fa3,fa3,fa6
	return vec3(std::max(a[0], b[0]), std::max(a[1], b[1]), std::max(a[2], b[2]));
   15fe8:	29c51553          	fmax.s	fa0,fa0,ft8
   15fec:	291595d3          	fmax.s	fa1,fa1,fa7
   15ff0:	29071753          	fmax.s	fa4,fa4,fa6
	return *this;
   15ff4:	e11ff06f          	j	15e04 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xca8>
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   15ff8:	0910f753          	fsub.s	fa4,ft1,fa7
   15ffc:	087076d3          	fsub.s	fa3,ft0,ft7
   16000:	08717353          	fsub.s	ft6,ft2,ft7
   16004:	0901f2d3          	fsub.s	ft5,ft3,fa6
   16008:	090575d3          	fsub.s	fa1,fa0,fa6
   1600c:	09127653          	fsub.s	fa2,ft4,fa7
   16010:	081270d3          	fsub.s	ft1,ft4,ft1
		(-(a[0] * b[2] - a[2] * b[0])),
   16014:	10677e53          	fmul.s	ft8,fa4,ft6
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16018:	0848f8d3          	fsub.s	fa7,fa7,ft4
	return vec3(a[1] * b[2] - a[2] * b[1],
   1601c:	1056f253          	fmul.s	ft4,fa3,ft5
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16020:	08017053          	fsub.s	ft0,ft2,ft0
   16024:	0823f3d3          	fsub.s	ft7,ft7,ft2
	return vec3(a[1] * b[2] - a[2] * b[1],
   16028:	e0c6fe47          	fmsub.s	ft8,fa3,fa2,ft8
		(-(a[0] * b[2] - a[2] * b[0])),
   1602c:	1014f153          	fmul.s	ft2,fs1,ft1
	return vec3(a[1] * b[2] - a[2] * b[1],
   16030:	2065f247          	fmsub.s	ft4,fa1,ft6,ft4
   16034:	00c12307          	flw	ft6,12(sp)
		a[0] * b[1] - a[1] * b[0]);
   16038:	10c5f653          	fmul.s	fa2,fa1,fa2
	return vec3(a[1] * b[2] - a[2] * b[1],
   1603c:	01c12e27          	fsw	ft8,28(sp)
   16040:	10037147          	fmsub.s	ft2,ft6,ft0,ft2
   16044:	00412c27          	fsw	ft4,24(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   16048:	11caf253          	fmul.s	ft4,fs5,ft8
	return vec3(a[1] * b[2] - a[2] * b[1],
   1604c:	111ffe53          	fmul.s	ft8,ft11,fa7
   16050:	01012307          	flw	ft6,16(sp)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16054:	08a1f553          	fsub.s	fa0,ft3,fa0
   16058:	08387853          	fsub.s	fa6,fa6,ft3
	return vec3(a[1] * b[2] - a[2] * b[1],
   1605c:	100471d3          	fmul.s	ft3,fs0,ft0
   16060:	1079f053          	fmul.s	ft0,fs3,ft7
   16064:	e07373c7          	fmsub.s	ft7,ft6,ft7,ft8
   16068:	10e97e53          	fmul.s	ft8,fs2,fa4
   1606c:	60577647          	fmsub.s	fa2,fa4,ft5,fa2
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   16070:	01812287          	flw	ft5,24(sp)
	return vec3(a[1] * b[2] - a[2] * b[1],
   16074:	10dcf353          	fmul.s	ft6,fs9,fa3
   16078:	18a4f4c7          	fmsub.s	fs1,fs1,fa0,ft3
   1607c:	e0df76c7          	fmsub.s	fa3,ft10,fa3,ft8
   16080:	010fffc7          	fmsub.s	ft11,ft11,fa6,ft0
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   16084:	205d7243          	fmadd.s	ft4,fs10,ft5,ft4
		a[0] * b[1] - a[1] * b[0]);
   16088:	00c12187          	flw	ft3,12(sp)
   1608c:	01012007          	flw	ft0,16(sp)
	return vec3(a[1] * b[2] - a[2] * b[1],
   16090:	30b97347          	fmsub.s	ft6,fs2,fa1,ft6
		a[0] * b[1] - a[1] * b[0]);
   16094:	10a1f553          	fmul.s	fa0,ft3,fa0
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   16098:	102af153          	fmul.s	ft2,fs5,ft2
		a[0] * b[1] - a[1] * b[0]);
   1609c:	11007853          	fmul.s	fa6,ft0,fa6
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   160a0:	107af3d3          	fmul.s	ft7,fs5,ft7
		a[0] * b[1] - a[1] * b[0]);
   160a4:	10bf75d3          	fmul.s	fa1,ft10,fa1
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   160a8:	10daf6d3          	fmul.s	fa3,fs5,fa3
   160ac:	20ca7243          	fmadd.s	ft4,fs4,fa2,ft4
	return vec3(a[1] * b[2] - a[2] * b[1],
   160b0:	50147447          	fmsub.s	fs0,fs0,ft1,fa0
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   160b4:	109d74c3          	fmadd.s	fs1,fs10,fs1,ft2
	return vec3(a[1] * b[2] - a[2] * b[1],
   160b8:	8119f9c7          	fmsub.s	fs3,fs3,fa7,fa6
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   160bc:	39fd7fc3          	fmadd.s	ft11,fs10,ft11,ft7
	return vec3(a[1] * b[2] - a[2] * b[1],
   160c0:	58ecf747          	fmsub.s	fa4,fs9,fa4,fa1
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   160c4:	686d7343          	fmadd.s	ft6,fs10,ft6,fa3
	if(gn_dot_d > 0.0f) bc = -bc;
   160c8:	a04797d3          	flt.s	a5,fa5,ft4
   160cc:	488a7443          	fmadd.s	fs0,fs4,fs0,fs1
   160d0:	f93a7fc3          	fmadd.s	ft11,fs4,fs3,ft11
   160d4:	30ea7743          	fmadd.s	fa4,fs4,fa4,ft6
   160d8:	00078863          	beqz	a5,160e8 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xf8c>
	inline vec3 operator-() const { return vec3(-e[0], -e[1], -e[2]); }
   160dc:	20841453          	fneg.s	fs0,fs0
   160e0:	21ff9fd3          	fneg.s	ft11,ft11
   160e4:	20e71753          	fneg.s	fa4,fa4
	if(bc[0] < 0.0f || bc[1] < 0.0f || bc[2] < 0.0f) return false;
   160e8:	f00007d3          	fmv.w.x	fa5,zero
   160ec:	a0f417d3          	flt.s	a5,fs0,fa5
   160f0:	06079263          	bnez	a5,16154 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xff8>
   160f4:	a0ff97d3          	flt.s	a5,ft11,fa5
   160f8:	04079e63          	bnez	a5,16154 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xff8>
   160fc:	a0f717d3          	flt.s	a5,fa4,fa5
   16100:	04079a63          	bnez	a5,16154 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xff8>
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   16104:	01c12787          	flw	fa5,28(sp)
   16108:	01812687          	flw	fa3,24(sp)
   1610c:	10fcf7d3          	fmul.s	fa5,fs9,fa5
   16110:	78df77c3          	fmadd.s	fa5,ft10,fa3,fa5
	if(t < ray.t_min || t > hit.t) return false;
   16114:	06412687          	flw	fa3,100(sp)
   16118:	78c977c3          	fmadd.s	fa5,fs2,fa2,fa5
	float t = rtm::dot(gn, tri.vrts[0] - ray.o) / gn_dot_d;
   1611c:	1847f7d3          	fdiv.s	fa5,fa5,ft4
	if(t < ray.t_min || t > hit.t) return false;
   16120:	a0d797d3          	flt.s	a5,fa5,fa3
   16124:	02079863          	bnez	a5,16154 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xff8>
   16128:	a0fd97d3          	flt.s	a5,fs11,fa5
   1612c:	02079463          	bnez	a5,16154 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xff8>
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   16130:	01f476d3          	fadd.s	fa3,fs0,ft11
	hit.t = t ;
   16134:	00f92027          	fsw	fa5,0(s2)
				hit.id = node_index;
   16138:	01e92623          	sw	t5,12(s2)
		uint32_t lod = current_node_entry.lod;
   1613c:	00038413          	mv	s0,t2
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   16140:	00e6f7d3          	fadd.s	fa5,fa3,fa4
	return vec2(a.e[0] / b.e[0], a.e[1] / b.e[1]);
   16144:	18f47453          	fdiv.s	fs0,fs0,fa5
   16148:	18ffffd3          	fdiv.s	ft11,ft11,fa5
	e[0] = v[0];
   1614c:	00892227          	fsw	fs0,4(s2)
	e[1] = v[1];
   16150:	01f92427          	fsw	ft11,8(s2)
		const NodeStackEntry current_node_entry = node_stack[--node_stack_size];
   16154:	000e8e13          	mv	t3,t4
	} while(node_stack_size);
   16158:	d40e10e3          	bnez	t3,15e98 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xd3c>
	if(hit_lod != ~0u)
   1615c:	fff00793          	li	a5,-1
   16160:	09c12687          	flw	fa3,156(sp)
   16164:	0a012707          	flw	fa4,160(sp)
   16168:	0a412787          	flw	fa5,164(sp)
   1616c:	0a813c83          	ld	s9,168(sp)
   16170:	52f40a63          	beq	s0,a5,166a4 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1548>
		hit.id += header.id_offset;
   16174:	00c92703          	lw	a4,12(s2)
   16178:	004c9793          	sll	a5,s9,0x4
   1617c:	0247d793          	srl	a5,a5,0x24
   16180:	00f707bb          	addw	a5,a4,a5
   16184:	00f92623          	sw	a5,12(s2)
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   16188:	09013783          	ld	a5,144(sp)
   1618c:	0b813703          	ld	a4,184(sp)
   16190:	04078793          	add	a5,a5,64
   16194:	08f13823          	sd	a5,144(sp)
   16198:	00f706e3          	beq	a4,a5,169a4 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1848>
				found_hit |= intersect(current_entry.data.fst_chld_ind + i, mesh, ray, hit);
   1619c:	00100793          	li	a5,1
   161a0:	0cf13823          	sd	a5,208(sp)
   161a4:	00c82607          	flw	fa2,12(a6)
		if(current_node_entry.t >= hit.t) continue;
   161a8:	00092c87          	flw	fs9,0(s2)
   161ac:	20c60153          	fmv.s	ft2,fa2
   161b0:	01c82607          	flw	fa2,28(a6)
   161b4:	20c602d3          	fmv.s	ft5,fa2
   161b8:	980ff06f          	j	15338 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1dc>
	e[1] = v[1];
   161bc:	20318cd3          	fmv.s	fs9,ft3
   161c0:	20f78453          	fmv.s	fs0,fa5
   161c4:	20b58753          	fmv.s	fa4,fa1
	inline float operator[](int i) const { return e[i]; }
   161c8:	0005a007          	flw	ft0,0(a1)
   161cc:	0045a587          	flw	fa1,4(a1)
   161d0:	0085a787          	flw	fa5,8(a1)
	e[0] = v[0];
   161d4:	204201d3          	fmv.s	ft3,ft4
	e[1] = v[1];
   161d8:	20a50153          	fmv.s	ft2,fa0
	e[0] = v[0];
   161dc:	20108853          	fmv.s	fa6,ft1
	if(gn_dot_d > 0.0f) bc = -bc;
   161e0:	f00004d3          	fmv.w.x	fs1,zero
   161e4:	219c88d3          	fmv.s	fa7,fs9
   161e8:	216b0dd3          	fmv.s	fs11,fs6
   161ec:	217b8953          	fmv.s	fs2,fs7
   161f0:	218c09d3          	fmv.s	fs3,fs8
			for(uint32_t i = 0; i < 4; ++i)
   161f4:	00000793          	li	a5,0
   161f8:	00400693          	li	a3,4
	else if(tri_type == 1) return Triangle(cntr_tri.vrts[2], prnt_tri.vrts[1], cntr_tri.vrts[0]);
   161fc:	00100613          	li	a2,1
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16200:	080876d3          	fsub.s	fa3,fa6,ft0
   16204:	08f47f53          	fsub.s	ft10,fs0,fa5
   16208:	08f770d3          	fsub.s	ft1,fa4,fa5
   1620c:	0801f253          	fsub.s	ft4,ft3,ft0
   16210:	08b8fc53          	fsub.s	fs8,fa7,fa1
   16214:	0901f653          	fsub.s	fa2,ft3,fa6
		(-(a[0] * b[2] - a[2] * b[0])),
   16218:	11e6ffd3          	fmul.s	ft11,fa3,ft10
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   1621c:	08b172d3          	fsub.s	ft5,ft2,fa1
   16220:	08307553          	fsub.s	fa0,ft0,ft3
	return vec3(a[1] * b[2] - a[2] * b[1],
   16224:	1180f353          	fmul.s	ft6,ft1,fs8
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16228:	00c12627          	fsw	fa2,12(sp)
	return vec3(a[1] * b[2] - a[2] * b[1],
   1622c:	f840f3c7          	fmsub.s	ft7,ft1,ft4,ft11
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16230:	09b87653          	fsub.s	fa2,fa6,fs11
   16234:	09217fd3          	fsub.s	ft11,ft2,fs2
   16238:	09377bd3          	fsub.s	fs7,fa4,fs3
   1623c:	09347b53          	fsub.s	fs6,fs0,fs3
   16240:	0937fe53          	fsub.s	ft8,fa5,fs3
   16244:	08e47753          	fsub.s	fa4,fs0,fa4
	return vec3(a[1] * b[2] - a[2] * b[1],
   16248:	00712827          	fsw	ft7,16(sp)
		(-(a[0] * b[2] - a[2] * b[0])),
   1624c:	00c12387          	flw	ft7,12(sp)
	return vec3(a[1] * b[2] - a[2] * b[1],
   16250:	31e2ff47          	fmsub.s	ft10,ft5,ft10,ft6
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16254:	02c12827          	fsw	fa2,48(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   16258:	01012307          	flw	ft6,16(sp)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   1625c:	21ff8653          	fmv.s	fa2,ft11
   16260:	0887f7d3          	fsub.s	fa5,fa5,fs0
   16264:	09b1f1d3          	fsub.s	ft3,ft3,fs11
   16268:	0928ffd3          	fsub.s	ft11,fa7,fs2
   1626c:	0925f453          	fsub.s	fs0,fa1,fs2
		(-(a[0] * b[2] - a[2] * b[0])),
   16270:	11657cd3          	fmul.s	fs9,fa0,fs6
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16274:	09b07053          	fsub.s	ft0,ft0,fs11
		(-(a[0] * b[2] - a[2] * b[0])),
   16278:	1173f3d3          	fmul.s	ft7,ft7,fs7
   1627c:	11c6f853          	fmul.s	fa6,fa3,ft8
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16280:	0828f153          	fsub.s	ft2,fa7,ft2
   16284:	0915f5d3          	fsub.s	fa1,fa1,fa7
		a[0] * b[1] - a[1] * b[0]);
   16288:	1042f253          	fmul.s	ft4,ft5,ft4
	return vec3(a[1] * b[2] - a[2] * b[1],
   1628c:	10c778d3          	fmul.s	fa7,fa4,fa2
   16290:	02c12c27          	fsw	fa2,56(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   16294:	106af353          	fmul.s	ft6,fs5,ft6
	return vec3(a[1] * b[2] - a[2] * b[1],
   16298:	03012607          	flw	fa2,48(sp)
   1629c:	2186f247          	fmsub.s	ft4,fa3,fs8,ft4
   162a0:	897178c7          	fmsub.s	fa7,ft2,fs7,fa7
   162a4:	38c77747          	fmsub.s	fa4,fa4,fa2,ft7
   162a8:	11f7f3d3          	fmul.s	ft7,fa5,ft11
   162ac:	c837f7c7          	fmsub.s	fa5,fa5,ft3,fs9
   162b0:	1080fcd3          	fmul.s	fs9,ft1,fs0
   162b4:	8000f0c7          	fmsub.s	ft1,ft1,ft0,fa6
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   162b8:	31ed7343          	fmadd.s	ft6,fs10,ft10,ft6
		a[0] * b[1] - a[1] * b[0]);
   162bc:	10c17153          	fmul.s	ft2,ft2,fa2
	return vec3(a[1] * b[2] - a[2] * b[1],
   162c0:	3965f3c7          	fmsub.s	ft7,fa1,fs6,ft7
   162c4:	c9c2fcc7          	fmsub.s	fs9,ft5,ft8,fs9
		a[0] * b[1] - a[1] * b[0]);
   162c8:	1035f5d3          	fmul.s	fa1,fa1,ft3
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   162cc:	10eaf753          	fmul.s	fa4,fs5,fa4
   162d0:	10faf7d3          	fmul.s	fa5,fs5,fa5
		a[0] * b[1] - a[1] * b[0]);
   162d4:	1002f2d3          	fmul.s	ft5,ft5,ft0
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   162d8:	101af0d3          	fmul.s	ft1,fs5,ft1
   162dc:	304a7343          	fmadd.s	ft6,fs4,ft4,ft6
	return vec3(a[1] * b[2] - a[2] * b[1],
   162e0:	03812187          	flw	ft3,56(sp)
   162e4:	00c12607          	flw	fa2,12(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   162e8:	711d78c3          	fmadd.s	fa7,fs10,fa7,fa4
	return vec3(a[1] * b[2] - a[2] * b[1],
   162ec:	59f57547          	fmsub.s	fa0,fa0,ft11,fa1
   162f0:	10367647          	fmsub.s	fa2,fa2,ft3,ft2
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   162f4:	787d73c3          	fmadd.s	ft7,fs10,ft7,fa5
	return vec3(a[1] * b[2] - a[2] * b[1],
   162f8:	2886f6c7          	fmsub.s	fa3,fa3,fs0,ft5
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   162fc:	099d7cc3          	fmadd.s	fs9,fs10,fs9,ft1
   16300:	a0649753          	flt.s	a4,fs1,ft6
   16304:	88ca7643          	fmadd.s	fa2,fs4,fa2,fa7
   16308:	38aa7543          	fmadd.s	fa0,fs4,fa0,ft7
   1630c:	c8da76c3          	fmadd.s	fa3,fs4,fa3,fs9
   16310:	00070863          	beqz	a4,16320 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x11c4>
	inline vec3 operator-() const { return vec3(-e[0], -e[1], -e[2]); }
   16314:	20c61653          	fneg.s	fa2,fa2
   16318:	20a51553          	fneg.s	fa0,fa0
   1631c:	20d696d3          	fneg.s	fa3,fa3
	if(bc[0] < 0.0f || bc[1] < 0.0f || bc[2] < 0.0f) return false;
   16320:	a0961753          	flt.s	a4,fa2,fs1
   16324:	06071463          	bnez	a4,1638c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1230>
   16328:	a0951753          	flt.s	a4,fa0,fs1
   1632c:	06071063          	bnez	a4,1638c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1230>
   16330:	a0969753          	flt.s	a4,fa3,fs1
   16334:	04071c63          	bnez	a4,1638c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1230>
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   16338:	01012787          	flw	fa5,16(sp)
   1633c:	10f47453          	fmul.s	fs0,fs0,fa5
	if(t < ray.t_min || t > hit.t) return false;
   16340:	06412787          	flw	fa5,100(sp)
   16344:	41e07043          	fmadd.s	ft0,ft0,ft10,fs0
   16348:	004e7e43          	fmadd.s	ft8,ft8,ft4,ft0
	float t = rtm::dot(gn, tri.vrts[0] - ray.o) / gn_dot_d;
   1634c:	186e7e53          	fdiv.s	ft8,ft8,ft6
	if(t < ray.t_min || t > hit.t) return false;
   16350:	a0fe1753          	flt.s	a4,ft8,fa5
   16354:	02071c63          	bnez	a4,1638c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1230>
   16358:	00092787          	flw	fa5,0(s2)
   1635c:	a1c79753          	flt.s	a4,fa5,ft8
   16360:	02071663          	bnez	a4,1638c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1230>
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   16364:	00a677d3          	fadd.s	fa5,fa2,fa0
					hit.id = first_child_index + i;
   16368:	00ff073b          	addw	a4,t5,a5
	hit.t = t ;
   1636c:	01c92027          	fsw	ft8,0(s2)
   16370:	00e92623          	sw	a4,12(s2)
   16374:	00028413          	mv	s0,t0
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   16378:	00d7f7d3          	fadd.s	fa5,fa5,fa3
	return vec2(a.e[0] / b.e[0], a.e[1] / b.e[1]);
   1637c:	18f67653          	fdiv.s	fa2,fa2,fa5
   16380:	18f57553          	fdiv.s	fa0,fa0,fa5
	e[0] = v[0];
   16384:	00c92227          	fsw	fa2,4(s2)
	e[1] = v[1];
   16388:	00a92427          	fsw	fa0,8(s2)
			for(uint32_t i = 0; i < 4; ++i)
   1638c:	0017879b          	addw	a5,a5,1
   16390:	18d78063          	beq	a5,a3,16510 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x13b4>
   16394:	18c78863          	beq	a5,a2,16524 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x13c8>
	else if(tri_type == 2) return Triangle(cntr_tri.vrts[1], cntr_tri.vrts[0], prnt_tri.vrts[2]);
   16398:	00200713          	li	a4,2
   1639c:	1ae78863          	beq	a5,a4,1654c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x13f0>
	e[2] = v[2];
   163a0:	02012407          	flw	fs0,32(sp)
	e[1] = v[1];
   163a4:	01c12887          	flw	fa7,28(sp)
	e[0] = v[0];
   163a8:	01812187          	flw	ft3,24(sp)
	e[2] = v[2];
   163ac:	02c12707          	flw	fa4,44(sp)
	e[1] = v[1];
   163b0:	02812107          	flw	ft2,40(sp)
	e[0] = v[0];
   163b4:	02412807          	flw	fa6,36(sp)
	e[2] = v[2];
   163b8:	04412787          	flw	fa5,68(sp)
	e[1] = v[1];
   163bc:	04012587          	flw	fa1,64(sp)
	e[0] = v[0];
   163c0:	03c12007          	flw	ft0,60(sp)
	}
   163c4:	00300793          	li	a5,3
   163c8:	e39ff06f          	j	16200 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x10a4>
		else         tri_stack[lod].tri = reconstruct_triangle(tri_stack[lod - 1u].tri, tri_stack[lod - 1u].new_center_tri, tri_type);
   163cc:	fff3869b          	addw	a3,t2,-1
   163d0:	02069693          	sll	a3,a3,0x20
   163d4:	04c00713          	li	a4,76
   163d8:	0206d693          	srl	a3,a3,0x20
   163dc:	02e686b3          	mul	a3,a3,a4
   163e0:	23010713          	add	a4,sp,560
		uint32_t tri_type = current_node_entry.tri_type;
   163e4:	0005829b          	sext.w	t0,a1
		else         tri_stack[lod].tri = reconstruct_triangle(tri_stack[lod - 1u].tri, tri_stack[lod - 1u].new_center_tri, tri_type);
   163e8:	02468613          	add	a2,a3,36
   163ec:	00c70633          	add	a2,a4,a2
   163f0:	00d706b3          	add	a3,a4,a3
	if(tri_type == 0) return Triangle(prnt_tri.vrts[0], cntr_tri.vrts[2], cntr_tri.vrts[1]);
   163f4:	0e059263          	bnez	a1,164d8 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x137c>
	inline float operator[](int i) const { return e[i]; }
   163f8:	0006a887          	flw	fa7,0(a3)
   163fc:	0046a807          	flw	fa6,4(a3)
   16400:	0086a387          	flw	ft7,8(a3)
   16404:	01862087          	flw	ft1,24(a2)
   16408:	01c62507          	flw	fa0,28(a2)
   1640c:	02062007          	flw	ft0,32(a2)
   16410:	00c62207          	flw	ft4,12(a2)
   16414:	01062187          	flw	ft3,16(a2)
   16418:	01462107          	flw	ft2,20(a2)
	return *this;
   1641c:	04c00693          	li	a3,76
   16420:	02df8fb3          	mul	t6,t6,a3
class Triangle
   16424:	01f705b3          	add	a1,a4,t6
	e[0] = v[0];
   16428:	0115a027          	fsw	fa7,0(a1)
	e[1] = v[1];
   1642c:	0105a227          	fsw	fa6,4(a1)
	e[2] = v[2];
   16430:	0075a427          	fsw	ft7,8(a1)
	e[0] = v[0];
   16434:	0015a627          	fsw	ft1,12(a1)
	e[1] = v[1];
   16438:	00a5a827          	fsw	fa0,16(a1)
	e[2] = v[2];
   1643c:	0005aa27          	fsw	ft0,20(a1)
	e[0] = v[0];
   16440:	0045ac27          	fsw	ft4,24(a1)
	e[1] = v[1];
   16444:	0035ae27          	fsw	ft3,28(a1)
	e[2] = v[2];
   16448:	0225a027          	fsw	ft2,32(a1)
   1644c:	b74ff06f          	j	157c0 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x664>
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   16450:	258da587          	flw	fa1,600(s11)
   16454:	eb0ff06f          	j	15b04 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x9a8>
   16458:	258da487          	flw	fs1,600(s11)
   1645c:	e78ff06f          	j	15ad4 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x978>
   16460:	258da307          	flw	ft6,600(s11)
   16464:	e50ff06f          	j	15ab4 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x958>
   16468:	258da787          	flw	fa5,600(s11)
   1646c:	e14ff06f          	j	15a80 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x924>
   16470:	258daf87          	flw	ft11,600(s11)
   16474:	dd0ff06f          	j	15a44 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x8e8>
   16478:	258dae07          	flw	ft8,600(s11)
   1647c:	d98ff06f          	j	15a14 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x8b8>
   16480:	258da687          	flw	fa3,600(s11)
   16484:	d5cff06f          	j	159e0 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x884>
   16488:	258daf07          	flw	ft10,600(s11)
   1648c:	d18ff06f          	j	159a4 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x848>
   16490:	258da407          	flw	fs0,600(s11)
   16494:	cdcff06f          	j	15970 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x814>
	else if(tri_type == 1) return Triangle(cntr_tri.vrts[2], prnt_tri.vrts[1], cntr_tri.vrts[0]);
   16498:	00100793          	li	a5,1
   1649c:	0cf68c63          	beq	a3,a5,16574 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1418>
	else if(tri_type == 2) return Triangle(cntr_tri.vrts[1], cntr_tri.vrts[0], prnt_tri.vrts[2]);
   164a0:	00200793          	li	a5,2
   164a4:	0ef68e63          	beq	a3,a5,165a0 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1444>
	e[1] = v[1];
   164a8:	01c12887          	flw	fa7,28(sp)
	e[0] = v[0];
   164ac:	01812e07          	flw	ft8,24(sp)
	e[2] = v[2];
   164b0:	02c12f07          	flw	ft10,44(sp)
	e[1] = v[1];
   164b4:	02812f87          	flw	ft11,40(sp)
	e[0] = v[0];
   164b8:	02412987          	flw	fs3,36(sp)
	e[2] = v[2];
   164bc:	04412487          	flw	fs1,68(sp)
	e[1] = v[1];
   164c0:	04012907          	flw	fs2,64(sp)
	e[0] = v[0];
   164c4:	03c12407          	flw	fs0,60(sp)
	e[2] = v[2];
   164c8:	01912627          	fsw	fs9,12(sp)
   164cc:	abdff06f          	j	15f88 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xe2c>
   164d0:	00078713          	mv	a4,a5
   164d4:	a45ff06f          	j	15f18 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xdbc>
	else if(tri_type == 1) return Triangle(cntr_tri.vrts[2], prnt_tri.vrts[1], cntr_tri.vrts[0]);
   164d8:	00100593          	li	a1,1
	inline float operator[](int i) const { return e[i]; }
   164dc:	00062887          	flw	fa7,0(a2)
   164e0:	00462807          	flw	fa6,4(a2)
   164e4:	00862387          	flw	ft7,8(a2)
   164e8:	0eb28263          	beq	t0,a1,165cc <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1470>
	else if(tri_type == 2) return Triangle(cntr_tri.vrts[1], cntr_tri.vrts[0], prnt_tri.vrts[2]);
   164ec:	00200593          	li	a1,2
   164f0:	00c62087          	flw	ft1,12(a2)
   164f4:	01062507          	flw	fa0,16(a2)
   164f8:	01462007          	flw	ft0,20(a2)
   164fc:	16b28a63          	beq	t0,a1,16670 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1514>
   16500:	01862207          	flw	ft4,24(a2)
   16504:	01c62187          	flw	ft3,28(a2)
   16508:	02062107          	flw	ft2,32(a2)
	}
   1650c:	f11ff06f          	j	1641c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x12c0>
		const NodeStackEntry current_node_entry = node_stack[--node_stack_size];
   16510:	21bd8b53          	fmv.s	fs6,fs11
   16514:	21290bd3          	fmv.s	fs7,fs2
   16518:	21398c53          	fmv.s	fs8,fs3
   1651c:	000e8e13          	mv	t3,t4
   16520:	975ff06f          	j	15e94 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xd38>
   16524:	00c5a807          	flw	fa6,12(a1)
   16528:	0105a107          	flw	ft2,16(a1)
   1652c:	0145a707          	flw	fa4,20(a1)
	e[2] = v[2];
   16530:	04412407          	flw	fs0,68(sp)
	e[1] = v[1];
   16534:	04012887          	flw	fa7,64(sp)
	e[0] = v[0];
   16538:	03c12187          	flw	ft3,60(sp)
	e[2] = v[2];
   1653c:	02012787          	flw	fa5,32(sp)
	e[1] = v[1];
   16540:	01c12587          	flw	fa1,28(sp)
	e[0] = v[0];
   16544:	01812007          	flw	ft0,24(sp)
   16548:	cb9ff06f          	j	16200 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x10a4>
	inline float operator[](int i) const { return e[i]; }
   1654c:	0185a187          	flw	ft3,24(a1)
   16550:	01c5a887          	flw	fa7,28(a1)
   16554:	0205a407          	flw	fs0,32(a1)
	e[2] = v[2];
   16558:	04412707          	flw	fa4,68(sp)
	e[1] = v[1];
   1655c:	04012107          	flw	ft2,64(sp)
	e[0] = v[0];
   16560:	03c12807          	flw	fa6,60(sp)
	e[2] = v[2];
   16564:	02c12787          	flw	fa5,44(sp)
	e[1] = v[1];
   16568:	02812587          	flw	fa1,40(sp)
	e[0] = v[0];
   1656c:	02412007          	flw	ft0,36(sp)
   16570:	c91ff06f          	j	16200 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x10a4>
	e[2] = v[2];
   16574:	04412807          	flw	fa6,68(sp)
	inline float operator[](int i) const { return e[i]; }
   16578:	00c5a987          	flw	fs3,12(a1)
   1657c:	0105af87          	flw	ft11,16(a1)
   16580:	0145af07          	flw	ft10,20(a1)
	e[1] = v[1];
   16584:	04012887          	flw	fa7,64(sp)
	e[0] = v[0];
   16588:	03c12e07          	flw	ft8,60(sp)
	e[2] = v[2];
   1658c:	219c84d3          	fmv.s	fs1,fs9
	e[1] = v[1];
   16590:	01c12907          	flw	fs2,28(sp)
	e[0] = v[0];
   16594:	01812407          	flw	fs0,24(sp)
	e[2] = v[2];
   16598:	01012627          	fsw	fa6,12(sp)
   1659c:	9edff06f          	j	15f88 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xe2c>
	inline float operator[](int i) const { return e[i]; }
   165a0:	0205a807          	flw	fa6,32(a1)
   165a4:	0185ae07          	flw	ft8,24(a1)
   165a8:	01c5a887          	flw	fa7,28(a1)
	e[2] = v[2];
   165ac:	04412f07          	flw	ft10,68(sp)
	e[1] = v[1];
   165b0:	04012f87          	flw	ft11,64(sp)
	e[0] = v[0];
   165b4:	03c12987          	flw	fs3,60(sp)
	e[2] = v[2];
   165b8:	02c12487          	flw	fs1,44(sp)
	e[1] = v[1];
   165bc:	02812907          	flw	fs2,40(sp)
	e[0] = v[0];
   165c0:	02412407          	flw	fs0,36(sp)
	inline float operator[](int i) const { return e[i]; }
   165c4:	01012627          	fsw	fa6,12(sp)
	return *this;
   165c8:	9c1ff06f          	j	15f88 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xe2c>
	e[2] = v[2];
   165cc:	20738153          	fmv.s	ft2,ft7
	e[1] = v[1];
   165d0:	210801d3          	fmv.s	ft3,fa6
	e[0] = v[0];
   165d4:	21188253          	fmv.s	ft4,fa7
	inline float operator[](int i) const { return e[i]; }
   165d8:	00c6a087          	flw	ft1,12(a3)
   165dc:	0106a507          	flw	fa0,16(a3)
   165e0:	0146a007          	flw	ft0,20(a3)
	e[2] = v[2];
   165e4:	02062387          	flw	ft7,32(a2)
	e[1] = v[1];
   165e8:	01c62807          	flw	fa6,28(a2)
	e[0] = v[0];
   165ec:	01862887          	flw	fa7,24(a2)
   165f0:	e2dff06f          	j	1641c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x12c0>
   165f4:	258da607          	flw	fa2,600(s11)
   165f8:	08c12c27          	fsw	fa2,152(sp)
   165fc:	8b4ff06f          	j	156b0 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x554>
   16600:	258da607          	flw	fa2,600(s11)
   16604:	08c12227          	fsw	fa2,132(sp)
   16608:	89cff06f          	j	156a4 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x548>
   1660c:	258da607          	flw	fa2,600(s11)
   16610:	08c12027          	fsw	fa2,128(sp)
   16614:	880ff06f          	j	15694 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x538>
   16618:	258da607          	flw	fa2,600(s11)
   1661c:	06c12e27          	fsw	fa2,124(sp)
   16620:	864ff06f          	j	15684 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x528>
   16624:	258da607          	flw	fa2,600(s11)
   16628:	06c12c27          	fsw	fa2,120(sp)
   1662c:	848ff06f          	j	15674 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x518>
   16630:	258da607          	flw	fa2,600(s11)
   16634:	06c12a27          	fsw	fa2,116(sp)
   16638:	82cff06f          	j	15664 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x508>
   1663c:	258da607          	flw	fa2,600(s11)
   16640:	06c12827          	fsw	fa2,112(sp)
   16644:	810ff06f          	j	15654 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x4f8>
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   16648:	2604a587          	flw	fa1,608(s1)
   1664c:	e49fe06f          	j	15494 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x338>
   16650:	2604a207          	flw	ft4,608(s1)
   16654:	e15fe06f          	j	15468 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x30c>
   16658:	2604a187          	flw	ft3,608(s1)
   1665c:	dd9fe06f          	j	15434 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x2d8>
   16660:	2604a007          	flw	ft0,608(s1)
   16664:	da1fe06f          	j	15404 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x2a8>
   16668:	2604a307          	flw	ft6,608(s1)
   1666c:	d6dfe06f          	j	153d8 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x27c>
	inline float operator[](int i) const { return e[i]; }
   16670:	207386d3          	fmv.s	fa3,ft7
   16674:	21080753          	fmv.s	fa4,fa6
   16678:	211887d3          	fmv.s	fa5,fa7
	e[2] = v[2];
   1667c:	200003d3          	fmv.s	ft7,ft0
	e[1] = v[1];
   16680:	20a50853          	fmv.s	fa6,fa0
	e[0] = v[0];
   16684:	201088d3          	fmv.s	fa7,ft1
	inline float operator[](int i) const { return e[i]; }
   16688:	0186a207          	flw	ft4,24(a3)
   1668c:	01c6a187          	flw	ft3,28(a3)
   16690:	0206a107          	flw	ft2,32(a3)
	e[2] = v[2];
   16694:	20d68053          	fmv.s	ft0,fa3
	e[1] = v[1];
   16698:	20e70553          	fmv.s	fa0,fa4
	e[0] = v[0];
   1669c:	20f780d3          	fmv.s	ft1,fa5
   166a0:	d7dff06f          	j	1641c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x12c0>
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   166a4:	09013783          	ld	a5,144(sp)
   166a8:	0b813703          	ld	a4,184(sp)
   166ac:	04078793          	add	a5,a5,64
   166b0:	08f13823          	sd	a5,144(sp)
   166b4:	aef718e3          	bne	a4,a5,161a4 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1048>
   166b8:	0d813403          	ld	s0,216(sp)
   166bc:	0c012d87          	flw	fs11,192(sp)
   166c0:	0e013a03          	ld	s4,224(sp)
   166c4:	0e813383          	ld	t2,232(sp)
	while(node_stack_size);
   166c8:	00040463          	beqz	s0,166d0 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1574>
   166cc:	b91fe06f          	j	1525c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x100>
   166d0:	0d013503          	ld	a0,208(sp)
   166d4:	0e010113          	add	sp,sp,224
   166d8:	7e813403          	ld	s0,2024(sp)
   166dc:	7e013483          	ld	s1,2016(sp)
   166e0:	7d813903          	ld	s2,2008(sp)
   166e4:	7d013983          	ld	s3,2000(sp)
   166e8:	7c813a03          	ld	s4,1992(sp)
   166ec:	7c013a83          	ld	s5,1984(sp)
   166f0:	7b813b03          	ld	s6,1976(sp)
   166f4:	7b013b83          	ld	s7,1968(sp)
   166f8:	7a813c03          	ld	s8,1960(sp)
   166fc:	7a013c83          	ld	s9,1952(sp)
   16700:	79813d03          	ld	s10,1944(sp)
   16704:	79013d83          	ld	s11,1936(sp)
   16708:	78c12407          	flw	fs0,1932(sp)
   1670c:	78812487          	flw	fs1,1928(sp)
   16710:	78412907          	flw	fs2,1924(sp)
   16714:	78012987          	flw	fs3,1920(sp)
   16718:	77c12a07          	flw	fs4,1916(sp)
   1671c:	77812a87          	flw	fs5,1912(sp)
   16720:	77412b07          	flw	fs6,1908(sp)
   16724:	77012b87          	flw	fs7,1904(sp)
   16728:	76c12c07          	flw	fs8,1900(sp)
   1672c:	76812c87          	flw	fs9,1896(sp)
   16730:	76412d07          	flw	fs10,1892(sp)
   16734:	76012d87          	flw	fs11,1888(sp)
   16738:	7f010113          	add	sp,sp,2032
   1673c:	00008067          	ret
	stack[j] = entry;
   16740:	020e9793          	sll	a5,t4,0x20
   16744:	0207d793          	srl	a5,a5,0x20
   16748:	00179713          	sll	a4,a5,0x1
   1674c:	00f70733          	add	a4,a4,a5
   16750:	11010393          	add	t2,sp,272
   16754:	00271713          	sll	a4,a4,0x2
   16758:	00e38733          	add	a4,t2,a4
   1675c:	fbcff06f          	j	15f18 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xdbc>
			move_to_stack(node4, blas[current_entry.data.fst_chld_ind]);
   16760:	00679793          	sll	a5,a5,0x6
		uint64_t r = ((uint64_t*)&src)[i];
   16764:	00fa07b3          	add	a5,s4,a5
   16768:	0207b503          	ld	a0,32(a5)
   1676c:	0287b583          	ld	a1,40(a5)
   16770:	0387b683          	ld	a3,56(a5)
   16774:	0087be83          	ld	t4,8(a5)
   16778:	0107be03          	ld	t3,16(a5)
   1677c:	0187b303          	ld	t1,24(a5)
   16780:	0307b603          	ld	a2,48(a5)
		((uint64_t*)&dst)[i] = r;
   16784:	0007b783          	ld	a5,0(a5)
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   16788:	2604a007          	flw	ft0,608(s1)
   1678c:	258da187          	flw	ft3,600(s11)
   16790:	05812287          	flw	ft5,88(sp)
   16794:	05c12307          	flw	ft6,92(sp)
   16798:	06012387          	flw	ft7,96(sp)
   1679c:	01098893          	add	a7,s3,16
   167a0:	00471713          	sll	a4,a4,0x4
		((uint64_t*)&dst)[i] = r;
   167a4:	02a9b023          	sd	a0,32(s3)
   167a8:	02b9b423          	sd	a1,40(s3)
   167ac:	02d9bc23          	sd	a3,56(s3)
   167b0:	00f9b023          	sd	a5,0(s3)
   167b4:	01d9b423          	sd	t4,8(s3)
   167b8:	01c9b823          	sd	t3,16(s3)
   167bc:	0069bc23          	sd	t1,24(s3)
   167c0:	02c9b823          	sd	a2,48(s3)
   167c4:	00098693          	mv	a3,s3
   167c8:	00e888b3          	add	a7,a7,a4
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   167cc:	3f8005b7          	lui	a1,0x3f800
   167d0:	49010513          	add	a0,sp,1168
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   167d4:	0006d783          	lhu	a5,0(a3)
   167d8:	20000653          	fmv.s	fa2,ft0
   167dc:	00f7d713          	srl	a4,a5,0xf
   167e0:	00071c63          	bnez	a4,167f8 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x169c>
   167e4:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   167e8:	00b7e7b3          	or	a5,a5,a1
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   167ec:	f0078653          	fmv.w.x	fa2,a5
   167f0:	08367653          	fsub.s	fa2,fa2,ft3
   167f4:	00c67653          	fadd.s	fa2,fa2,fa2
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   167f8:	0066d783          	lhu	a5,6(a3)
   167fc:	200008d3          	fmv.s	fa7,ft0
   16800:	00f7d713          	srl	a4,a5,0xf
   16804:	00071c63          	bnez	a4,1681c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x16c0>
   16808:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   1680c:	00b7e7b3          	or	a5,a5,a1
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   16810:	f00785d3          	fmv.w.x	fa1,a5
   16814:	0835f8d3          	fsub.s	fa7,fa1,ft3
   16818:	0118f8d3          	fadd.s	fa7,fa7,fa7
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   1681c:	0026d783          	lhu	a5,2(a3)
   16820:	20000553          	fmv.s	fa0,ft0
   16824:	00f7d713          	srl	a4,a5,0xf
   16828:	00071c63          	bnez	a4,16840 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x16e4>
   1682c:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   16830:	00b7e7b3          	or	a5,a5,a1
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   16834:	f00785d3          	fmv.w.x	fa1,a5
   16838:	0835f553          	fsub.s	fa0,fa1,ft3
   1683c:	00a57553          	fadd.s	fa0,fa0,fa0
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   16840:	0086d783          	lhu	a5,8(a3)
   16844:	20000853          	fmv.s	fa6,ft0
   16848:	00f7d713          	srl	a4,a5,0xf
   1684c:	00071c63          	bnez	a4,16864 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1708>
   16850:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   16854:	00b7e7b3          	or	a5,a5,a1
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   16858:	f00785d3          	fmv.w.x	fa1,a5
   1685c:	0835f853          	fsub.s	fa6,fa1,ft3
   16860:	01087853          	fadd.s	fa6,fa6,fa6
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   16864:	0046d783          	lhu	a5,4(a3)
   16868:	200005d3          	fmv.s	fa1,ft0
   1686c:	00f7d713          	srl	a4,a5,0xf
   16870:	00071c63          	bnez	a4,16888 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x172c>
   16874:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   16878:	00b7e7b3          	or	a5,a5,a1
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   1687c:	f00785d3          	fmv.w.x	fa1,a5
   16880:	0835f5d3          	fsub.s	fa1,fa1,ft3
   16884:	00b5f5d3          	fadd.s	fa1,fa1,fa1
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   16888:	00a6d783          	lhu	a5,10(a3)
   1688c:	20000253          	fmv.s	ft4,ft0
   16890:	00f7d713          	srl	a4,a5,0xf
   16894:	00071c63          	bnez	a4,168ac <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1750>
   16898:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   1689c:	00b7e7b3          	or	a5,a5,a1
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   168a0:	f0078253          	fmv.w.x	ft4,a5
   168a4:	08327253          	fsub.s	ft4,ft4,ft3
   168a8:	00427253          	fadd.s	ft4,ft4,ft4
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   168ac:	0116fe53          	fadd.s	ft8,fa3,fa7
   168b0:	00c6f653          	fadd.s	fa2,fa3,fa2
   168b4:	00a77553          	fadd.s	fa0,fa4,fa0
   168b8:	010778d3          	fadd.s	fa7,fa4,fa6
   168bc:	00b7f5d3          	fadd.s	fa1,fa5,fa1
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   168c0:	105e7e53          	fmul.s	ft8,ft8,ft5
   168c4:	10567653          	fmul.s	fa2,fa2,ft5
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   168c8:	0047f853          	fadd.s	fa6,fa5,ft4
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   168cc:	1068f8d3          	fmul.s	fa7,fa7,ft6
   168d0:	10657253          	fmul.s	ft4,fa0,ft6
   168d4:	1075f553          	fmul.s	fa0,fa1,ft7
   168d8:	29c605d3          	fmin.s	fa1,fa2,ft8
	if (tmin > tmax) return ray.t_max;//no hit || behind
   168dc:	29c61653          	fmax.s	fa2,fa2,ft8
   168e0:	10787853          	fmul.s	fa6,fa6,ft7
	float tmin = std::max(std::max(tminv.x, tminv.y), std::max(tminv.z, ray.t_min));
   168e4:	29120e53          	fmin.s	ft8,ft4,fa7
   168e8:	282595d3          	fmax.s	fa1,fa1,ft2
	if (tmin > tmax) return ray.t_max;//no hit || behind
   168ec:	29121253          	fmax.s	ft4,ft4,fa7
   168f0:	28160653          	fmin.s	fa2,fa2,ft1
   168f4:	290508d3          	fmin.s	fa7,fa0,fa6
   168f8:	29c595d3          	fmax.s	fa1,fa1,ft8
   168fc:	28460653          	fmin.s	fa2,fa2,ft4
   16900:	29051553          	fmax.s	fa0,fa0,fa6
   16904:	291595d3          	fmax.s	fa1,fa1,fa7
   16908:	28a60653          	fmin.s	fa2,fa2,fa0
   1690c:	a0b617d3          	flt.s	a5,fa2,fa1
   16910:	00078463          	beqz	a5,16918 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x17bc>
   16914:	201085d3          	fmv.s	fa1,ft1
				new_entry.data = node4.nodes[i].data;
   16918:	00c6a703          	lw	a4,12(a3)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   1691c:	a08597d3          	flt.s	a5,fa1,fs0
				new_entry.data = node4.nodes[i].data;
   16920:	22e12a23          	sw	a4,564(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   16924:	00079c63          	bnez	a5,1693c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x17e0>
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   16928:	01068693          	add	a3,a3,16
   1692c:	ead894e3          	bne	a7,a3,167d4 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1678>
	while(node_stack_size);
   16930:	00040463          	beqz	s0,16938 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x17dc>
   16934:	929fe06f          	j	1525c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x100>
   16938:	d99ff06f          	j	166d0 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1574>
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   1693c:	00140e9b          	addw	t4,s0,1
	for(; j != min; --j)
   16940:	08040463          	beqz	s0,169c8 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x186c>
   16944:	fff4079b          	addw	a5,s0,-1
   16948:	02041613          	sll	a2,s0,0x20
   1694c:	01d65713          	srl	a4,a2,0x1d
   16950:	02079613          	sll	a2,a5,0x20
   16954:	01d65793          	srl	a5,a2,0x1d
   16958:	00050f13          	mv	t5,a0
   1695c:	00e50733          	add	a4,a0,a4
   16960:	00f507b3          	add	a5,a0,a5
   16964:	0180006f          	j	1697c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1820>
		stack[j] = stack[j - 1];
   16968:	0007b603          	ld	a2,0(a5)
	for(; j != min; --j)
   1696c:	ff870713          	add	a4,a4,-8
		stack[j] = stack[j - 1];
   16970:	00c73423          	sd	a2,8(a4)
	for(; j != min; --j)
   16974:	04f50c63          	beq	a0,a5,169cc <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1870>
   16978:	00030793          	mv	a5,t1
		if(stack[j - 1].t >= entry.t) break;
   1697c:	0007a607          	flw	fa2,0(a5)
		stack[j] = stack[j - 1];
   16980:	00070e13          	mv	t3,a4
	for(; j != min; --j)
   16984:	ff878313          	add	t1,a5,-8
		if(stack[j - 1].t >= entry.t) break;
   16988:	a0c58653          	fle.s	a2,fa1,fa2
   1698c:	fc060ee3          	beqz	a2,16968 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x180c>
	stack[j] = entry;
   16990:	22b12827          	fsw	fa1,560(sp)
   16994:	23013783          	ld	a5,560(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   16998:	000e8413          	mv	s0,t4
	stack[j] = entry;
   1699c:	00fe3023          	sd	a5,0(t3)
}
   169a0:	f89ff06f          	j	16928 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x17cc>
				found_hit |= intersect(current_entry.data.fst_chld_ind + i, mesh, ray, hit);
   169a4:	0d813403          	ld	s0,216(sp)
   169a8:	00100793          	li	a5,1
   169ac:	0cf13823          	sd	a5,208(sp)
   169b0:	0c012d87          	flw	fs11,192(sp)
   169b4:	0e013a03          	ld	s4,224(sp)
   169b8:	0e813383          	ld	t2,232(sp)
	while(node_stack_size);
   169bc:	00040463          	beqz	s0,169c4 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1868>
   169c0:	89dfe06f          	j	1525c <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x100>
   169c4:	d0dff06f          	j	166d0 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x1574>
   169c8:	49010f13          	add	t5,sp,1168
	stack[j] = entry;
   169cc:	22b12827          	fsw	fa1,560(sp)
   169d0:	23013783          	ld	a5,560(sp)
   169d4:	000f0e13          	mv	t3,t5
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   169d8:	000e8413          	mv	s0,t4
	stack[j] = entry;
   169dc:	00fe3023          	sd	a5,0(t3)
   169e0:	f49ff06f          	j	16928 <_Z9intersectI24TesselationTree4PointersEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x17cc>

00000000000169e4 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit>:
inline bool intersect(const BVH::Node* blas, const T& mesh, const Ray& ray, Hit& hit)
   169e4:	c2010113          	add	sp,sp,-992
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   169e8:	0001a7b7          	lui	a5,0x1a
   169ec:	2587a787          	flw	fa5,600(a5) # 1a258 <__DATA_BEGIN__+0x8>
   169f0:	3b212227          	fsw	fs2,932(sp)
   169f4:	39712827          	fsw	fs7,912(sp)
	inline float operator[](int i) const { return e[i]; }
   169f8:	01462907          	flw	fs2,20(a2)
   169fc:	01062b87          	flw	fs7,16(a2)
   16a00:	39512c27          	fsw	fs5,920(sp)
   16a04:	39612a27          	fsw	fs6,916(sp)
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   16a08:	1927fad3          	fdiv.s	fs5,fa5,fs2
   16a0c:	3b312027          	fsw	fs3,928(sp)
	inline float operator[](int i) const { return e[i]; }
   16a10:	01862987          	flw	fs3,24(a2)
   16a14:	3c813823          	sd	s0,976(sp)
   16a18:	39412e27          	fsw	fs4,924(sp)
   16a1c:	34f10413          	add	s0,sp,847
   16a20:	fe047413          	and	s0,s0,-32
   16a24:	3d213023          	sd	s2,960(sp)
   16a28:	3b313c23          	sd	s3,952(sp)
   16a2c:	00060913          	mv	s2,a2
   16a30:	3b413823          	sd	s4,944(sp)
   16a34:	00050993          	mv	s3,a0
   16a38:	00058a13          	mv	s4,a1
		((uint64_t*)&dst)[i] = r;
   16a3c:	02000613          	li	a2,32
   16a40:	00050593          	mv	a1,a0
   16a44:	02040513          	add	a0,s0,32
   16a48:	3c913423          	sd	s1,968(sp)
   16a4c:	3c113c23          	sd	ra,984(sp)
   16a50:	3a812627          	fsw	fs0,940(sp)
   16a54:	3a912427          	fsw	fs1,936(sp)
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   16a58:	1977fb53          	fdiv.s	fs6,fa5,fs7
   16a5c:	39812627          	fsw	fs8,908(sp)
   16a60:	39912427          	fsw	fs9,904(sp)
   16a64:	39a12227          	fsw	fs10,900(sp)
   16a68:	39b12027          	fsw	fs11,896(sp)
   16a6c:	00068493          	mv	s1,a3
   16a70:	1937fa53          	fdiv.s	fs4,fa5,fs3
   16a74:	00002097          	auipc	ra,0x2
   16a78:	11c080e7          	jalr	284(ra) # 18b90 <memcpy>
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16a7c:	0001a7b7          	lui	a5,0x1a
   16a80:	2707a707          	flw	fa4,624(a5) # 1a270 <__DATA_BEGIN__+0x20>
   16a84:	0001a7b7          	lui	a5,0x1a
   16a88:	2747a687          	flw	fa3,628(a5) # 1a274 <__DATA_BEGIN__+0x24>
	inline float operator[](int i) const { return e[i]; }
   16a8c:	00092e07          	flw	ft8,0(s2)
   16a90:	00492e87          	flw	ft9,4(s2)
   16a94:	00892f07          	flw	ft10,8(s2)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16a98:	09c777d3          	fsub.s	fa5,fa4,ft8
   16a9c:	09d775d3          	fsub.s	fa1,fa4,ft9
   16aa0:	09c6f053          	fsub.s	ft0,fa3,ft8
   16aa4:	09d6f553          	fsub.s	fa0,fa3,ft9
   16aa8:	09e77753          	fsub.s	fa4,fa4,ft10
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   16aac:	1167f7d3          	fmul.s	fa5,fa5,fs6
   16ab0:	1155f5d3          	fmul.s	fa1,fa1,fs5
   16ab4:	11607053          	fmul.s	ft0,ft0,fs6
   16ab8:	11557553          	fmul.s	fa0,fa0,fs5
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16abc:	09e6f6d3          	fsub.s	fa3,fa3,ft10
      if (__a < __b)
   16ac0:	00c92107          	flw	ft2,12(s2)
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   16ac4:	11477753          	fmul.s	fa4,fa4,fs4
   16ac8:	28078653          	fmin.s	fa2,fa5,ft0
   16acc:	28a580d3          	fmin.s	ft1,fa1,fa0
	if (tmin > tmax) return ray.t_max;//no hit || behind
   16ad0:	280797d3          	fmax.s	fa5,fa5,ft0
   16ad4:	28a595d3          	fmax.s	fa1,fa1,fa0
   16ad8:	1146f6d3          	fmul.s	fa3,fa3,fs4
	float tmin = std::max(std::max(tminv.x, tminv.y), std::max(tminv.z, ray.t_min));
   16adc:	28161653          	fmax.s	fa2,fa2,ft1
	if (tmin > tmax) return ray.t_max;//no hit || behind
   16ae0:	28b787d3          	fmin.s	fa5,fa5,fa1
      if (__b < __a)
   16ae4:	01c92507          	flw	fa0,28(s2)
   16ae8:	28261653          	fmax.s	fa2,fa2,ft2
   16aec:	28d705d3          	fmin.s	fa1,fa4,fa3
   16af0:	28a787d3          	fmin.s	fa5,fa5,fa0
   16af4:	28d71753          	fmax.s	fa4,fa4,fa3
   16af8:	28b616d3          	fmax.s	fa3,fa2,fa1
      if (__a < __b)
   16afc:	00212827          	fsw	ft2,16(sp)
   16b00:	28e787d3          	fmin.s	fa5,fa5,fa4
   16b04:	a0d797d3          	flt.s	a5,fa5,fa3
   16b08:	00079463          	bnez	a5,16b10 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x12c>
	return tmin;
   16b0c:	20d68553          	fmv.s	fa0,fa3
	node_stack[0].data = root_node.data;
   16b10:	03842783          	lw	a5,56(s0)
	if(gn_dot_d > 0.0f) bc = -bc;
   16b14:	f0000d53          	fmv.w.x	fs10,zero
   16b18:	217b8cd3          	fmv.s	fs9,fs7
	node_stack[0].t = intersect(root_node.aabb, ray, inv_d);
   16b1c:	02a12827          	fsw	fa0,48(sp)
	node_stack[0].data = root_node.data;
   16b20:	02f12a23          	sw	a5,52(sp)
	bool found_hit = false;
   16b24:	00000513          	li	a0,0
	uint32_t node_stack_size = 1u;
   16b28:	00100813          	li	a6,1
   16b2c:	03010693          	add	a3,sp,48
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   16b30:	fff8081b          	addw	a6,a6,-1
   16b34:	02081713          	sll	a4,a6,0x20
   16b38:	01d75793          	srl	a5,a4,0x1d
   16b3c:	36078793          	add	a5,a5,864
   16b40:	02010713          	add	a4,sp,32
   16b44:	00e787b3          	add	a5,a5,a4
   16b48:	cb07b703          	ld	a4,-848(a5)
		if(current_entry.t >= hit.t) return found_hit;
   16b4c:	0004a507          	flw	fa0,0(s1)
   16b50:	f00707d3          	fmv.w.x	fa5,a4
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   16b54:	02e13023          	sd	a4,32(sp)
		if(current_entry.t >= hit.t) return found_hit;
   16b58:	a0f507d3          	fle.s	a5,fa0,fa5
   16b5c:	24079063          	bnez	a5,16d9c <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x3b8>
		if(!current_entry.data.is_leaf)
   16b60:	02412783          	lw	a5,36(sp)
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   16b64:	02175f93          	srl	t6,a4,0x21
   16b68:	007fff93          	and	t6,t6,7
		if(!current_entry.data.is_leaf)
   16b6c:	0017f793          	and	a5,a5,1
				found_hit |= intersect(current_entry.data.fst_chld_ind + i, mesh, ray, hit);
   16b70:	02475713          	srl	a4,a4,0x24
		if(!current_entry.data.is_leaf)
   16b74:	26078c63          	beqz	a5,16dec <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x408>
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   16b78:	000a3603          	ld	a2,0(s4)
   16b7c:	00171793          	sll	a5,a4,0x1
   16b80:	00e787b3          	add	a5,a5,a4
   16b84:	00279793          	sll	a5,a5,0x2
   16b88:	008a3583          	ld	a1,8(s4)
   16b8c:	00f60633          	add	a2,a2,a5
   16b90:	00ef8fb3          	add	t6,t6,a4
   16b94:	01612a27          	fsw	fs6,20(sp)
   16b98:	01512c27          	fsw	fs5,24(sp)
   16b9c:	01412e27          	fsw	fs4,28(sp)
   16ba0:	0080006f          	j	16ba8 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1c4>
   16ba4:	00078713          	mv	a4,a5
	const Triangle tri(mesh.vertices[vi[0]], mesh.vertices[vi[1]], mesh.vertices[vi[2]]);
   16ba8:	00066f03          	lwu	t5,0(a2)
   16bac:	00466e83          	lwu	t4,4(a2)
   16bb0:	00866e03          	lwu	t3,8(a2)
   16bb4:	001f1313          	sll	t1,t5,0x1
   16bb8:	001e9793          	sll	a5,t4,0x1
   16bbc:	001e1893          	sll	a7,t3,0x1
   16bc0:	01e30333          	add	t1,t1,t5
   16bc4:	01d787b3          	add	a5,a5,t4
   16bc8:	01c888b3          	add	a7,a7,t3
   16bcc:	00231313          	sll	t1,t1,0x2
   16bd0:	00279793          	sll	a5,a5,0x2
   16bd4:	00289893          	sll	a7,a7,0x2
   16bd8:	00f587b3          	add	a5,a1,a5
   16bdc:	00658333          	add	t1,a1,t1
   16be0:	011588b3          	add	a7,a1,a7
	inline float operator[](int i) const { return e[i]; }
   16be4:	0088af87          	flw	ft11,8(a7)
   16be8:	00032507          	flw	fa0,0(t1)
   16bec:	00832687          	flw	fa3,8(t1)
   16bf0:	0007a287          	flw	ft5,0(a5)
   16bf4:	0008a087          	flw	ft1,0(a7)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16bf8:	08dff853          	fsub.s	fa6,ft11,fa3
   16bfc:	08a2f653          	fsub.s	fa2,ft5,fa0
	inline float operator[](int i) const { return e[i]; }
   16c00:	0048ab87          	flw	fs7,4(a7)
   16c04:	00432587          	flw	fa1,4(t1)
   16c08:	0087a707          	flw	fa4,8(a5)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16c0c:	08a0f153          	fsub.s	ft2,ft1,fa0
   16c10:	0850fa53          	fsub.s	fs4,ft1,ft5
   16c14:	08157c53          	fsub.s	fs8,fa0,ft1
   16c18:	09c0f0d3          	fsub.s	ft1,ft1,ft8
   16c1c:	08d77053          	fsub.s	ft0,fa4,fa3
   16c20:	08bbfad3          	fsub.s	fs5,fs7,fa1
		(-(a[0] * b[2] - a[2] * b[0])),
   16c24:	11067453          	fmul.s	fs0,fa2,fa6
	inline float operator[](int i) const { return e[i]; }
   16c28:	0047a787          	flw	fa5,4(a5)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16c2c:	09e778d3          	fsub.s	fa7,fa4,ft10
   16c30:	00112427          	fsw	ft1,8(sp)
   16c34:	09dbf0d3          	fsub.s	ft1,fs7,ft9
   16c38:	08b7f253          	fsub.s	ft4,fa5,fa1
	return vec3(a[1] * b[2] - a[2] * b[1],
   16c3c:	40207447          	fmsub.s	fs0,ft0,ft2,fs0
   16c40:	11507353          	fmul.s	ft6,ft0,fs5
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16c44:	09eff1d3          	fsub.s	ft3,ft11,ft10
   16c48:	09e6f3d3          	fsub.s	ft7,fa3,ft10
   16c4c:	08eff753          	fsub.s	fa4,ft11,fa4
   16c50:	09d7f4d3          	fsub.s	fs1,fa5,ft9
   16c54:	09f6f6d3          	fsub.s	fa3,fa3,ft11
		(-(a[0] * b[2] - a[2] * b[0])),
   16c58:	111a7b53          	fmul.s	fs6,fs4,fa7
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16c5c:	09c2f2d3          	fsub.s	ft5,ft5,ft8
   16c60:	00112227          	fsw	ft1,4(sp)
	return vec3(a[1] * b[2] - a[2] * b[1],
   16c64:	31027847          	fmsub.s	fa6,ft4,fa6,ft6
   16c68:	00812627          	fsw	fs0,12(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   16c6c:	10897353          	fmul.s	ft6,fs2,fs0
	return vec3(a[1] * b[2] - a[2] * b[1],
   16c70:	00412407          	flw	fs0,4(sp)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16c74:	09d5ffd3          	fsub.s	ft11,fa1,ft9
		(-(a[0] * b[2] - a[2] * b[0])),
   16c78:	103c7dd3          	fmul.s	fs11,fs8,ft3
   16c7c:	107670d3          	fmul.s	ft1,fa2,ft7
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16c80:	09c57553          	fsub.s	fa0,fa0,ft8
   16c84:	08fbf7d3          	fsub.s	fa5,fs7,fa5
   16c88:	0975f5d3          	fsub.s	fa1,fa1,fs7
		a[0] * b[1] - a[1] * b[0]);
   16c8c:	10227153          	fmul.s	ft2,ft4,ft2
	return vec3(a[1] * b[2] - a[2] * b[1],
   16c90:	10977bd3          	fmul.s	fs7,fa4,fs1
   16c94:	b0577747          	fmsub.s	fa4,fa4,ft5,fs6
   16c98:	1086fb53          	fmul.s	fs6,fa3,fs0
   16c9c:	00812407          	flw	fs0,8(sp)
   16ca0:	11567147          	fmsub.s	ft2,fa2,fs5,ft2
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   16ca4:	310cf343          	fmadd.s	ft6,fs9,fa6,ft6
	return vec3(a[1] * b[2] - a[2] * b[1],
   16ca8:	d886f6c7          	fmsub.s	fa3,fa3,fs0,fs11
   16cac:	11f07dd3          	fmul.s	fs11,ft0,ft11
   16cb0:	08a07047          	fmsub.s	ft0,ft0,fa0,ft1
   16cb4:	b917f8c7          	fmsub.s	fa7,fa5,fa7,fs7
   16cb8:	b035f1c7          	fmsub.s	ft3,fa1,ft3,fs6
		a[0] * b[1] - a[1] * b[0]);
   16cbc:	1057f7d3          	fmul.s	fa5,fa5,ft5
	return vec3(a[1] * b[2] - a[2] * b[1],
   16cc0:	d8727dc7          	fmsub.s	fs11,ft4,ft7,fs11
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   16cc4:	10e97753          	fmul.s	fa4,fs2,fa4
		a[0] * b[1] - a[1] * b[0]);
   16cc8:	1085f5d3          	fmul.s	fa1,fa1,fs0
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   16ccc:	10d976d3          	fmul.s	fa3,fs2,fa3
		a[0] * b[1] - a[1] * b[0]);
   16cd0:	10a27253          	fmul.s	ft4,ft4,fa0
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   16cd4:	10097053          	fmul.s	ft0,fs2,ft0
   16cd8:	3029f343          	fmadd.s	ft6,fs3,ft2,ft6
	return vec3(a[1] * b[2] - a[2] * b[1],
   16cdc:	00412087          	flw	ft1,4(sp)
   16ce0:	789a77c7          	fmsub.s	fa5,fs4,fs1,fa5
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   16ce4:	711cf743          	fmadd.s	fa4,fs9,fa7,fa4
	return vec3(a[1] * b[2] - a[2] * b[1],
   16ce8:	581c75c7          	fmsub.s	fa1,fs8,ft1,fa1
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   16cec:	683cf1c3          	fmadd.s	ft3,fs9,ft3,fa3
	return vec3(a[1] * b[2] - a[2] * b[1],
   16cf0:	21f67647          	fmsub.s	fa2,fa2,ft11,ft4
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   16cf4:	01bcfdc3          	fmadd.s	fs11,fs9,fs11,ft0
	if(gn_dot_d > 0.0f) bc = -bc;
   16cf8:	a06d17d3          	flt.s	a5,fs10,ft6
   16cfc:	70f9f7c3          	fmadd.s	fa5,fs3,fa5,fa4
   16d00:	18b9f1c3          	fmadd.s	ft3,fs3,fa1,ft3
   16d04:	d8c9f643          	fmadd.s	fa2,fs3,fa2,fs11
   16d08:	00078863          	beqz	a5,16d18 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x334>
	inline vec3 operator-() const { return vec3(-e[0], -e[1], -e[2]); }
   16d0c:	20f797d3          	fneg.s	fa5,fa5
   16d10:	203191d3          	fneg.s	ft3,ft3
   16d14:	20c61653          	fneg.s	fa2,fa2
	if(bc[0] < 0.0f || bc[1] < 0.0f || bc[2] < 0.0f) return false;
   16d18:	a1a797d3          	flt.s	a5,fa5,fs10
   16d1c:	06079263          	bnez	a5,16d80 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x39c>
   16d20:	a1a197d3          	flt.s	a5,ft3,fs10
   16d24:	04079e63          	bnez	a5,16d80 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x39c>
   16d28:	a1a617d3          	flt.s	a5,fa2,fs10
   16d2c:	04079a63          	bnez	a5,16d80 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x39c>
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   16d30:	00c12707          	flw	fa4,12(sp)
   16d34:	10efffd3          	fmul.s	ft11,ft11,fa4
	if(t < ray.t_min || t > hit.t) return false;
   16d38:	01012707          	flw	fa4,16(sp)
   16d3c:	f9057543          	fmadd.s	fa0,fa0,fa6,ft11
   16d40:	5023f3c3          	fmadd.s	ft7,ft7,ft2,fa0
	float t = rtm::dot(gn, tri.vrts[0] - ray.o) / gn_dot_d;
   16d44:	1863f3d3          	fdiv.s	ft7,ft7,ft6
	if(t < ray.t_min || t > hit.t) return false;
   16d48:	a0e397d3          	flt.s	a5,ft7,fa4
   16d4c:	02079a63          	bnez	a5,16d80 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x39c>
   16d50:	0004a707          	flw	fa4,0(s1)
   16d54:	a07717d3          	flt.s	a5,fa4,ft7
   16d58:	02079463          	bnez	a5,16d80 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x39c>
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   16d5c:	0037f753          	fadd.s	fa4,fa5,ft3
	hit.t = t ;
   16d60:	0074a027          	fsw	ft7,0(s1)
		hit.id = face_index;
   16d64:	00e4a623          	sw	a4,12(s1)
		return true;
   16d68:	00100513          	li	a0,1
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   16d6c:	00c77753          	fadd.s	fa4,fa4,fa2
	return vec2(a.e[0] / b.e[0], a.e[1] / b.e[1]);
   16d70:	18e7f7d3          	fdiv.s	fa5,fa5,fa4
   16d74:	18e1f1d3          	fdiv.s	ft3,ft3,fa4
	e[0] = v[0];
   16d78:	00f4a227          	fsw	fa5,4(s1)
	e[1] = v[1];
   16d7c:	0034a427          	fsw	ft3,8(s1)
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   16d80:	00c60613          	add	a2,a2,12
   16d84:	0017079b          	addw	a5,a4,1
   16d88:	e0ef9ee3          	bne	t6,a4,16ba4 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1c0>
   16d8c:	01412b07          	flw	fs6,20(sp)
   16d90:	01812a87          	flw	fs5,24(sp)
   16d94:	01c12a07          	flw	fs4,28(sp)
	while(node_stack_size);
   16d98:	d8081ce3          	bnez	a6,16b30 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x14c>
}
   16d9c:	3d813083          	ld	ra,984(sp)
   16da0:	3d013403          	ld	s0,976(sp)
   16da4:	3c813483          	ld	s1,968(sp)
   16da8:	3c013903          	ld	s2,960(sp)
   16dac:	3b813983          	ld	s3,952(sp)
   16db0:	3b013a03          	ld	s4,944(sp)
   16db4:	3ac12407          	flw	fs0,940(sp)
   16db8:	3a812487          	flw	fs1,936(sp)
   16dbc:	3a412907          	flw	fs2,932(sp)
   16dc0:	3a012987          	flw	fs3,928(sp)
   16dc4:	39c12a07          	flw	fs4,924(sp)
   16dc8:	39812a87          	flw	fs5,920(sp)
   16dcc:	39412b07          	flw	fs6,916(sp)
   16dd0:	39012b87          	flw	fs7,912(sp)
   16dd4:	38c12c07          	flw	fs8,908(sp)
   16dd8:	38812c87          	flw	fs9,904(sp)
   16ddc:	38412d07          	flw	fs10,900(sp)
   16de0:	38012d87          	flw	fs11,896(sp)
   16de4:	3e010113          	add	sp,sp,992
   16de8:	00008067          	ret
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   16dec:	00ef8fb3          	add	t6,t6,a4
   16df0:	001f8e93          	add	t4,t6,1
   16df4:	00571713          	sll	a4,a4,0x5
   16df8:	005e9e93          	sll	t4,t4,0x5
   16dfc:	00c92087          	flw	ft1,12(s2)
      if (__b < __a)
   16e00:	01c92007          	flw	ft0,28(s2)
   16e04:	00e98733          	add	a4,s3,a4
   16e08:	01d98eb3          	add	t4,s3,t4
   16e0c:	00c0006f          	j	16e18 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x434>
   16e10:	02070713          	add	a4,a4,32
   16e14:	f8ee82e3          	beq	t4,a4,16d98 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x3b4>
		uint64_t r = ((uint64_t*)&src)[i];
   16e18:	00073303          	ld	t1,0(a4)
   16e1c:	00873883          	ld	a7,8(a4)
   16e20:	01073603          	ld	a2,16(a4)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16e24:	00030793          	mv	a5,t1
   16e28:	02035313          	srl	t1,t1,0x20
   16e2c:	f0030753          	fmv.w.x	fa4,t1
   16e30:	0208de13          	srl	t3,a7,0x20
   16e34:	f00787d3          	fmv.w.x	fa5,a5
   16e38:	09d77653          	fsub.s	fa2,fa4,ft9
   16e3c:	f00e0753          	fmv.w.x	fa4,t3
   16e40:	09c7f7d3          	fsub.s	fa5,fa5,ft8
		((uint64_t*)&dst)[i] = r;
   16e44:	01873783          	ld	a5,24(a4)
   16e48:	09c771d3          	fsub.s	ft3,fa4,ft8
   16e4c:	f0060753          	fmv.w.x	fa4,a2
   16e50:	02065613          	srl	a2,a2,0x20
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   16e54:	1167f7d3          	fmul.s	fa5,fa5,fs6
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16e58:	09d77153          	fsub.s	ft2,fa4,ft9
   16e5c:	f0088753          	fmv.w.x	fa4,a7
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   16e60:	11567653          	fmul.s	fa2,fa2,fs5
   16e64:	1161f1d3          	fmul.s	ft3,ft3,fs6
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16e68:	09e776d3          	fsub.s	fa3,fa4,ft10
   16e6c:	f0060753          	fmv.w.x	fa4,a2
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   16e70:	11517153          	fmul.s	ft2,ft2,fs5
   16e74:	00f43c23          	sd	a5,24(s0)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   16e78:	09e775d3          	fsub.s	fa1,fa4,ft10
   16e7c:	28378753          	fmin.s	fa4,fa5,ft3
	if (tmin > tmax) return ray.t_max;//no hit || behind
   16e80:	283797d3          	fmax.s	fa5,fa5,ft3
   16e84:	28260253          	fmin.s	ft4,fa2,ft2
   16e88:	28261653          	fmax.s	fa2,fa2,ft2
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   16e8c:	1146f6d3          	fmul.s	fa3,fa3,fs4
   16e90:	1145f5d3          	fmul.s	fa1,fa1,fs4
   16e94:	28c787d3          	fmin.s	fa5,fa5,fa2
   16e98:	28471753          	fmax.s	fa4,fa4,ft4
   16e9c:	280787d3          	fmin.s	fa5,fa5,ft0
   16ea0:	28b68653          	fmin.s	fa2,fa3,fa1
   16ea4:	28171753          	fmax.s	fa4,fa4,ft1
   16ea8:	28b696d3          	fmax.s	fa3,fa3,fa1
   16eac:	28c71753          	fmax.s	fa4,fa4,fa2
   16eb0:	28d787d3          	fmin.s	fa5,fa5,fa3
   16eb4:	a0e797d3          	flt.s	a5,fa5,fa4
   16eb8:	00078463          	beqz	a5,16ec0 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x4dc>
   16ebc:	20000753          	fmv.s	fa4,ft0
				new_entry.data = node.data;
   16ec0:	01842603          	lw	a2,24(s0)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   16ec4:	a0a717d3          	flt.s	a5,fa4,fa0
				new_entry.data = node.data;
   16ec8:	02c12623          	sw	a2,44(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   16ecc:	f40782e3          	beqz	a5,16e10 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x42c>
   16ed0:	0018031b          	addw	t1,a6,1
	for(; j != min; --j)
   16ed4:	06080263          	beqz	a6,16f38 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x554>
   16ed8:	fff8079b          	addw	a5,a6,-1
   16edc:	02081613          	sll	a2,a6,0x20
   16ee0:	01d65813          	srl	a6,a2,0x1d
   16ee4:	02079613          	sll	a2,a5,0x20
   16ee8:	01d65793          	srl	a5,a2,0x1d
   16eec:	00068e13          	mv	t3,a3
   16ef0:	01068833          	add	a6,a3,a6
   16ef4:	00f687b3          	add	a5,a3,a5
   16ef8:	0180006f          	j	16f10 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x52c>
		stack[j] = stack[j - 1];
   16efc:	0007b603          	ld	a2,0(a5)
	for(; j != min; --j)
   16f00:	ff880813          	add	a6,a6,-8
		stack[j] = stack[j - 1];
   16f04:	00c83423          	sd	a2,8(a6)
	for(; j != min; --j)
   16f08:	02f68a63          	beq	a3,a5,16f3c <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x558>
   16f0c:	00058793          	mv	a5,a1
		if(stack[j - 1].t >= entry.t) break;
   16f10:	0007a787          	flw	fa5,0(a5)
		stack[j] = stack[j - 1];
   16f14:	00080893          	mv	a7,a6
	for(; j != min; --j)
   16f18:	ff878593          	add	a1,a5,-8
		if(stack[j - 1].t >= entry.t) break;
   16f1c:	a0f70653          	fle.s	a2,fa4,fa5
   16f20:	fc060ee3          	beqz	a2,16efc <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x518>
	stack[j] = entry;
   16f24:	02e12427          	fsw	fa4,40(sp)
   16f28:	02813783          	ld	a5,40(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   16f2c:	00030813          	mv	a6,t1
	stack[j] = entry;
   16f30:	00f8b023          	sd	a5,0(a7)
}
   16f34:	eddff06f          	j	16e10 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x42c>
   16f38:	03010e13          	add	t3,sp,48
	stack[j] = entry;
   16f3c:	02e12427          	fsw	fa4,40(sp)
   16f40:	02813783          	ld	a5,40(sp)
   16f44:	000e0893          	mv	a7,t3
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   16f48:	00030813          	mv	a6,t1
	stack[j] = entry;
   16f4c:	00f8b023          	sd	a5,0(a7)
   16f50:	ec1ff06f          	j	16e10 <_Z9intersectI12MeshPointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x42c>

0000000000016f54 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit>:
inline bool intersect(const BVH::Node* blas, const T& mesh, const Ray& ray, Hit& hit)
   16f54:	81010113          	add	sp,sp,-2032
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   16f58:	0001a7b7          	lui	a5,0x1a
   16f5c:	2587a787          	flw	fa5,600(a5) # 1a258 <__DATA_BEGIN__+0x8>
	inline float operator[](int i) const { return e[i]; }
   16f60:	01062707          	flw	fa4,16(a2)
   16f64:	75a12a27          	fsw	fs10,1876(sp)
   16f68:	01462d07          	flw	fs10,20(a2)
   16f6c:	75812e27          	fsw	fs8,1884(sp)
   16f70:	01862c07          	flw	fs8,24(a2)
   16f74:	76812e27          	fsw	fs0,1916(sp)
   16f78:	76912c27          	fsw	fs1,1912(sp)
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   16f7c:	18e7f453          	fdiv.s	fs0,fa5,fa4
   16f80:	77212a27          	fsw	fs2,1908(sp)
   16f84:	7e113423          	sd	ra,2024(sp)
   16f88:	7e813023          	sd	s0,2016(sp)
   16f8c:	7c913c23          	sd	s1,2008(sp)
   16f90:	7d213823          	sd	s2,2000(sp)
   16f94:	7b613823          	sd	s6,1968(sp)
   16f98:	79b13423          	sd	s11,1928(sp)
   16f9c:	77512427          	fsw	fs5,1896(sp)
   16fa0:	77712027          	fsw	fs7,1888(sp)
   16fa4:	75912c27          	fsw	fs9,1880(sp)
   16fa8:	7d313423          	sd	s3,1992(sp)
   16fac:	7d413023          	sd	s4,1984(sp)
   16fb0:	7b513c23          	sd	s5,1976(sp)
   16fb4:	7b713423          	sd	s7,1960(sp)
   16fb8:	7b813023          	sd	s8,1952(sp)
   16fbc:	79913c23          	sd	s9,1944(sp)
   16fc0:	79a13823          	sd	s10,1936(sp)
   16fc4:	77312827          	fsw	fs3,1904(sp)
   16fc8:	77412627          	fsw	fs4,1900(sp)
   16fcc:	19a7f4d3          	fdiv.s	fs1,fa5,fs10
   16fd0:	77612227          	fsw	fs6,1892(sp)
   16fd4:	75b12827          	fsw	fs11,1872(sp)
   16fd8:	fa010113          	add	sp,sp,-96
   16fdc:	77f10793          	add	a5,sp,1919
   16fe0:	fe07f913          	and	s2,a5,-32
   16fe4:	00060d93          	mv	s11,a2
   16fe8:	00058793          	mv	a5,a1
	inline float operator[](int i) const { return e[i]; }
   16fec:	08e12427          	fsw	fa4,136(sp)
   16ff0:	00050593          	mv	a1,a0
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   16ff4:	04812827          	fsw	fs0,80(sp)
   16ff8:	00050413          	mv	s0,a0
   16ffc:	02000613          	li	a2,32
   17000:	02090513          	add	a0,s2,32
   17004:	00078493          	mv	s1,a5
   17008:	00068b13          	mv	s6,a3
   1700c:	1987f953          	fdiv.s	fs2,fa5,fs8
   17010:	04912a27          	fsw	fs1,84(sp)
   17014:	05212c27          	fsw	fs2,88(sp)
   17018:	00002097          	auipc	ra,0x2
   1701c:	b78080e7          	jalr	-1160(ra) # 18b90 <memcpy>
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17020:	0001a7b7          	lui	a5,0x1a
   17024:	2707a707          	flw	fa4,624(a5) # 1a270 <__DATA_BEGIN__+0x20>
   17028:	0001a7b7          	lui	a5,0x1a
   1702c:	2747a687          	flw	fa3,628(a5) # 1a274 <__DATA_BEGIN__+0x24>
	inline float operator[](int i) const { return e[i]; }
   17030:	000dac87          	flw	fs9,0(s11)
   17034:	004daa87          	flw	fs5,4(s11)
   17038:	008dab87          	flw	fs7,8(s11)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   1703c:	099777d3          	fsub.s	fa5,fa4,fs9
   17040:	095775d3          	fsub.s	fa1,fa4,fs5
   17044:	0996f053          	fsub.s	ft0,fa3,fs9
   17048:	0956f553          	fsub.s	fa0,fa3,fs5
   1704c:	0976f653          	fsub.s	fa2,fa3,fs7
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   17050:	1087f7d3          	fmul.s	fa5,fa5,fs0
   17054:	1095f5d3          	fmul.s	fa1,fa1,fs1
   17058:	10807053          	fmul.s	ft0,ft0,fs0
   1705c:	10957553          	fmul.s	fa0,fa0,fs1
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17060:	09777753          	fsub.s	fa4,fa4,fs7
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   17064:	11267653          	fmul.s	fa2,fa2,fs2
   17068:	00cda087          	flw	ft1,12(s11)
   1706c:	280786d3          	fmin.s	fa3,fa5,ft0
   17070:	28a58153          	fmin.s	ft2,fa1,fa0
	if (tmin > tmax) return ray.t_max;//no hit || behind
   17074:	280797d3          	fmax.s	fa5,fa5,ft0
   17078:	28a595d3          	fmax.s	fa1,fa1,fa0
   1707c:	11277753          	fmul.s	fa4,fa4,fs2
	float tmin = std::max(std::max(tminv.x, tminv.y), std::max(tminv.z, ray.t_min));
   17080:	282696d3          	fmax.s	fa3,fa3,ft2
	if (tmin > tmax) return ray.t_max;//no hit || behind
   17084:	28b787d3          	fmin.s	fa5,fa5,fa1
   17088:	01cda507          	flw	fa0,28(s11)
   1708c:	281696d3          	fmax.s	fa3,fa3,ft1
   17090:	28c705d3          	fmin.s	fa1,fa4,fa2
   17094:	28a787d3          	fmin.s	fa5,fa5,fa0
   17098:	28c71753          	fmax.s	fa4,fa4,fa2
   1709c:	28b696d3          	fmax.s	fa3,fa3,fa1
   170a0:	28e787d3          	fmin.s	fa5,fa5,fa4
   170a4:	a0d797d3          	flt.s	a5,fa5,fa3
   170a8:	00078463          	beqz	a5,170b0 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x15c>
   170ac:	20a506d3          	fmv.s	fa3,fa0
	node_stack[0].data = root_node.data;
   170b0:	03892783          	lw	a5,56(s2)
	e[0] *= v[0];
   170b4:	0001a737          	lui	a4,0x1a
   170b8:	25c72787          	flw	fa5,604(a4) # 1a25c <__DATA_BEGIN__+0xc>
	uint32_t node_stack_size = 1u;
   170bc:	215a8b53          	fmv.s	fs6,fs5
   170c0:	218c0ad3          	fmv.s	fs5,fs8
   170c4:	21ad0c53          	fmv.s	fs8,fs10
   170c8:	217b8d53          	fmv.s	fs10,fs7
   170cc:	219c8bd3          	fmv.s	fs7,fs9
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   170d0:	0001a737          	lui	a4,0x1a
	node_stack[0].data = root_node.data;
   170d4:	46f12223          	sw	a5,1124(sp)
	uint32_t node_stack_size = 1u;
   170d8:	00100793          	li	a5,1
   170dc:	26872d87          	flw	fs11,616(a4) # 1a268 <__DATA_BEGIN__+0x18>
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   170e0:	0001aa37          	lui	s4,0x1a
   170e4:	00078713          	mv	a4,a5
   170e8:	0001aab7          	lui	s5,0x1a
	e[0] *= v[0];
   170ec:	04f12627          	fsw	fa5,76(sp)
	node_stack[0].t = intersect(root_node.aabb, ray, inv_d);
   170f0:	46d12027          	fsw	fa3,1120(sp)
	bool found_hit = false;
   170f4:	00000893          	li	a7,0
	uint32_t node_stack_size = 1u;
   170f8:	00040793          	mv	a5,s0
   170fc:	00048d13          	mv	s10,s1
   17100:	000b0593          	mv	a1,s6
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   17104:	fff7061b          	addw	a2,a4,-1
   17108:	02061693          	sll	a3,a2,0x20
   1710c:	01d6d713          	srl	a4,a3,0x1d
   17110:	6f070713          	add	a4,a4,1776
   17114:	0c010693          	add	a3,sp,192
   17118:	00d70733          	add	a4,a4,a3
   1711c:	cb073683          	ld	a3,-848(a4)
		if(current_entry.t >= hit.t) return found_hit;
   17120:	0005ac87          	flw	fs9,0(a1) # 3f800000 <__global_pointer$+0x3f7e55b0>
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   17124:	0006071b          	sext.w	a4,a2
		if(current_entry.t >= hit.t) return found_hit;
   17128:	f00687d3          	fmv.w.x	fa5,a3
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   1712c:	0cd13423          	sd	a3,200(sp)
		if(current_entry.t >= hit.t) return found_hit;
   17130:	a0fc8653          	fle.s	a2,fs9,fa5
   17134:	00060463          	beqz	a2,1713c <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1e8>
   17138:	0980106f          	j	181d0 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x127c>
		if(!current_entry.data.is_leaf)
   1713c:	0cc12603          	lw	a2,204(sp)
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   17140:	0216d513          	srl	a0,a3,0x21
      if (__a < __b)
   17144:	00cda007          	flw	ft0,12(s11)
		if(!current_entry.data.is_leaf)
   17148:	00167613          	and	a2,a2,1
      if (__b < __a)
   1714c:	01cda507          	flw	fa0,28(s11)
				found_hit |= intersect(current_entry.data.fst_chld_ind + i, mesh, ray, hit);
   17150:	0246d693          	srl	a3,a3,0x24
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   17154:	00757513          	and	a0,a0,7
		if(!current_entry.data.is_leaf)
   17158:	00061463          	bnez	a2,17160 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x20c>
   1715c:	1080106f          	j	18264 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1310>
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   17160:	00d50533          	add	a0,a0,a3
	move_to_stack(header, tes_tree.headers[patch_index]);
   17164:	000d3303          	ld	t1,0(s10) # 3f800000 <__global_pointer$+0x3f7e55b0>
   17168:	00150813          	add	a6,a0,1
	float max_db_over_max_error = header.max_db * ray.rcp_max_error;
   1716c:	028da587          	flw	fa1,40(s11)
   17170:	00569513          	sll	a0,a3,0x5
	const CompactTri* triangles = &tes_tree.triangles[header.root_node_offset];
   17174:	018d3b03          	ld	s6,24(s10)
	const TesselationTree1::Node* nodes = &tes_tree.nodes[header.root_node_offset];
   17178:	008d3683          	ld	a3,8(s10)
   1717c:	00581813          	sll	a6,a6,0x5
   17180:	07512e27          	fsw	fs5,124(sp)
   17184:	20a507d3          	fmv.s	fa5,fa0
   17188:	216b0ad3          	fmv.s	fs5,fs6
   1718c:	20000753          	fmv.s	fa4,ft0
   17190:	21ad0b53          	fmv.s	fs6,fs10
   17194:	00a30433          	add	s0,t1,a0
   17198:	01030533          	add	a0,t1,a6
   1719c:	0ae13423          	sd	a4,168(sp)
   171a0:	08c13023          	sd	a2,128(sp)
   171a4:	07812c27          	fsw	fs8,120(sp)
   171a8:	08b12627          	fsw	fa1,140(sp)
   171ac:	08d13823          	sd	a3,144(sp)
   171b0:	000b0813          	mv	a6,s6
   171b4:	00040713          	mv	a4,s0
   171b8:	08a13c23          	sd	a0,152(sp)
   171bc:	0b213823          	sd	s2,176(sp)
   171c0:	0b113023          	sd	a7,160(sp)
   171c4:	0af13c23          	sd	a5,184(sp)
		uint64_t r = ((uint64_t*)&src)[i];
   171c8:	01073f83          	ld	t6,16(a4)
   171cc:	09013783          	ld	a5,144(sp)
      if (__a < __b)
   171d0:	20e705d3          	fmv.s	fa1,fa4
   171d4:	020fdf13          	srl	t5,t6,0x20
   171d8:	005f1913          	sll	s2,t5,0x5
   171dc:	01278933          	add	s2,a5,s2
   171e0:	00093503          	ld	a0,0(s2)
   171e4:	00893603          	ld	a2,8(s2)
   171e8:	04e12e27          	fsw	fa4,92(sp)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   171ec:	00050793          	mv	a5,a0
   171f0:	02055513          	srl	a0,a0,0x20
   171f4:	f0050753          	fmv.w.x	fa4,a0
   171f8:	02065393          	srl	t2,a2,0x20
   171fc:	01093883          	ld	a7,16(s2)
   17200:	095776d3          	fsub.s	fa3,fa4,fs5
   17204:	f0038753          	fmv.w.x	fa4,t2
      if (__b < __a)
   17208:	20f78553          	fmv.s	fa0,fa5
   1720c:	f00787d3          	fmv.w.x	fa5,a5
   17210:	09777153          	fsub.s	ft2,fa4,fs7
   17214:	f0088753          	fmv.w.x	fa4,a7
   17218:	0977f7d3          	fsub.s	fa5,fa5,fs7
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   1721c:	05412607          	flw	fa2,84(sp)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17220:	095770d3          	fsub.s	ft1,fa4,fs5
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   17224:	05012707          	flw	fa4,80(sp)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17228:	0208d893          	srl	a7,a7,0x20
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   1722c:	10c6f6d3          	fmul.s	fa3,fa3,fa2
   17230:	10e7f7d3          	fmul.s	fa5,fa5,fa4
   17234:	10c0f0d3          	fmul.s	ft1,ft1,fa2
   17238:	10e17153          	fmul.s	ft2,ft2,fa4
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   1723c:	f0088653          	fmv.w.x	fa2,a7
   17240:	f0060753          	fmv.w.x	fa4,a2
   17244:	00873783          	ld	a5,8(a4)
   17248:	09667653          	fsub.s	fa2,fa2,fs6
   1724c:	09677753          	fsub.s	fa4,fa4,fs6
   17250:	281681d3          	fmin.s	ft3,fa3,ft1
	if (tmin > tmax) return ray.t_max;//no hit || behind
   17254:	281696d3          	fmax.s	fa3,fa3,ft1
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   17258:	05812087          	flw	ft1,88(sp)
   1725c:	28278053          	fmin.s	ft0,fa5,ft2
   17260:	282797d3          	fmax.s	fa5,fa5,ft2
   17264:	10167653          	fmul.s	fa2,fa2,ft1
   17268:	10177753          	fmul.s	fa4,fa4,ft1
   1726c:	28301053          	fmax.s	ft0,ft0,ft3
   17270:	28d787d3          	fmin.s	fa5,fa5,fa3
	float max_db_over_max_error = header.max_db * ray.rcp_max_error;
   17274:	0207d613          	srl	a2,a5,0x20
   17278:	28b016d3          	fmax.s	fa3,ft0,fa1
   1727c:	28a787d3          	fmin.s	fa5,fa5,fa0
   17280:	28c70053          	fmin.s	ft0,fa4,fa2
   17284:	28c71753          	fmax.s	fa4,fa4,fa2
   17288:	f0060653          	fmv.w.x	fa2,a2
   1728c:	280696d3          	fmax.s	fa3,fa3,ft0
   17290:	28e787d3          	fmin.s	fa5,fa5,fa4
   17294:	08c12707          	flw	fa4,140(sp)
   17298:	00073503          	ld	a0,0(a4)
   1729c:	a0d798d3          	flt.s	a7,fa5,fa3
   172a0:	10c77753          	fmul.s	fa4,fa4,fa2
   172a4:	01873603          	ld	a2,24(a4)
   172a8:	01893e83          	ld	t4,24(s2)
   172ac:	04e12427          	fsw	fa4,72(sp)
   172b0:	00089463          	bnez	a7,172b8 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x364>
	return tmin;
   172b4:	20d68553          	fmv.s	fa0,fa3
		if(lod == 0) tri_stack[lod].tri = Triangle(tes_tree.vertices[header.vi[0]], tes_tree.vertices[header.vi[1]], tes_tree.vertices[header.vi[2]]);
   172b8:	fff00893          	li	a7,-1
   172bc:	0208d893          	srl	a7,a7,0x20
   172c0:	01157bb3          	and	s7,a0,a7
   172c4:	0117f7b3          	and	a5,a5,a7
   172c8:	02055513          	srl	a0,a0,0x20
   172cc:	00179893          	sll	a7,a5,0x1
   172d0:	001b9993          	sll	s3,s7,0x1
   172d4:	00151393          	sll	t2,a0,0x1
   172d8:	00f887b3          	add	a5,a7,a5
	uint32_t hit_lod = ~0u;
   172dc:	219c8d53          	fmv.s	fs10,fs9
		if(lod == 0) tri_stack[lod].tri = Triangle(tes_tree.vertices[header.vi[0]], tes_tree.vertices[header.vi[1]], tes_tree.vertices[header.vi[2]]);
   172e0:	017989b3          	add	s3,s3,s7
	uint32_t node_stack_size = 1u;
   172e4:	08013883          	ld	a7,128(sp)
	uint32_t hit_lod = ~0u;
   172e8:	07812a07          	flw	fs4,120(sp)
   172ec:	07c12907          	flw	fs2,124(sp)
   172f0:	08812c87          	flw	fs9,136(sp)
		if(lod == 0) tri_stack[lod].tri = Triangle(tes_tree.vertices[header.vi[0]], tes_tree.vertices[header.vi[1]], tes_tree.vertices[header.vi[2]]);
   172f4:	00a38533          	add	a0,t2,a0
   172f8:	00279793          	sll	a5,a5,0x2
   172fc:	00299393          	sll	t2,s3,0x2
   17300:	00251c13          	sll	s8,a0,0x2
	uint32_t hit_lod = ~0u;
   17304:	00038313          	mv	t1,t2
	node_stack[0].t = intersect(root_node.aabb, ray, inv_d);
   17308:	0ea12027          	fsw	fa0,224(sp)
	node_stack[0].node_index = 0;
   1730c:	0e012223          	sw	zero,228(sp)
	node_stack[0].dbs = root_node.dbs;
   17310:	0fd12423          	sw	t4,232(sp)
		if(lod == 0) tri_stack[lod].tri = Triangle(tes_tree.vertices[header.vi[0]], tes_tree.vertices[header.vi[1]], tes_tree.vertices[header.vi[2]]);
   17314:	06f13023          	sd	a5,96(sp)
	uint32_t hit_lod = ~0u;
   17318:	fff00513          	li	a0,-1
   1731c:	06e13423          	sd	a4,104(sp)
   17320:	06c13823          	sd	a2,112(sp)
   17324:	000f0393          	mv	t2,t5
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   17328:	fff88e9b          	addw	t4,a7,-1
   1732c:	020e9793          	sll	a5,t4,0x20
   17330:	0207d793          	srl	a5,a5,0x20
   17334:	00179713          	sll	a4,a5,0x1
   17338:	00f70733          	add	a4,a4,a5
   1733c:	00271713          	sll	a4,a4,0x2
   17340:	6f070793          	add	a5,a4,1776
   17344:	0c010713          	add	a4,sp,192
   17348:	00e78733          	add	a4,a5,a4
   1734c:	93072783          	lw	a5,-1744(a4)
   17350:	93472603          	lw	a2,-1740(a4)
   17354:	93872683          	lw	a3,-1736(a4)
		if(current_entry.t >= hit.t) continue;
   17358:	f00787d3          	fmv.w.x	fa5,a5
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   1735c:	0cf12823          	sw	a5,208(sp)
   17360:	0cc12a23          	sw	a2,212(sp)
		if(current_entry.t >= hit.t) continue;
   17364:	a0fd0753          	fle.s	a4,fs10,fa5
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   17368:	0cd12c23          	sw	a3,216(sp)
		if(current_entry.t >= hit.t) continue;
   1736c:	120710e3          	bnez	a4,17c8c <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xd38>
		uint32_t node_index = current_entry.node_index;
   17370:	0d013683          	ld	a3,208(sp)
   17374:	04c00293          	li	t0,76
class Triangle
   17378:	20010713          	add	a4,sp,512
		uint32_t lod = current_entry.lod;
   1737c:	03a6d413          	srl	s0,a3,0x3a
   17380:	00f47f13          	and	t5,s0,15
   17384:	025f0f33          	mul	t5,t5,t0
		uint32_t node_index = current_entry.node_index;
   17388:	00669e13          	sll	t3,a3,0x6
		uint32_t lod = current_entry.lod;
   1738c:	00f47413          	and	s0,s0,15
		uint32_t dbs = current_entry.dbs;
   17390:	0d812783          	lw	a5,216(sp)
		uint32_t node_index = current_entry.node_index;
   17394:	026e5e13          	srl	t3,t3,0x26
		uint32_t tri_type = current_entry.tri_type;
   17398:	03e6d693          	srl	a3,a3,0x3e
   1739c:	01e70733          	add	a4,a4,t5
		if(lod == 0) tri_stack[lod].tri = Triangle(tes_tree.vertices[header.vi[0]], tes_tree.vertices[header.vi[1]], tes_tree.vertices[header.vi[2]]);
   173a0:	3c0418e3          	bnez	s0,17f70 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x101c>
   173a4:	010d3683          	ld	a3,16(s10)
   173a8:	06013483          	ld	s1,96(sp)
   173ac:	00668633          	add	a2,a3,t1
   173b0:	018682b3          	add	t0,a3,s8
   173b4:	009686b3          	add	a3,a3,s1
	inline float operator[](int i) const { return e[i]; }
   173b8:	00462507          	flw	fa0,4(a2)
   173bc:	0002a107          	flw	ft2,0(t0)
   173c0:	0006a087          	flw	ft1,0(a3)
	e[0] = v[0];
   173c4:	00062007          	flw	ft0,0(a2)
	inline float operator[](int i) const { return e[i]; }
   173c8:	00862587          	flw	fa1,8(a2)
   173cc:	0042a607          	flw	fa2,4(t0)
   173d0:	0082a687          	flw	fa3,8(t0)
   173d4:	0046a707          	flw	fa4,4(a3)
   173d8:	0086a787          	flw	fa5,8(a3)
	e[0] = v[0];
   173dc:	20212627          	fsw	ft2,524(sp)
   173e0:	20112c27          	fsw	ft1,536(sp)
   173e4:	20012027          	fsw	ft0,512(sp)
	e[1] = v[1];
   173e8:	20a12227          	fsw	fa0,516(sp)
	e[2] = v[2];
   173ec:	20b12427          	fsw	fa1,520(sp)
	e[1] = v[1];
   173f0:	20c12827          	fsw	fa2,528(sp)
	e[2] = v[2];
   173f4:	20d12a27          	fsw	fa3,532(sp)
	e[1] = v[1];
   173f8:	20e12e27          	fsw	fa4,540(sp)
	e[2] = v[2];
   173fc:	22f12027          	fsw	fa5,544(sp)
	inline float operator[](int i) const { return e[i]; }
   17400:	00072887          	flw	fa7,0(a4)
   17404:	00472807          	flw	fa6,4(a4)
   17408:	00872307          	flw	ft6,8(a4)
   1740c:	00c72207          	flw	ft4,12(a4)
   17410:	01072507          	flw	fa0,16(a4)
   17414:	01472007          	flw	ft0,20(a4)
   17418:	01872187          	flw	ft3,24(a4)
   1741c:	01c72107          	flw	ft2,28(a4)
   17420:	02072087          	flw	ft1,32(a4)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17424:	095877d3          	fsub.s	fa5,fa6,fs5
   17428:	09517753          	fsub.s	fa4,ft2,fs5
   1742c:	09557453          	fsub.s	fs0,fa0,fs5
   17430:	097276d3          	fsub.s	fa3,ft4,fs7
   17434:	0971f653          	fsub.s	fa2,ft3,fs7
   17438:	0978fc53          	fsub.s	fs8,fa7,fs7
   1743c:	00f12c27          	fsw	fa5,24(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17440:	108a72d3          	fmul.s	ft5,fs4,fs0
   17444:	10fa77d3          	fmul.s	fa5,fs4,fa5
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17448:	00e12a27          	fsw	fa4,20(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   1744c:	10ea7753          	fmul.s	fa4,fs4,fa4
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17450:	09637fd3          	fsub.s	ft11,ft6,fs6
   17454:	28dcf2c3          	fmadd.s	ft5,fs9,fa3,ft5
   17458:	798cf7c3          	fmadd.s	fa5,fs9,fs8,fa5
   1745c:	09607f53          	fsub.s	ft10,ft0,fs6
   17460:	70ccf743          	fmadd.s	fa4,fs9,fa2,fa4
   17464:	0960f4d3          	fsub.s	fs1,ft1,fs6
	glm::vec3 fdbs((float)(qdb >> 00 & 0x3ff), (float)(qdb >> 10 & 0x3ff), (float)(qdb >> 20 & 0x3ff));
   17468:	00a7d61b          	srlw	a2,a5,0xa
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   1746c:	79f977c3          	fmadd.s	fa5,fs2,ft11,fa5
   17470:	29e972c3          	fmadd.s	ft5,fs2,ft10,ft5
   17474:	0147d69b          	srlw	a3,a5,0x14
   17478:	70997743          	fmadd.s	fa4,fs2,fs1,fa4
   1747c:	3ff7f793          	and	a5,a5,1023
   17480:	3ff67613          	and	a2,a2,1023
   17484:	3ff6f693          	and	a3,a3,1023
	glm::vec3 r = mdlen * ray.drdt + ray.radius;
   17488:	020dae87          	flw	ft9,32(s11)
   1748c:	024dae07          	flw	ft8,36(s11)
   17490:	28e783d3          	fmin.s	ft7,fa5,fa4
	glm::vec3 fdbs((float)(qdb >> 00 & 0x3ff), (float)(qdb >> 10 & 0x3ff), (float)(qdb >> 20 & 0x3ff));
   17494:	d007f5d3          	fcvt.s.w	fa1,a5
   17498:	285787d3          	fmin.s	fa5,fa5,ft5
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   1749c:	28e28753          	fmin.s	fa4,ft5,fa4
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   174a0:	00d12027          	fsw	fa3,0(sp)
	e[0] *= v[0];
   174a4:	04c12287          	flw	ft5,76(sp)
   174a8:	d006f6d3          	fcvt.s.w	fa3,a3
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   174ac:	00c12427          	fsw	fa2,8(sp)
   174b0:	d0067653          	fcvt.s.w	fa2,a2
	e[0] *= v[0];
   174b4:	1055f5d3          	fmul.s	fa1,fa1,ft5
	e[2] *= v[2];
   174b8:	1056f6d3          	fmul.s	fa3,fa3,ft5
	e[1] *= v[1];
   174bc:	10567653          	fmul.s	fa2,fa2,ft5
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   174c0:	e0eef743          	fmadd.s	fa4,ft9,fa4,ft8
   174c4:	e07ef3c3          	fmadd.s	ft7,ft9,ft7,ft8
   174c8:	e0fef7c3          	fmadd.s	fa5,ft9,fa5,ft8
	asm volatile("frcp.s %0,%1\n\t" 
   174cc:	60077753          	frcp.s	fa4,fa4
   174d0:	6003f3d3          	frcp.s	ft7,ft7
   174d4:	6007f7d3          	frcp.s	fa5,fa5
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   174d8:	10b5f5d3          	fmul.s	fa1,fa1,fa1
   174dc:	04812e07          	flw	ft8,72(sp)
   174e0:	10d6f6d3          	fmul.s	fa3,fa3,fa3
   174e4:	10c67653          	fmul.s	fa2,fa2,fa2
      if (__a < __b)
   174e8:	0001a6b7          	lui	a3,0x1a
   174ec:	11c5f5d3          	fmul.s	fa1,fa1,ft8
   174f0:	f00002d3          	fmv.w.x	ft5,zero
   174f4:	11c6f6d3          	fmul.s	fa3,fa3,ft8
   174f8:	11c67653          	fmul.s	fa2,fa2,ft8
   174fc:	10e5f5d3          	fmul.s	fa1,fa1,fa4
   17500:	10f6f6d3          	fmul.s	fa3,fa3,fa5
   17504:	2586a787          	flw	fa5,600(a3) # 1a258 <__DATA_BEGIN__+0x8>
   17508:	10767653          	fmul.s	fa2,fa2,ft7
   1750c:	a0f597d3          	flt.s	a5,fa1,fa5
   17510:	00079663          	bnez	a5,1751c <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x5c8>
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17514:	08f5f2d3          	fsub.s	ft5,fa1,fa5
   17518:	28f282d3          	fmin.s	ft5,ft5,fa5
   1751c:	0001a6b7          	lui	a3,0x1a
   17520:	2586a787          	flw	fa5,600(a3) # 1a258 <__DATA_BEGIN__+0x8>
   17524:	f0000753          	fmv.w.x	fa4,zero
   17528:	a0f617d3          	flt.s	a5,fa2,fa5
   1752c:	00079663          	bnez	a5,17538 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x5e4>
   17530:	08f67753          	fsub.s	fa4,fa2,fa5
   17534:	28f70753          	fmin.s	fa4,fa4,fa5
   17538:	0001a6b7          	lui	a3,0x1a
   1753c:	2586a787          	flw	fa5,600(a3) # 1a258 <__DATA_BEGIN__+0x8>
   17540:	f0000653          	fmv.w.x	fa2,zero
   17544:	a0f697d3          	flt.s	a5,fa3,fa5
   17548:	00079663          	bnez	a5,17554 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x600>
   1754c:	08f6f653          	fsub.s	fa2,fa3,fa5
   17550:	28f60653          	fmin.s	fa2,fa2,fa5
		if(edge_states[0] <= 0.0f && edge_states[1] <= 0.0f && edge_states[2] <= 0.0f)
   17554:	f00007d3          	fmv.w.x	fa5,zero
   17558:	a0f287d3          	fle.s	a5,ft5,fa5
   1755c:	00078a63          	beqz	a5,17570 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x61c>
   17560:	a0f707d3          	fle.s	a5,fa4,fa5
   17564:	00078663          	beqz	a5,17570 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x61c>
   17568:	a0f607d3          	fle.s	a5,fa2,fa5
   1756c:	5a079e63          	bnez	a5,17b28 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xbd4>
		uint32_t absoulte_node_index = lod_node_offset[lod] + node_index;
   17570:	000194b7          	lui	s1,0x19
   17574:	d3848493          	add	s1,s1,-712 # 18d38 <_ZL15lod_node_offset>
   17578:	00241793          	sll	a5,s0,0x2
   1757c:	00f487b3          	add	a5,s1,a5
   17580:	0007a783          	lw	a5,0(a5)
   17584:	02041b13          	sll	s6,s0,0x20
   17588:	020b5b13          	srl	s6,s6,0x20
   1758c:	01c787bb          	addw	a5,a5,t3
		move_to_stack(new_tri, triangles[absoulte_node_index]);
   17590:	02079793          	sll	a5,a5,0x20
   17594:	0207d793          	srl	a5,a5,0x20
   17598:	007787b3          	add	a5,a5,t2
   1759c:	00579793          	sll	a5,a5,0x5
   175a0:	00f807b3          	add	a5,a6,a5
   175a4:	0007b603          	ld	a2,0(a5)
   175a8:	0087b683          	ld	a3,8(a5)
   175ac:	0107b983          	ld	s3,16(a5)
	float f0 = u24_to_f32(dw0 & 0xffffff);
   175b0:	0006029b          	sext.w	t0,a2
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   175b4:	0172db93          	srl	s7,t0,0x17
   175b8:	001bfb93          	and	s7,s7,1
		uint64_t r = ((uint64_t*)&src)[i];
   175bc:	0187b783          	ld	a5,24(a5)
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   175c0:	240b94e3          	bnez	s7,18008 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x10b4>
   175c4:	02829293          	sll	t0,t0,0x28
   175c8:	0282d293          	srl	t0,t0,0x28
   175cc:	3f800bb7          	lui	s7,0x3f800
	return *((float*)&u);
   175d0:	0172ebb3          	or	s7,t0,s7
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   175d4:	260a2687          	flw	fa3,608(s4) # 1a260 <__DATA_BEGIN__+0x10>
   175d8:	264aa787          	flw	fa5,612(s5) # 1a264 <__DATA_BEGIN__+0x14>
   175dc:	f00b85d3          	fmv.w.x	fa1,s7
   175e0:	78d5f3c3          	fmadd.s	ft7,fa1,fa3,fa5
	float f1 = u24_to_f32((dw0 >> 24) & 0xffffff);
   175e4:	01865293          	srl	t0,a2,0x18
   175e8:	0002829b          	sext.w	t0,t0
   175ec:	0172db93          	srl	s7,t0,0x17
   175f0:	001bfb93          	and	s7,s7,1
   175f4:	200b94e3          	bnez	s7,17ffc <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x10a8>
   175f8:	02829293          	sll	t0,t0,0x28
   175fc:	0282d293          	srl	t0,t0,0x28
   17600:	3f800bb7          	lui	s7,0x3f800
	return *((float*)&u);
   17604:	0172ebb3          	or	s7,t0,s7
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   17608:	260a2687          	flw	fa3,608(s4)
   1760c:	264aa787          	flw	fa5,612(s5)
   17610:	f00b85d3          	fmv.w.x	fa1,s7
   17614:	78d5f5c3          	fmadd.s	fa1,fa1,fa3,fa5
	float f2 = u24_to_f32(((dw0 >> 48) | (dw1 << 16)) & 0xffffff);
   17618:	0106929b          	sllw	t0,a3,0x10
   1761c:	03065613          	srl	a2,a2,0x30
   17620:	00566633          	or	a2,a2,t0
   17624:	0006061b          	sext.w	a2,a2
   17628:	01765293          	srl	t0,a2,0x17
   1762c:	0012f293          	and	t0,t0,1
   17630:	1c0290e3          	bnez	t0,17ff0 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x109c>
   17634:	02861613          	sll	a2,a2,0x28
   17638:	02865613          	srl	a2,a2,0x28
   1763c:	3f8002b7          	lui	t0,0x3f800
	return *((float*)&u);
   17640:	00566633          	or	a2,a2,t0
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   17644:	260a2687          	flw	fa3,608(s4)
   17648:	264aa787          	flw	fa5,612(s5)
   1764c:	f0060e53          	fmv.w.x	ft8,a2
   17650:	78de77c3          	fmadd.s	fa5,ft8,fa3,fa5
	float f3 = u24_to_f32((dw1 >> 8) & 0xffffff);
   17654:	0086d613          	srl	a2,a3,0x8
   17658:	0006061b          	sext.w	a2,a2
   1765c:	01765293          	srl	t0,a2,0x17
   17660:	0012f293          	and	t0,t0,1
   17664:	180290e3          	bnez	t0,17fe4 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1090>
   17668:	02861613          	sll	a2,a2,0x28
   1766c:	02865613          	srl	a2,a2,0x28
   17670:	3f8002b7          	lui	t0,0x3f800
	return *((float*)&u);
   17674:	00566633          	or	a2,a2,t0
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   17678:	260a2e07          	flw	ft8,608(s4)
   1767c:	264aa687          	flw	fa3,612(s5)
   17680:	f0060ed3          	fmv.w.x	ft9,a2
   17684:	69cef6c3          	fmadd.s	fa3,ft9,ft8,fa3
	float f4 = u24_to_f32((dw1 >> 32) & 0xffffff);
   17688:	4206d613          	sra	a2,a3,0x20
   1768c:	01765293          	srl	t0,a2,0x17
   17690:	0001abb7          	lui	s7,0x1a
   17694:	0012f293          	and	t0,t0,1
   17698:	258bae07          	flw	ft8,600(s7) # 1a258 <__DATA_BEGIN__+0x8>
   1769c:	02029263          	bnez	t0,176c0 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x76c>
   176a0:	02861613          	sll	a2,a2,0x28
   176a4:	02865613          	srl	a2,a2,0x28
   176a8:	3f8002b7          	lui	t0,0x3f800
	return *((float*)&u);
   176ac:	00566633          	or	a2,a2,t0
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   176b0:	260a2e07          	flw	ft8,608(s4)
   176b4:	264aae87          	flw	ft9,612(s5)
   176b8:	f0060f53          	fmv.w.x	ft10,a2
   176bc:	e9cf7e43          	fmadd.s	ft8,ft10,ft8,ft9
	float f5 = u24_to_f32(((dw1 >> 56) | (dw2 << 8)) & 0xffffff);
   176c0:	0089961b          	sllw	a2,s3,0x8
   176c4:	0386d693          	srl	a3,a3,0x38
   176c8:	00c6e6b3          	or	a3,a3,a2
   176cc:	0006869b          	sext.w	a3,a3
   176d0:	0176d613          	srl	a2,a3,0x17
   176d4:	0001a2b7          	lui	t0,0x1a
   176d8:	00167613          	and	a2,a2,1
   176dc:	2582a407          	flw	fs0,600(t0) # 1a258 <__DATA_BEGIN__+0x8>
   176e0:	02061663          	bnez	a2,1770c <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x7b8>
   176e4:	02869693          	sll	a3,a3,0x28
   176e8:	3f800637          	lui	a2,0x3f800
   176ec:	0286d693          	srl	a3,a3,0x28
	return *((float*)&u);
   176f0:	00c6e6b3          	or	a3,a3,a2
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   176f4:	0001a2b7          	lui	t0,0x1a
   176f8:	0001a637          	lui	a2,0x1a
   176fc:	26062e87          	flw	ft9,608(a2) # 1a260 <__DATA_BEGIN__+0x10>
   17700:	f0068f53          	fmv.w.x	ft10,a3
   17704:	2642af87          	flw	ft11,612(t0) # 1a264 <__DATA_BEGIN__+0x14>
   17708:	f9eef443          	fmadd.s	fs0,ft9,ft10,ft11
	float f6 = u24_to_f32((dw2 >> 16) & 0xffffff);
   1770c:	0109d693          	srl	a3,s3,0x10
   17710:	0006869b          	sext.w	a3,a3
   17714:	0176d613          	srl	a2,a3,0x17
   17718:	0001a2b7          	lui	t0,0x1a
   1771c:	00167613          	and	a2,a2,1
   17720:	2582af87          	flw	ft11,600(t0) # 1a258 <__DATA_BEGIN__+0x8>
   17724:	02061663          	bnez	a2,17750 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x7fc>
   17728:	02869693          	sll	a3,a3,0x28
   1772c:	3f800637          	lui	a2,0x3f800
   17730:	0286d693          	srl	a3,a3,0x28
	return *((float*)&u);
   17734:	00c6e6b3          	or	a3,a3,a2
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   17738:	0001a2b7          	lui	t0,0x1a
   1773c:	0001a637          	lui	a2,0x1a
   17740:	26062e87          	flw	ft9,608(a2) # 1a260 <__DATA_BEGIN__+0x10>
   17744:	f0068f53          	fmv.w.x	ft10,a3
   17748:	2642af87          	flw	ft11,612(t0) # 1a264 <__DATA_BEGIN__+0x14>
   1774c:	f9eeffc3          	fmadd.s	ft11,ft9,ft10,ft11
   17750:	0001a6b7          	lui	a3,0x1a
   17754:	2586af07          	flw	ft10,600(a3) # 1a258 <__DATA_BEGIN__+0x8>
	float f7 = u24_to_f32((dw2 >> 40) & 0xffffff);
   17758:	0289d693          	srl	a3,s3,0x28
   1775c:	0209c263          	bltz	s3,17780 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x82c>
   17760:	3f800637          	lui	a2,0x3f800
	return *((float*)&u);
   17764:	00c6e6b3          	or	a3,a3,a2
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   17768:	0001a2b7          	lui	t0,0x1a
   1776c:	0001a637          	lui	a2,0x1a
   17770:	26062e87          	flw	ft9,608(a2) # 1a260 <__DATA_BEGIN__+0x10>
   17774:	f0068f53          	fmv.w.x	ft10,a3
   17778:	2642a487          	flw	fs1,612(t0) # 1a264 <__DATA_BEGIN__+0x14>
   1777c:	49eeff43          	fmadd.s	ft10,ft9,ft10,fs1
	float f8 = u24_to_f32(dw3 & 0xffffff);
   17780:	0007879b          	sext.w	a5,a5
   17784:	0177d693          	srl	a3,a5,0x17
   17788:	0001a637          	lui	a2,0x1a
   1778c:	0016f693          	and	a3,a3,1
   17790:	25862e87          	flw	ft9,600(a2) # 1a258 <__DATA_BEGIN__+0x8>
   17794:	02069663          	bnez	a3,177c0 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x86c>
   17798:	02879793          	sll	a5,a5,0x28
   1779c:	3f8006b7          	lui	a3,0x3f800
   177a0:	0287d793          	srl	a5,a5,0x28
	return *((float*)&u);
   177a4:	00d7e7b3          	or	a5,a5,a3
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   177a8:	0001a637          	lui	a2,0x1a
   177ac:	0001a6b7          	lui	a3,0x1a
   177b0:	2606ae87          	flw	ft9,608(a3) # 1a260 <__DATA_BEGIN__+0x10>
   177b4:	f00784d3          	fmv.w.x	fs1,a5
   177b8:	26462987          	flw	fs3,612(a2) # 1a264 <__DATA_BEGIN__+0x14>
   177bc:	989efec3          	fmadd.s	ft9,ft9,fs1,fs3
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   177c0:	0041fc53          	fadd.s	fs8,ft3,ft4
   177c4:	00a179d3          	fadd.s	fs3,ft2,fa0
   177c8:	001074d3          	fadd.s	fs1,ft0,ft1
   177cc:	0111f1d3          	fadd.s	ft3,ft3,fa7
   177d0:	001370d3          	fadd.s	ft1,ft6,ft1
   177d4:	00607053          	fadd.s	ft0,ft0,ft6
   177d8:	01017153          	fadd.s	ft2,ft2,fa6
   177dc:	0048f253          	fadd.s	ft4,fa7,ft4
   177e0:	00a87553          	fadd.s	fa0,fa6,fa0
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   177e4:	69b1f6cb          	fnmsub.s	fa3,ft3,fs11,fa3
   177e8:	41b0f44b          	fnmsub.s	fs0,ft1,fs11,fs0
   177ec:	e1b17e4b          	fnmsub.s	ft8,ft2,fs11,ft8
   177f0:	e9b07ecb          	fnmsub.s	ft9,ft0,fs11,ft9
   177f4:	f1b57f4b          	fnmsub.s	ft10,fa0,fs11,ft10
   177f8:	39bc73cb          	fnmsub.s	ft7,fs8,fs11,ft7
   177fc:	59b9f5cb          	fnmsub.s	fa1,fs3,fs11,fa1
   17800:	79b4f7cb          	fnmsub.s	fa5,fs1,fs11,fa5
   17804:	f9b27fcb          	fnmsub.s	ft11,ft4,fs11,ft11
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   17808:	10ee7e53          	fmul.s	ft8,ft8,fa4
   1780c:	1053f3d3          	fmul.s	ft7,ft7,ft5
   17810:	1055f5d3          	fmul.s	fa1,fa1,ft5
   17814:	1057f7d3          	fmul.s	fa5,fa5,ft5
   17818:	10e47453          	fmul.s	fs0,fs0,fa4
   1781c:	10e6f6d3          	fmul.s	fa3,fa3,fa4
   17820:	10cf7f53          	fmul.s	ft10,ft10,fa2
   17824:	10cefed3          	fmul.s	ft9,ft9,fa2
   17828:	10cfffd3          	fmul.s	ft11,ft11,fa2
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   1782c:	39bc7343          	fmadd.s	ft6,fs8,fs11,ft7
   17830:	69b1f6c3          	fmadd.s	fa3,ft3,fs11,fa3
   17834:	59b9f5c3          	fmadd.s	fa1,fs3,fs11,fa1
   17838:	79b4f7c3          	fmadd.s	fa5,fs1,fs11,fa5
   1783c:	e1b17143          	fmadd.s	ft2,ft2,fs11,ft8
   17840:	41b0f0c3          	fmadd.s	ft1,ft1,fs11,fs0
   17844:	f9b271c3          	fmadd.s	ft3,ft4,fs11,ft11
   17848:	f1b57543          	fmadd.s	fa0,fa0,fs11,ft10
   1784c:	e9b07043          	fmadd.s	ft0,ft0,fs11,ft9
   17850:	024f0f13          	add	t5,t5,36 # 3f800024 <__global_pointer$+0x3f7e55d4>
   17854:	20010793          	add	a5,sp,512
   17858:	01e787b3          	add	a5,a5,t5
	e[0] = v[0];
   1785c:	0067a027          	fsw	ft6,0(a5)
	e[1] = v[1];
   17860:	00b7a227          	fsw	fa1,4(a5)
	e[2] = v[2];
   17864:	00f7a427          	fsw	fa5,8(a5)
	e[0] = v[0];
   17868:	00d7a627          	fsw	fa3,12(a5)
	e[1] = v[1];
   1786c:	0027a827          	fsw	ft2,16(a5)
	e[2] = v[2];
   17870:	0017aa27          	fsw	ft1,20(a5)
	e[0] = v[0];
   17874:	0037ac27          	fsw	ft3,24(a5)
	e[1] = v[1];
   17878:	00a7ae27          	fsw	fa0,28(a5)
	e[2] = v[2];
   1787c:	0207a027          	fsw	ft0,32(a5)
	return vec3(a[0] + b[0], a[1] + b[1], a[2] + b[2]);
   17880:	02612e27          	fsw	ft6,60(sp)
   17884:	04b12027          	fsw	fa1,64(sp)
   17888:	04f12227          	fsw	fa5,68(sp)
   1788c:	02d12827          	fsw	fa3,48(sp)
   17890:	02212a27          	fsw	ft2,52(sp)
   17894:	02112c27          	fsw	ft1,56(sp)
   17898:	00312a27          	fsw	ft3,20(sp)
   1789c:	00a12c27          	fsw	fa0,24(sp)
   178a0:	00012e27          	fsw	ft0,28(sp)
		uint32_t next_level = lod + 1;
   178a4:	00140f13          	add	t5,s0,1
		if((next_level) == header.last_lod) //leaf node
   178a8:	000f869b          	sext.w	a3,t6
		uint32_t first_child_index = node_index << 2; //compute first child idnex
   178ac:	002e129b          	sllw	t0,t3,0x2
		uint32_t next_level = lod + 1;
   178b0:	0014079b          	addw	a5,s0,1
		uint32_t first_child_index = node_index << 2; //compute first child idnex
   178b4:	002e1e13          	sll	t3,t3,0x2
		if((next_level) == header.last_lod) //leaf node
   178b8:	4adf0663          	beq	t5,a3,17d64 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xe10>
			tri_stack[lod].child_transformed = (edge_states[0] < 1.0f) || (edge_states[1] < 1.0f) || (edge_states[2] < 1.0f) || ((lod != 0) && tri_stack[lod - 1].child_transformed);
   178bc:	0001a637          	lui	a2,0x1a
   178c0:	25862787          	flw	fa5,600(a2) # 1a258 <__DATA_BEGIN__+0x8>
   178c4:	00100993          	li	s3,1
   178c8:	a0f296d3          	flt.s	a3,ft5,fa5
   178cc:	04069063          	bnez	a3,1790c <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x9b8>
   178d0:	a0f716d3          	flt.s	a3,fa4,fa5
   178d4:	02069c63          	bnez	a3,1790c <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x9b8>
   178d8:	a0f616d3          	flt.s	a3,fa2,fa5
   178dc:	02069863          	bnez	a3,1790c <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x9b8>
   178e0:	00000993          	li	s3,0
   178e4:	02040463          	beqz	s0,1790c <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x9b8>
   178e8:	fff4069b          	addw	a3,s0,-1
   178ec:	02069693          	sll	a3,a3,0x20
   178f0:	04c00613          	li	a2,76
   178f4:	0206d693          	srl	a3,a3,0x20
   178f8:	02c686b3          	mul	a3,a3,a2
   178fc:	0c010613          	add	a2,sp,192
   17900:	6f068693          	add	a3,a3,1776
   17904:	00c686b3          	add	a3,a3,a2
   17908:	a986c983          	lbu	s3,-1384(a3)
   1790c:	04c00693          	li	a3,76
   17910:	02db06b3          	mul	a3,s6,a3
			uint32_t absolute_first_child_index = lod_node_offset[next_level] + first_child_index;
   17914:	02079793          	sll	a5,a5,0x20
   17918:	01e7d793          	srl	a5,a5,0x1e
   1791c:	00f484b3          	add	s1,s1,a5
   17920:	0004a783          	lw	a5,0(s1)
			tri_stack[lod].child_transformed = (edge_states[0] < 1.0f) || (edge_states[1] < 1.0f) || (edge_states[2] < 1.0f) || ((lod != 0) && tri_stack[lod - 1].child_transformed);
   17924:	0c010613          	add	a2,sp,192
	stack[j] = entry;
   17928:	040004b7          	lui	s1,0x4000
   1792c:	01af1f1b          	sllw	t5,t5,0x1a
   17930:	fff48493          	add	s1,s1,-1 # 3ffffff <__global_pointer$+0x3fe55af>
   17934:	00cda087          	flw	ft1,12(s11)
   17938:	6f068693          	add	a3,a3,1776
   1793c:	00c686b3          	add	a3,a3,a2
      if (__b < __a)
   17940:	01cda007          	flw	ft0,28(s11)
   17944:	3c000637          	lui	a2,0x3c000
			for(uint32_t i = 0; i < 4; ++i)
   17948:	05012607          	flw	fa2,80(sp)
   1794c:	05412587          	flw	fa1,84(sp)
   17950:	05812507          	flw	fa0,88(sp)
   17954:	00cf7f33          	and	t5,t5,a2
   17958:	009e7e33          	and	t3,t3,s1
			tri_stack[lod].child_transformed = (edge_states[0] < 1.0f) || (edge_states[1] < 1.0f) || (edge_states[2] < 1.0f) || ((lod != 0) && tri_stack[lod - 1].child_transformed);
   1795c:	a9368c23          	sb	s3,-1384(a3)
			uint32_t absolute_first_child_index = lod_node_offset[next_level] + first_child_index;
   17960:	00f282bb          	addw	t0,t0,a5
			for(uint32_t i = 0; i < 4; ++i)
   17964:	00a13423          	sd	a0,8(sp)
   17968:	02b13023          	sd	a1,32(sp)
   1796c:	02613423          	sd	t1,40(sp)
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   17970:	000e8793          	mv	a5,t4
   17974:	00000693          	li	a3,0
			for(uint32_t i = 0; i < 4; ++i)
   17978:	00400b93          	li	s7,4
   1797c:	00038b13          	mv	s6,t2
   17980:	01013023          	sd	a6,0(sp)
   17984:	000e8593          	mv	a1,t4
   17988:	000f0513          	mv	a0,t5
   1798c:	000e0313          	mv	t1,t3
				move_to_stack(node, nodes[absolute_first_child_index + i]);
   17990:	0056843b          	addw	s0,a3,t0
   17994:	02041613          	sll	a2,s0,0x20
   17998:	01b65413          	srl	s0,a2,0x1b
		uint64_t r = ((uint64_t*)&src)[i];
   1799c:	00890433          	add	s0,s2,s0
   179a0:	00043e03          	ld	t3,0(s0)
   179a4:	00843803          	ld	a6,8(s0)
   179a8:	01043603          	ld	a2,16(s0)
	for(uint i = 0; i < sizeof(T) / sizeof(uint64_t); ++i)
   179ac:	000e0393          	mv	t2,t3
   179b0:	00080f13          	mv	t5,a6
   179b4:	00060e93          	mv	t4,a2
   179b8:	020e5e13          	srl	t3,t3,0x20
   179bc:	02085813          	srl	a6,a6,0x20
   179c0:	02065613          	srl	a2,a2,0x20
		uint64_t r = ((uint64_t*)&src)[i];
   179c4:	01843403          	ld	s0,24(s0)
				if(tri_stack[lod].child_transformed)
   179c8:	f00387d3          	fmv.w.x	fa5,t2
   179cc:	f00e0153          	fmv.w.x	ft2,t3
   179d0:	f00f06d3          	fmv.w.x	fa3,t5
   179d4:	f00802d3          	fmv.w.x	ft5,a6
   179d8:	f00e8253          	fmv.w.x	ft4,t4
   179dc:	f00601d3          	fmv.w.x	ft3,a2
   179e0:	2e099c63          	bnez	s3,17cd8 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xd84>
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   179e4:	0977f7d3          	fsub.s	fa5,fa5,fs7
   179e8:	09517153          	fsub.s	ft2,ft2,fs5
   179ec:	0972f2d3          	fsub.s	ft5,ft5,fs7
   179f0:	09527253          	fsub.s	ft4,ft4,fs5
   179f4:	0966f6d3          	fsub.s	fa3,fa3,fs6
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   179f8:	10c7f7d3          	fmul.s	fa5,fa5,fa2
   179fc:	10b17153          	fmul.s	ft2,ft2,fa1
   17a00:	10c2f2d3          	fmul.s	ft5,ft5,fa2
   17a04:	10b27253          	fmul.s	ft4,ft4,fa1
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17a08:	0961f1d3          	fsub.s	ft3,ft3,fs6
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   17a0c:	10a6f6d3          	fmul.s	fa3,fa3,fa0
   17a10:	28578753          	fmin.s	fa4,fa5,ft5
   17a14:	28410353          	fmin.s	ft6,ft2,ft4
	if (tmin > tmax) return ray.t_max;//no hit || behind
   17a18:	285797d3          	fmax.s	fa5,fa5,ft5
   17a1c:	28411153          	fmax.s	ft2,ft2,ft4
   17a20:	10a1f1d3          	fmul.s	ft3,ft3,fa0
	float tmin = std::max(std::max(tminv.x, tminv.y), std::max(tminv.z, ray.t_min));
   17a24:	28671753          	fmax.s	fa4,fa4,ft6
	if (tmin > tmax) return ray.t_max;//no hit || behind
   17a28:	282787d3          	fmin.s	fa5,fa5,ft2
   17a2c:	28171753          	fmax.s	fa4,fa4,ft1
   17a30:	28368153          	fmin.s	ft2,fa3,ft3
   17a34:	280787d3          	fmin.s	fa5,fa5,ft0
   17a38:	283696d3          	fmax.s	fa3,fa3,ft3
   17a3c:	28271753          	fmax.s	fa4,fa4,ft2
   17a40:	28d787d3          	fmin.s	fa5,fa5,fa3
   17a44:	a0e79653          	flt.s	a2,fa5,fa4
   17a48:	00060463          	beqz	a2,17a50 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xafc>
   17a4c:	20000753          	fmv.s	fa4,ft0
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++, temp_node_stack_size);
   17a50:	a1a71653          	flt.s	a2,fa4,fs10
   17a54:	02061863          	bnez	a2,17a84 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xb30>
			for(uint32_t i = 0; i < 4; ++i)
   17a58:	00168693          	add	a3,a3,1
   17a5c:	f3769ae3          	bne	a3,s7,17990 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xa3c>
   17a60:	00013803          	ld	a6,0(sp)
   17a64:	00813503          	ld	a0,8(sp)
   17a68:	02013583          	ld	a1,32(sp)
   17a6c:	02813303          	ld	t1,40(sp)
   17a70:	000b0393          	mv	t2,s6
   17a74:	00078893          	mv	a7,a5
	} while(node_stack_size);
   17a78:	20088e63          	beqz	a7,17c94 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xd40>
		if(current_entry.t >= hit.t) continue;
   17a7c:	0005ad07          	flw	fs10,0(a1)
   17a80:	8a9ff06f          	j	17328 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x3d4>
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++, temp_node_stack_size);
   17a84:	00178e1b          	addw	t3,a5,1
	for(; j != min; --j)
   17a88:	02f59263          	bne	a1,a5,17aac <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xb58>
   17a8c:	7b80006f          	j	18244 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x12f0>
		stack[j] = stack[j - 1];
   17a90:	00062e83          	lw	t4,0(a2) # 3c000000 <__global_pointer$+0x3bfe55b0>
   17a94:	01d82023          	sw	t4,0(a6)
   17a98:	00462e83          	lw	t4,4(a2)
   17a9c:	01d82223          	sw	t4,4(a6)
   17aa0:	00862e83          	lw	t4,8(a2)
   17aa4:	01d82423          	sw	t4,8(a6)
	for(; j != min; --j)
   17aa8:	57e88663          	beq	a7,t5,18014 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x10c0>
		if(stack[j - 1].t >= entry.t) break;
   17aac:	fff78e9b          	addw	t4,a5,-1
   17ab0:	020e9813          	sll	a6,t4,0x20
   17ab4:	02085813          	srl	a6,a6,0x20
   17ab8:	00181613          	sll	a2,a6,0x1
   17abc:	01060633          	add	a2,a2,a6
   17ac0:	00261613          	sll	a2,a2,0x2
   17ac4:	0e010813          	add	a6,sp,224
   17ac8:	00c80633          	add	a2,a6,a2
   17acc:	00062787          	flw	fa5,0(a2)
   17ad0:	00078f1b          	sext.w	t5,a5
		stack[j] = stack[j - 1];
   17ad4:	020f1793          	sll	a5,t5,0x20
   17ad8:	0207d793          	srl	a5,a5,0x20
   17adc:	00179813          	sll	a6,a5,0x1
		if(stack[j - 1].t >= entry.t) break;
   17ae0:	a0f703d3          	fle.s	t2,fa4,fa5
		stack[j] = stack[j - 1];
   17ae4:	00f80833          	add	a6,a6,a5
   17ae8:	00281813          	sll	a6,a6,0x2
   17aec:	0e010793          	add	a5,sp,224
   17af0:	01078833          	add	a6,a5,a6
		if(stack[j - 1].t >= entry.t) break;
   17af4:	000e879b          	sext.w	a5,t4
   17af8:	f8038ce3          	beqz	t2,17a90 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xb3c>
	stack[j] = entry;
   17afc:	0096f7b3          	and	a5,a3,s1
   17b00:	006787bb          	addw	a5,a5,t1
   17b04:	0097f7b3          	and	a5,a5,s1
   17b08:	00f567b3          	or	a5,a0,a5
   17b0c:	01e6961b          	sllw	a2,a3,0x1e
   17b10:	00c7e7b3          	or	a5,a5,a2
   17b14:	00f82223          	sw	a5,4(a6)
   17b18:	00e82027          	fsw	fa4,0(a6)
   17b1c:	00882423          	sw	s0,8(a6)
   17b20:	000e0793          	mv	a5,t3
}
   17b24:	f35ff06f          	j	17a58 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xb04>
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17b28:	086076d3          	fsub.s	fa3,ft0,ft6
   17b2c:	09127753          	fsub.s	fa4,ft4,fa7
   17b30:	090175d3          	fsub.s	fa1,ft2,fa6
   17b34:	0860f2d3          	fsub.s	ft5,ft1,ft6
   17b38:	0841fe53          	fsub.s	ft8,ft3,ft4
   17b3c:	0838fed3          	fsub.s	ft9,fa7,ft3
   17b40:	0911f653          	fsub.s	fa2,ft3,fa7
	return vec3(a[1] * b[2] - a[2] * b[1],
   17b44:	10b6f3d3          	fmul.s	ft7,fa3,fa1
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17b48:	090571d3          	fsub.s	ft3,fa0,fa6
		(-(a[0] * b[2] - a[2] * b[0])),
   17b4c:	10577253          	fmul.s	ft4,fa4,ft5
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17b50:	0800f053          	fsub.s	ft0,ft1,ft0
   17b54:	08137353          	fsub.s	ft6,ft6,ft1
		(-(a[0] * b[2] - a[2] * b[0])),
   17b58:	11cf70d3          	fmul.s	ft1,ft10,ft8
	return vec3(a[1] * b[2] - a[2] * b[1],
   17b5c:	3851f2c7          	fmsub.s	ft5,ft3,ft5,ft7
   17b60:	20c6f8c7          	fmsub.s	fa7,fa3,fa2,ft4
   17b64:	00012387          	flw	ft7,0(sp)
		a[0] * b[1] - a[1] * b[0]);
   17b68:	10c1f653          	fmul.s	fa2,ft3,fa2
		(-(a[0] * b[2] - a[2] * b[0])),
   17b6c:	11d4f253          	fmul.s	ft4,fs1,ft9
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17b70:	08a17553          	fsub.s	fa0,ft2,fa0
   17b74:	08287853          	fsub.s	fa6,fa6,ft2
	return vec3(a[1] * b[2] - a[2] * b[1],
   17b78:	0803f0c7          	fmsub.s	ft1,ft7,ft0,ft1
   17b7c:	10047153          	fmul.s	ft2,fs0,ft0
   17b80:	00812387          	flw	ft7,8(sp)
   17b84:	00512e27          	fsw	ft5,28(sp)
   17b88:	01412007          	flw	ft0,20(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17b8c:	111a72d3          	fmul.s	ft5,fs4,fa7
		(-(a[0] * b[2] - a[2] * b[0])),
   17b90:	10eff9d3          	fmul.s	fs3,ft11,fa4
	return vec3(a[1] * b[2] - a[2] * b[1],
   17b94:	60b77647          	fmsub.s	fa2,fa4,fa1,fa2
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17b98:	01c12587          	flw	fa1,28(sp)
	return vec3(a[1] * b[2] - a[2] * b[1],
   17b9c:	10607053          	fmul.s	ft0,ft0,ft6
   17ba0:	2063f347          	fmsub.s	ft6,ft7,ft6,ft4
   17ba4:	01812207          	flw	ft4,24(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17ba8:	28bcf2c3          	fmadd.s	ft5,fs9,fa1,ft5
		a[0] * b[1] - a[1] * b[0]);
   17bac:	00012587          	flw	fa1,0(sp)
	return vec3(a[1] * b[2] - a[2] * b[1],
   17bb0:	10d273d3          	fmul.s	ft7,ft4,fa3
   17bb4:	98dc76c7          	fmsub.s	fa3,fs8,fa3,fs3
   17bb8:	10af7f47          	fmsub.s	ft10,ft10,fa0,ft2
		a[0] * b[1] - a[1] * b[0]);
   17bbc:	10a5f553          	fmul.s	fa0,fa1,fa0
   17bc0:	00812587          	flw	fa1,8(sp)
	return vec3(a[1] * b[2] - a[2] * b[1],
   17bc4:	0104f4c7          	fmsub.s	fs1,fs1,fa6,ft0
   17bc8:	383ff3c7          	fmsub.s	ft7,ft11,ft3,ft7
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17bcc:	10da76d3          	fmul.s	fa3,fs4,fa3
   17bd0:	101a70d3          	fmul.s	ft1,fs4,ft1
		a[0] * b[1] - a[1] * b[0]);
   17bd4:	1105f853          	fmul.s	fa6,fa1,fa6
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17bd8:	106a7353          	fmul.s	ft6,fs4,ft6
		a[0] * b[1] - a[1] * b[0]);
   17bdc:	103c71d3          	fmul.s	ft3,fs8,ft3
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17be0:	28c972c3          	fmadd.s	ft5,fs2,fa2,ft5
	return vec3(a[1] * b[2] - a[2] * b[1],
   17be4:	01412007          	flw	ft0,20(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17be8:	687cf3c3          	fmadd.s	ft7,fs9,ft7,fa3
	return vec3(a[1] * b[2] - a[2] * b[1],
   17bec:	51c47447          	fmsub.s	fs0,fs0,ft8,fa0
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17bf0:	09ecff43          	fmadd.s	ft10,fs9,ft10,ft1
	return vec3(a[1] * b[2] - a[2] * b[1],
   17bf4:	81d07847          	fmsub.s	fa6,ft0,ft9,fa6
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17bf8:	309cf343          	fmadd.s	ft6,fs9,fs1,ft6
	return vec3(a[1] * b[2] - a[2] * b[1],
   17bfc:	18e27747          	fmsub.s	fa4,ft4,fa4,ft3
	if(gn_dot_d > 0.0f) bc = -bc;
   17c00:	a05797d3          	flt.s	a5,fa5,ft5
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17c04:	f0897f43          	fmadd.s	ft10,fs2,fs0,ft10
   17c08:	310976c3          	fmadd.s	fa3,fs2,fa6,ft6
   17c0c:	38e97743          	fmadd.s	fa4,fs2,fa4,ft7
   17c10:	00078863          	beqz	a5,17c20 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xccc>
	inline vec3 operator-() const { return vec3(-e[0], -e[1], -e[2]); }
   17c14:	21ef1f53          	fneg.s	ft10,ft10
   17c18:	20d696d3          	fneg.s	fa3,fa3
   17c1c:	20e71753          	fneg.s	fa4,fa4
	if(bc[0] < 0.0f || bc[1] < 0.0f || bc[2] < 0.0f) return false;
   17c20:	f00007d3          	fmv.w.x	fa5,zero
   17c24:	a0ff17d3          	flt.s	a5,ft10,fa5
   17c28:	06079263          	bnez	a5,17c8c <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xd38>
   17c2c:	a0f697d3          	flt.s	a5,fa3,fa5
   17c30:	04079e63          	bnez	a5,17c8c <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xd38>
   17c34:	a0f717d3          	flt.s	a5,fa4,fa5
   17c38:	04079a63          	bnez	a5,17c8c <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xd38>
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17c3c:	01812787          	flw	fa5,24(sp)
   17c40:	01c12587          	flw	fa1,28(sp)
   17c44:	1117f7d3          	fmul.s	fa5,fa5,fa7
   17c48:	78bc77c3          	fmadd.s	fa5,fs8,fa1,fa5
   17c4c:	78cff7c3          	fmadd.s	fa5,ft11,fa2,fa5
	if(t < ray.t_min || t > hit.t) return false;
   17c50:	05c12607          	flw	fa2,92(sp)
	float t = rtm::dot(gn, tri.vrts[0] - ray.o) / gn_dot_d;
   17c54:	1857f7d3          	fdiv.s	fa5,fa5,ft5
	if(t < ray.t_min || t > hit.t) return false;
   17c58:	a0c797d3          	flt.s	a5,fa5,fa2
   17c5c:	02079863          	bnez	a5,17c8c <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xd38>
   17c60:	a0fd17d3          	flt.s	a5,fs10,fa5
   17c64:	02079463          	bnez	a5,17c8c <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xd38>
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   17c68:	00df7653          	fadd.s	fa2,ft10,fa3
	hit.t = t ;
   17c6c:	00f5a027          	fsw	fa5,0(a1)
				hit.id = node_index;
   17c70:	01c5a623          	sw	t3,12(a1)
		uint32_t lod = current_entry.lod;
   17c74:	00040513          	mv	a0,s0
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   17c78:	00e677d3          	fadd.s	fa5,fa2,fa4
	return vec2(a.e[0] / b.e[0], a.e[1] / b.e[1]);
   17c7c:	18ff7f53          	fdiv.s	ft10,ft10,fa5
   17c80:	18f6f6d3          	fdiv.s	fa3,fa3,fa5
	e[0] = v[0];
   17c84:	01e5a227          	fsw	ft10,4(a1)
	e[1] = v[1];
   17c88:	00d5a427          	fsw	fa3,8(a1)
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   17c8c:	000e8893          	mv	a7,t4
	} while(node_stack_size);
   17c90:	de0896e3          	bnez	a7,17a7c <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xb28>
	if(hit_lod != ~0u)
   17c94:	fff00793          	li	a5,-1
   17c98:	06813703          	ld	a4,104(sp)
   17c9c:	07013603          	ld	a2,112(sp)
   17ca0:	4ef50e63          	beq	a0,a5,1819c <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1248>
		hit.id += header.id_offset;
   17ca4:	00c5a783          	lw	a5,12(a1)
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   17ca8:	02070713          	add	a4,a4,32
   17cac:	00c787bb          	addw	a5,a5,a2
   17cb0:	00f5a623          	sw	a5,12(a1)
   17cb4:	09813783          	ld	a5,152(sp)
   17cb8:	72f70a63          	beq	a4,a5,183ec <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1498>
				found_hit |= intersect(current_entry.data.fst_chld_ind + i, mesh, ray, hit);
   17cbc:	00100793          	li	a5,1
   17cc0:	0af13023          	sd	a5,160(sp)
   17cc4:	00cda787          	flw	fa5,12(s11)
		if(current_entry.t >= hit.t) continue;
   17cc8:	0005ac87          	flw	fs9,0(a1)
   17ccc:	20f78753          	fmv.s	fa4,fa5
   17cd0:	01cda787          	flw	fa5,28(s11)
   17cd4:	cf4ff06f          	j	171c8 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x274>
	if(tri_type == 0) return Triangle(prnt_tri.vrts[0], cntr_tri.vrts[2], cntr_tri.vrts[1]);
   17cd8:	34069263          	bnez	a3,1801c <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x10c8>
	inline float operator[](int i) const { return e[i]; }
   17cdc:	00072287          	flw	ft5,0(a4)
   17ce0:	00472387          	flw	ft7,4(a4)
   17ce4:	00872307          	flw	ft6,8(a4)
	e[2] = v[2];
   17ce8:	03812707          	flw	fa4,56(sp)
	e[1] = v[1];
   17cec:	03412187          	flw	ft3,52(sp)
	e[0] = v[0];
   17cf0:	03012207          	flw	ft4,48(sp)
	e[2] = v[2];
   17cf4:	01c12887          	flw	fa7,28(sp)
	e[1] = v[1];
   17cf8:	01812e07          	flw	ft8,24(sp)
	e[0] = v[0];
   17cfc:	01412807          	flw	fa6,20(sp)
	return vec3(std::min(a[0], b[0]), std::min(a[1], b[1]), std::min(a[2], b[2]));
   17d00:	285207d3          	fmin.s	fa5,ft4,ft5
   17d04:	29c18153          	fmin.s	ft2,ft3,ft8
   17d08:	291706d3          	fmin.s	fa3,fa4,fa7
   17d0c:	285212d3          	fmax.s	ft5,ft4,ft5
   17d10:	29c19253          	fmax.s	ft4,ft3,ft8
   17d14:	291711d3          	fmax.s	ft3,fa4,fa7
   17d18:	f0038753          	fmv.w.x	fa4,t2
   17d1c:	28e787d3          	fmin.s	fa5,fa5,fa4
   17d20:	f00e0753          	fmv.w.x	fa4,t3
   17d24:	290787d3          	fmin.s	fa5,fa5,fa6
   17d28:	28e10153          	fmin.s	ft2,ft2,fa4
   17d2c:	f00f0753          	fmv.w.x	fa4,t5
   17d30:	28710153          	fmin.s	ft2,ft2,ft7
   17d34:	28e686d3          	fmin.s	fa3,fa3,fa4
   17d38:	f0080753          	fmv.w.x	fa4,a6
   17d3c:	286686d3          	fmin.s	fa3,fa3,ft6
	return vec3(std::max(a[0], b[0]), std::max(a[1], b[1]), std::max(a[2], b[2]));
   17d40:	28e292d3          	fmax.s	ft5,ft5,fa4
   17d44:	f00e8753          	fmv.w.x	fa4,t4
   17d48:	290292d3          	fmax.s	ft5,ft5,fa6
   17d4c:	28e21253          	fmax.s	ft4,ft4,fa4
   17d50:	f0060753          	fmv.w.x	fa4,a2
   17d54:	28721253          	fmax.s	ft4,ft4,ft7
   17d58:	28e191d3          	fmax.s	ft3,ft3,fa4
   17d5c:	286191d3          	fmax.s	ft3,ft3,ft6
					for(uint32_t j = 0; j < 3; ++j)
   17d60:	c85ff06f          	j	179e4 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xa90>
	e[1] = v[1];
   17d64:	20210c53          	fmv.s	fs8,ft2
   17d68:	20000753          	fmv.s	fa4,ft0
   17d6c:	20318853          	fmv.s	fa6,ft3
	inline float operator[](int i) const { return e[i]; }
   17d70:	00072007          	flw	ft0,0(a4)
   17d74:	00472587          	flw	fa1,4(a4)
   17d78:	00872787          	flw	fa5,8(a4)
	e[2] = v[2];
   17d7c:	20108fd3          	fmv.s	ft11,ft1
	e[0] = v[0];
   17d80:	20d681d3          	fmv.s	ft3,fa3
	e[1] = v[1];
   17d84:	20a50153          	fmv.s	ft2,fa0
	if(gn_dot_d > 0.0f) bc = -bc;
   17d88:	f0000453          	fmv.w.x	fs0,zero
   17d8c:	218c08d3          	fmv.s	fa7,fs8
   17d90:	217b8d53          	fmv.s	fs10,fs7
   17d94:	215a84d3          	fmv.s	fs1,fs5
			for(uint32_t i = 0; i < 4; ++i)
   17d98:	00000793          	li	a5,0
   17d9c:	00400613          	li	a2,4
	else if(tri_type == 1) return Triangle(cntr_tri.vrts[2], prnt_tri.vrts[1], cntr_tri.vrts[0]);
   17da0:	00100893          	li	a7,1
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17da4:	080876d3          	fsub.s	fa3,fa6,ft0
   17da8:	08fffed3          	fsub.s	ft9,ft11,fa5
   17dac:	08f770d3          	fsub.s	ft1,fa4,fa5
   17db0:	0801f253          	fsub.s	ft4,ft3,ft0
   17db4:	08b8fbd3          	fsub.s	fs7,fa7,fa1
   17db8:	0901f653          	fsub.s	fa2,ft3,fa6
		(-(a[0] * b[2] - a[2] * b[0])),
   17dbc:	11d6f3d3          	fmul.s	ft7,fa3,ft9
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17dc0:	08b172d3          	fsub.s	ft5,ft2,fa1
   17dc4:	08917f53          	fsub.s	ft10,ft2,fs1
	return vec3(a[1] * b[2] - a[2] * b[1],
   17dc8:	1170f353          	fmul.s	ft6,ft1,fs7
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17dcc:	00c12027          	fsw	fa2,0(sp)
	return vec3(a[1] * b[2] - a[2] * b[1],
   17dd0:	3840f3c7          	fmsub.s	ft7,ft1,ft4,ft7
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17dd4:	09a87653          	fsub.s	fa2,fa6,fs10
   17dd8:	08307553          	fsub.s	fa0,ft0,ft3
   17ddc:	09677ad3          	fsub.s	fs5,fa4,fs6
   17de0:	096ff9d3          	fsub.s	fs3,ft11,fs6
   17de4:	0967fe53          	fsub.s	ft8,fa5,fs6
   17de8:	08eff753          	fsub.s	fa4,ft11,fa4
	return vec3(a[1] * b[2] - a[2] * b[1],
   17dec:	00712427          	fsw	ft7,8(sp)
		(-(a[0] * b[2] - a[2] * b[0])),
   17df0:	00012387          	flw	ft7,0(sp)
	return vec3(a[1] * b[2] - a[2] * b[1],
   17df4:	31d2fec7          	fmsub.s	ft9,ft5,ft9,ft6
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17df8:	02c12027          	fsw	fa2,32(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17dfc:	00812307          	flw	ft6,8(sp)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17e00:	21ef0653          	fmv.s	fa2,ft10
   17e04:	09f7f7d3          	fsub.s	fa5,fa5,ft11
   17e08:	09a1f1d3          	fsub.s	ft3,ft3,fs10
   17e0c:	0898ffd3          	fsub.s	ft11,fa7,fs1
   17e10:	0895ff53          	fsub.s	ft10,fa1,fs1
		(-(a[0] * b[2] - a[2] * b[0])),
   17e14:	11357c53          	fmul.s	fs8,fa0,fs3
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17e18:	09a07053          	fsub.s	ft0,ft0,fs10
		(-(a[0] * b[2] - a[2] * b[0])),
   17e1c:	1153f3d3          	fmul.s	ft7,ft7,fs5
   17e20:	11c6f853          	fmul.s	fa6,fa3,ft8
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   17e24:	0828f153          	fsub.s	ft2,fa7,ft2
   17e28:	0915f5d3          	fsub.s	fa1,fa1,fa7
		a[0] * b[1] - a[1] * b[0]);
   17e2c:	1042f253          	fmul.s	ft4,ft5,ft4
	return vec3(a[1] * b[2] - a[2] * b[1],
   17e30:	10c778d3          	fmul.s	fa7,fa4,fa2
   17e34:	02c12427          	fsw	fa2,40(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17e38:	106a7353          	fmul.s	ft6,fs4,ft6
	return vec3(a[1] * b[2] - a[2] * b[1],
   17e3c:	02012607          	flw	fa2,32(sp)
   17e40:	2176f247          	fmsub.s	ft4,fa3,fs7,ft4
   17e44:	895178c7          	fmsub.s	fa7,ft2,fs5,fa7
   17e48:	38c77747          	fmsub.s	fa4,fa4,fa2,ft7
   17e4c:	11f7f3d3          	fmul.s	ft7,fa5,ft11
   17e50:	c037f7c7          	fmsub.s	fa5,fa5,ft3,fs8
   17e54:	11e0fc53          	fmul.s	fs8,ft1,ft10
   17e58:	8000f0c7          	fmsub.s	ft1,ft1,ft0,fa6
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17e5c:	31dcf343          	fmadd.s	ft6,fs9,ft9,ft6
		a[0] * b[1] - a[1] * b[0]);
   17e60:	10c17153          	fmul.s	ft2,ft2,fa2
	return vec3(a[1] * b[2] - a[2] * b[1],
   17e64:	3935f3c7          	fmsub.s	ft7,fa1,fs3,ft7
   17e68:	c1c2fc47          	fmsub.s	fs8,ft5,ft8,fs8
		a[0] * b[1] - a[1] * b[0]);
   17e6c:	1035f5d3          	fmul.s	fa1,fa1,ft3
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17e70:	10ea7753          	fmul.s	fa4,fs4,fa4
   17e74:	10fa77d3          	fmul.s	fa5,fs4,fa5
		a[0] * b[1] - a[1] * b[0]);
   17e78:	1002f2d3          	fmul.s	ft5,ft5,ft0
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17e7c:	101a70d3          	fmul.s	ft1,fs4,ft1
   17e80:	30497343          	fmadd.s	ft6,fs2,ft4,ft6
	return vec3(a[1] * b[2] - a[2] * b[1],
   17e84:	02812187          	flw	ft3,40(sp)
   17e88:	00012607          	flw	fa2,0(sp)
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17e8c:	711cf8c3          	fmadd.s	fa7,fs9,fa7,fa4
	return vec3(a[1] * b[2] - a[2] * b[1],
   17e90:	59f57547          	fmsub.s	fa0,fa0,ft11,fa1
   17e94:	10367647          	fmsub.s	fa2,fa2,ft3,ft2
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17e98:	787cf3c3          	fmadd.s	ft7,fs9,ft7,fa5
	return vec3(a[1] * b[2] - a[2] * b[1],
   17e9c:	29e6f6c7          	fmsub.s	fa3,fa3,ft10,ft5
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17ea0:	098cfc43          	fmadd.s	fs8,fs9,fs8,ft1
   17ea4:	a06416d3          	flt.s	a3,fs0,ft6
   17ea8:	88c97643          	fmadd.s	fa2,fs2,fa2,fa7
   17eac:	38a97543          	fmadd.s	fa0,fs2,fa0,ft7
   17eb0:	c0d976c3          	fmadd.s	fa3,fs2,fa3,fs8
   17eb4:	00068863          	beqz	a3,17ec4 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xf70>
	inline vec3 operator-() const { return vec3(-e[0], -e[1], -e[2]); }
   17eb8:	20c61653          	fneg.s	fa2,fa2
   17ebc:	20a51553          	fneg.s	fa0,fa0
   17ec0:	20d696d3          	fneg.s	fa3,fa3
	if(bc[0] < 0.0f || bc[1] < 0.0f || bc[2] < 0.0f) return false;
   17ec4:	a08616d3          	flt.s	a3,fa2,fs0
   17ec8:	06069463          	bnez	a3,17f30 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xfdc>
   17ecc:	a08516d3          	flt.s	a3,fa0,fs0
   17ed0:	06069063          	bnez	a3,17f30 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xfdc>
   17ed4:	a08696d3          	flt.s	a3,fa3,fs0
   17ed8:	04069c63          	bnez	a3,17f30 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xfdc>
	return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
   17edc:	00812787          	flw	fa5,8(sp)
   17ee0:	10ff7f53          	fmul.s	ft10,ft10,fa5
	if(t < ray.t_min || t > hit.t) return false;
   17ee4:	05c12787          	flw	fa5,92(sp)
   17ee8:	f1d07043          	fmadd.s	ft0,ft0,ft9,ft10
   17eec:	004e7e43          	fmadd.s	ft8,ft8,ft4,ft0
	float t = rtm::dot(gn, tri.vrts[0] - ray.o) / gn_dot_d;
   17ef0:	186e7e53          	fdiv.s	ft8,ft8,ft6
	if(t < ray.t_min || t > hit.t) return false;
   17ef4:	a0fe16d3          	flt.s	a3,ft8,fa5
   17ef8:	02069c63          	bnez	a3,17f30 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xfdc>
   17efc:	0005a787          	flw	fa5,0(a1)
   17f00:	a1c796d3          	flt.s	a3,fa5,ft8
   17f04:	02069663          	bnez	a3,17f30 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xfdc>
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   17f08:	00a677d3          	fadd.s	fa5,fa2,fa0
					hit.id = first_child_index + i;
   17f0c:	00fe06bb          	addw	a3,t3,a5
	hit.t = t ;
   17f10:	01c5a027          	fsw	ft8,0(a1)
   17f14:	00d5a623          	sw	a3,12(a1)
   17f18:	000f0513          	mv	a0,t5
	hit.bc = rtm::vec2(bc.x, bc.y) / (bc[0] + bc[1] + bc[2]);
   17f1c:	00d7f7d3          	fadd.s	fa5,fa5,fa3
	return vec2(a.e[0] / b.e[0], a.e[1] / b.e[1]);
   17f20:	18f67653          	fdiv.s	fa2,fa2,fa5
   17f24:	18f57553          	fdiv.s	fa0,fa0,fa5
	e[0] = v[0];
   17f28:	00c5a227          	fsw	fa2,4(a1)
	e[1] = v[1];
   17f2c:	00a5a427          	fsw	fa0,8(a1)
			for(uint32_t i = 0; i < 4; ++i)
   17f30:	0017879b          	addw	a5,a5,1
   17f34:	14c78c63          	beq	a5,a2,1808c <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1138>
   17f38:	17178463          	beq	a5,a7,180a0 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x114c>
	else if(tri_type == 2) return Triangle(cntr_tri.vrts[1], cntr_tri.vrts[0], prnt_tri.vrts[2]);
   17f3c:	00200693          	li	a3,2
   17f40:	18d78463          	beq	a5,a3,180c8 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1174>
	e[2] = v[2];
   17f44:	01c12f87          	flw	ft11,28(sp)
	e[1] = v[1];
   17f48:	01812887          	flw	fa7,24(sp)
	e[0] = v[0];
   17f4c:	01412187          	flw	ft3,20(sp)
	e[2] = v[2];
   17f50:	03812707          	flw	fa4,56(sp)
	e[1] = v[1];
   17f54:	03412107          	flw	ft2,52(sp)
	e[0] = v[0];
   17f58:	03012807          	flw	fa6,48(sp)
	e[2] = v[2];
   17f5c:	04412787          	flw	fa5,68(sp)
	e[1] = v[1];
   17f60:	04012587          	flw	fa1,64(sp)
	e[0] = v[0];
   17f64:	03c12007          	flw	ft0,60(sp)
	}
   17f68:	00300793          	li	a5,3
   17f6c:	e39ff06f          	j	17da4 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xe50>
		else         tri_stack[lod].tri = reconstruct_triangle(tri_stack[lod - 1u].tri, tri_stack[lod - 1u].new_center_tri, tri_type);
   17f70:	fff4061b          	addw	a2,s0,-1
   17f74:	02061613          	sll	a2,a2,0x20
   17f78:	02065613          	srl	a2,a2,0x20
   17f7c:	02560633          	mul	a2,a2,t0
   17f80:	20010993          	add	s3,sp,512
		uint32_t tri_type = current_entry.tri_type;
   17f84:	0006849b          	sext.w	s1,a3
		else         tri_stack[lod].tri = reconstruct_triangle(tri_stack[lod - 1u].tri, tri_stack[lod - 1u].new_center_tri, tri_type);
   17f88:	02460293          	add	t0,a2,36
   17f8c:	005982b3          	add	t0,s3,t0
   17f90:	00c98633          	add	a2,s3,a2
	if(tri_type == 0) return Triangle(prnt_tri.vrts[0], cntr_tri.vrts[2], cntr_tri.vrts[1]);
   17f94:	0c069063          	bnez	a3,18054 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1100>
	inline float operator[](int i) const { return e[i]; }
   17f98:	00062887          	flw	fa7,0(a2)
   17f9c:	00462807          	flw	fa6,4(a2)
   17fa0:	00862307          	flw	ft6,8(a2)
   17fa4:	0182a207          	flw	ft4,24(t0)
   17fa8:	01c2a507          	flw	fa0,28(t0)
   17fac:	0202a007          	flw	ft0,32(t0)
   17fb0:	00c2a187          	flw	ft3,12(t0)
   17fb4:	0102a107          	flw	ft2,16(t0)
   17fb8:	0142a087          	flw	ft1,20(t0)
	e[0] = v[0];
   17fbc:	01172027          	fsw	fa7,0(a4)
	e[1] = v[1];
   17fc0:	01072227          	fsw	fa6,4(a4)
	e[2] = v[2];
   17fc4:	00672427          	fsw	ft6,8(a4)
	e[0] = v[0];
   17fc8:	00472627          	fsw	ft4,12(a4)
	e[1] = v[1];
   17fcc:	00a72827          	fsw	fa0,16(a4)
	e[2] = v[2];
   17fd0:	00072a27          	fsw	ft0,20(a4)
	e[0] = v[0];
   17fd4:	00372c27          	fsw	ft3,24(a4)
	e[1] = v[1];
   17fd8:	00272e27          	fsw	ft2,28(a4)
	e[2] = v[2];
   17fdc:	02172027          	fsw	ft1,32(a4)
class Triangle
   17fe0:	c44ff06f          	j	17424 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x4d0>
	return (u & (1 << 23)) ? 1.0 : as_f32(u | 0x3f800000) * 2.0f - 3.0f;
   17fe4:	0001a637          	lui	a2,0x1a
   17fe8:	25862687          	flw	fa3,600(a2) # 1a258 <__DATA_BEGIN__+0x8>
   17fec:	e9cff06f          	j	17688 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x734>
   17ff0:	0001a637          	lui	a2,0x1a
   17ff4:	25862787          	flw	fa5,600(a2) # 1a258 <__DATA_BEGIN__+0x8>
   17ff8:	e5cff06f          	j	17654 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x700>
   17ffc:	0001a2b7          	lui	t0,0x1a
   18000:	2582a587          	flw	fa1,600(t0) # 1a258 <__DATA_BEGIN__+0x8>
   18004:	e14ff06f          	j	17618 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x6c4>
   18008:	0001a2b7          	lui	t0,0x1a
   1800c:	2582a387          	flw	ft7,600(t0) # 1a258 <__DATA_BEGIN__+0x8>
   18010:	dd4ff06f          	j	175e4 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x690>
   18014:	00060813          	mv	a6,a2
   18018:	ae5ff06f          	j	17afc <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xba8>
	else if(tri_type == 1) return Triangle(cntr_tri.vrts[2], prnt_tri.vrts[1], cntr_tri.vrts[0]);
   1801c:	00100c93          	li	s9,1
   18020:	0d968863          	beq	a3,s9,180f0 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x119c>
	else if(tri_type == 2) return Triangle(cntr_tri.vrts[1], cntr_tri.vrts[0], prnt_tri.vrts[2]);
   18024:	00200c93          	li	s9,2
   18028:	11968c63          	beq	a3,s9,18140 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x11ec>
   1802c:	01c12707          	flw	fa4,28(sp)
	e[1] = v[1];
   18030:	01812187          	flw	ft3,24(sp)
	e[0] = v[0];
   18034:	01412207          	flw	ft4,20(sp)
	e[2] = v[2];
   18038:	03812887          	flw	fa7,56(sp)
	e[1] = v[1];
   1803c:	03412e07          	flw	ft8,52(sp)
	e[0] = v[0];
   18040:	03012807          	flw	fa6,48(sp)
	e[2] = v[2];
   18044:	04412307          	flw	ft6,68(sp)
	e[1] = v[1];
   18048:	04012387          	flw	ft7,64(sp)
	e[0] = v[0];
   1804c:	03c12287          	flw	ft5,60(sp)
   18050:	cb1ff06f          	j	17d00 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xdac>
	else if(tri_type == 1) return Triangle(cntr_tri.vrts[2], prnt_tri.vrts[1], cntr_tri.vrts[0]);
   18054:	00100693          	li	a3,1
	inline float operator[](int i) const { return e[i]; }
   18058:	0002a887          	flw	fa7,0(t0)
   1805c:	0042a807          	flw	fa6,4(t0)
   18060:	0082a307          	flw	ft6,8(t0)
   18064:	0ad48a63          	beq	s1,a3,18118 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x11c4>
	else if(tri_type == 2) return Triangle(cntr_tri.vrts[1], cntr_tri.vrts[0], prnt_tri.vrts[2]);
   18068:	00200693          	li	a3,2
   1806c:	00c2a207          	flw	ft4,12(t0)
   18070:	0102a507          	flw	fa0,16(t0)
   18074:	0142a007          	flw	ft0,20(t0)
   18078:	0ed48863          	beq	s1,a3,18168 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1214>
   1807c:	0182a187          	flw	ft3,24(t0)
   18080:	01c2a107          	flw	ft2,28(t0)
   18084:	0202a087          	flw	ft1,32(t0)
	}
   18088:	f35ff06f          	j	17fbc <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1068>
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   1808c:	000e8793          	mv	a5,t4
   18090:	21ad0bd3          	fmv.s	fs7,fs10
   18094:	20948ad3          	fmv.s	fs5,fs1
   18098:	00078893          	mv	a7,a5
   1809c:	9ddff06f          	j	17a78 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xb24>
   180a0:	00c72807          	flw	fa6,12(a4)
   180a4:	01072107          	flw	ft2,16(a4)
   180a8:	01472707          	flw	fa4,20(a4)
	e[2] = v[2];
   180ac:	04412f87          	flw	ft11,68(sp)
	e[1] = v[1];
   180b0:	04012887          	flw	fa7,64(sp)
	e[0] = v[0];
   180b4:	03c12187          	flw	ft3,60(sp)
	e[2] = v[2];
   180b8:	01c12787          	flw	fa5,28(sp)
	e[1] = v[1];
   180bc:	01812587          	flw	fa1,24(sp)
	e[0] = v[0];
   180c0:	01412007          	flw	ft0,20(sp)
   180c4:	ce1ff06f          	j	17da4 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xe50>
	inline float operator[](int i) const { return e[i]; }
   180c8:	01872187          	flw	ft3,24(a4)
   180cc:	01c72887          	flw	fa7,28(a4)
   180d0:	02072f87          	flw	ft11,32(a4)
	e[2] = v[2];
   180d4:	04412707          	flw	fa4,68(sp)
	e[1] = v[1];
   180d8:	04012107          	flw	ft2,64(sp)
	e[0] = v[0];
   180dc:	03c12807          	flw	fa6,60(sp)
	e[2] = v[2];
   180e0:	03812787          	flw	fa5,56(sp)
	e[1] = v[1];
   180e4:	03412587          	flw	fa1,52(sp)
	e[0] = v[0];
   180e8:	03012007          	flw	ft0,48(sp)
   180ec:	cb9ff06f          	j	17da4 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xe50>
	inline float operator[](int i) const { return e[i]; }
   180f0:	00c72807          	flw	fa6,12(a4)
   180f4:	01072e07          	flw	ft8,16(a4)
   180f8:	01472887          	flw	fa7,20(a4)
	e[2] = v[2];
   180fc:	04412707          	flw	fa4,68(sp)
	e[1] = v[1];
   18100:	04012187          	flw	ft3,64(sp)
	e[0] = v[0];
   18104:	03c12207          	flw	ft4,60(sp)
	e[2] = v[2];
   18108:	01c12307          	flw	ft6,28(sp)
	e[1] = v[1];
   1810c:	01812387          	flw	ft7,24(sp)
	e[0] = v[0];
   18110:	01412287          	flw	ft5,20(sp)
   18114:	bedff06f          	j	17d00 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xdac>
	e[2] = v[2];
   18118:	206300d3          	fmv.s	ft1,ft6
	e[1] = v[1];
   1811c:	21080153          	fmv.s	ft2,fa6
	e[0] = v[0];
   18120:	211881d3          	fmv.s	ft3,fa7
	inline float operator[](int i) const { return e[i]; }
   18124:	00c62207          	flw	ft4,12(a2)
   18128:	01062507          	flw	fa0,16(a2)
   1812c:	01462007          	flw	ft0,20(a2)
	e[2] = v[2];
   18130:	0202a307          	flw	ft6,32(t0)
	e[1] = v[1];
   18134:	01c2a807          	flw	fa6,28(t0)
	e[0] = v[0];
   18138:	0182a887          	flw	fa7,24(t0)
   1813c:	e81ff06f          	j	17fbc <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1068>
	inline float operator[](int i) const { return e[i]; }
   18140:	01872207          	flw	ft4,24(a4)
   18144:	01c72187          	flw	ft3,28(a4)
   18148:	02072707          	flw	fa4,32(a4)
	e[2] = v[2];
   1814c:	04412887          	flw	fa7,68(sp)
	e[1] = v[1];
   18150:	04012e07          	flw	ft8,64(sp)
	e[0] = v[0];
   18154:	03c12807          	flw	fa6,60(sp)
	e[2] = v[2];
   18158:	03812307          	flw	ft6,56(sp)
	e[1] = v[1];
   1815c:	03412387          	flw	ft7,52(sp)
	e[0] = v[0];
   18160:	03012287          	flw	ft5,48(sp)
   18164:	b9dff06f          	j	17d00 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xdac>
	inline float operator[](int i) const { return e[i]; }
   18168:	206306d3          	fmv.s	fa3,ft6
   1816c:	21080753          	fmv.s	fa4,fa6
   18170:	211887d3          	fmv.s	fa5,fa7
	e[2] = v[2];
   18174:	20000353          	fmv.s	ft6,ft0
	e[1] = v[1];
   18178:	20a50853          	fmv.s	fa6,fa0
	e[0] = v[0];
   1817c:	204208d3          	fmv.s	fa7,ft4
	inline float operator[](int i) const { return e[i]; }
   18180:	01862187          	flw	ft3,24(a2)
   18184:	01c62107          	flw	ft2,28(a2)
   18188:	02062087          	flw	ft1,32(a2)
	e[2] = v[2];
   1818c:	20d68053          	fmv.s	ft0,fa3
	e[1] = v[1];
   18190:	20e70553          	fmv.s	fa0,fa4
	e[0] = v[0];
   18194:	20f78253          	fmv.s	ft4,fa5
   18198:	e25ff06f          	j	17fbc <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1068>
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   1819c:	09813783          	ld	a5,152(sp)
   181a0:	02070713          	add	a4,a4,32
   181a4:	b2e790e3          	bne	a5,a4,17cc4 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xd70>
   181a8:	0a813703          	ld	a4,168(sp)
   181ac:	216b0d53          	fmv.s	fs10,fs6
   181b0:	07812c07          	flw	fs8,120(sp)
   181b4:	215a8b53          	fmv.s	fs6,fs5
   181b8:	0b013903          	ld	s2,176(sp)
   181bc:	07c12a87          	flw	fs5,124(sp)
   181c0:	0a013883          	ld	a7,160(sp)
   181c4:	0b813783          	ld	a5,184(sp)
	while(node_stack_size);
   181c8:	00070463          	beqz	a4,181d0 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x127c>
   181cc:	f39fe06f          	j	17104 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1b0>
}
   181d0:	06010113          	add	sp,sp,96
   181d4:	7e813083          	ld	ra,2024(sp)
   181d8:	7e013403          	ld	s0,2016(sp)
   181dc:	7d813483          	ld	s1,2008(sp)
   181e0:	7d013903          	ld	s2,2000(sp)
   181e4:	7c813983          	ld	s3,1992(sp)
   181e8:	7c013a03          	ld	s4,1984(sp)
   181ec:	7b813a83          	ld	s5,1976(sp)
   181f0:	7b013b03          	ld	s6,1968(sp)
   181f4:	7a813b83          	ld	s7,1960(sp)
   181f8:	7a013c03          	ld	s8,1952(sp)
   181fc:	79813c83          	ld	s9,1944(sp)
   18200:	79013d03          	ld	s10,1936(sp)
   18204:	78813d83          	ld	s11,1928(sp)
   18208:	77c12407          	flw	fs0,1916(sp)
   1820c:	77812487          	flw	fs1,1912(sp)
   18210:	77412907          	flw	fs2,1908(sp)
   18214:	77012987          	flw	fs3,1904(sp)
   18218:	76c12a07          	flw	fs4,1900(sp)
   1821c:	76812a87          	flw	fs5,1896(sp)
   18220:	76412b07          	flw	fs6,1892(sp)
   18224:	76012b87          	flw	fs7,1888(sp)
   18228:	75c12c07          	flw	fs8,1884(sp)
   1822c:	75812c87          	flw	fs9,1880(sp)
   18230:	75412d07          	flw	fs10,1876(sp)
   18234:	75012d87          	flw	fs11,1872(sp)
   18238:	00088513          	mv	a0,a7
   1823c:	7f010113          	add	sp,sp,2032
   18240:	00008067          	ret
	stack[j] = entry;
   18244:	02059613          	sll	a2,a1,0x20
   18248:	02065613          	srl	a2,a2,0x20
   1824c:	00161793          	sll	a5,a2,0x1
   18250:	00c787b3          	add	a5,a5,a2
   18254:	00279793          	sll	a5,a5,0x2
   18258:	0e010613          	add	a2,sp,224
   1825c:	00f60833          	add	a6,a2,a5
   18260:	89dff06f          	j	17afc <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0xba8>
   18264:	00d50533          	add	a0,a0,a3
   18268:	00150f93          	add	t6,a0,1
   1826c:	00569693          	sll	a3,a3,0x5
   18270:	005f9f93          	sll	t6,t6,0x5
   18274:	05012107          	flw	ft2,80(sp)
   18278:	05412187          	flw	ft3,84(sp)
   1827c:	05812207          	flw	ft4,88(sp)
   18280:	00d78333          	add	t1,a5,a3
   18284:	01f78fb3          	add	t6,a5,t6
   18288:	46010f13          	add	t5,sp,1120
   1828c:	00070e13          	mv	t3,a4
   18290:	00c0006f          	j	1829c <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1348>
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   18294:	02030313          	add	t1,t1,32
   18298:	13f30463          	beq	t1,t6,183c0 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x146c>
		uint64_t r = ((uint64_t*)&src)[i];
   1829c:	00033503          	ld	a0,0(t1)
   182a0:	00833603          	ld	a2,8(t1)
   182a4:	01033803          	ld	a6,16(t1)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   182a8:	00050693          	mv	a3,a0
   182ac:	02055513          	srl	a0,a0,0x20
   182b0:	f0050753          	fmv.w.x	fa4,a0
   182b4:	02065e93          	srl	t4,a2,0x20
   182b8:	f00687d3          	fmv.w.x	fa5,a3
   182bc:	096776d3          	fsub.s	fa3,fa4,fs6
   182c0:	f00e8753          	fmv.w.x	fa4,t4
   182c4:	0977f7d3          	fsub.s	fa5,fa5,fs7
		((uint64_t*)&dst)[i] = r;
   182c8:	01833703          	ld	a4,24(t1)
   182cc:	097772d3          	fsub.s	ft5,fa4,fs7
   182d0:	f0080753          	fmv.w.x	fa4,a6
   182d4:	02085813          	srl	a6,a6,0x20
   182d8:	f0080653          	fmv.w.x	fa2,a6
   182dc:	096770d3          	fsub.s	ft1,fa4,fs6
   182e0:	f0060753          	fmv.w.x	fa4,a2
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   182e4:	1027f7d3          	fmul.s	fa5,fa5,ft2
   182e8:	1036f6d3          	fmul.s	fa3,fa3,ft3
   182ec:	1022f2d3          	fmul.s	ft5,ft5,ft2
   182f0:	1030f0d3          	fmul.s	ft1,ft1,ft3
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   182f4:	09a675d3          	fsub.s	fa1,fa2,fs10
   182f8:	09a77753          	fsub.s	fa4,fa4,fs10
   182fc:	00e93c23          	sd	a4,24(s2)
   18300:	28578653          	fmin.s	fa2,fa5,ft5
   18304:	28168353          	fmin.s	ft6,fa3,ft1
	if (tmin > tmax) return ray.t_max;//no hit || behind
   18308:	285797d3          	fmax.s	fa5,fa5,ft5
   1830c:	281696d3          	fmax.s	fa3,fa3,ft1
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   18310:	10477753          	fmul.s	fa4,fa4,ft4
   18314:	1045f5d3          	fmul.s	fa1,fa1,ft4
   18318:	28661653          	fmax.s	fa2,fa2,ft6
   1831c:	28d787d3          	fmin.s	fa5,fa5,fa3
   18320:	280616d3          	fmax.s	fa3,fa2,ft0
   18324:	28a787d3          	fmin.s	fa5,fa5,fa0
   18328:	28b70653          	fmin.s	fa2,fa4,fa1
   1832c:	28b71753          	fmax.s	fa4,fa4,fa1
   18330:	28c696d3          	fmax.s	fa3,fa3,fa2
   18334:	28e787d3          	fmin.s	fa5,fa5,fa4
   18338:	a0d79753          	flt.s	a4,fa5,fa3
   1833c:	00070463          	beqz	a4,18344 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x13f0>
   18340:	20a506d3          	fmv.s	fa3,fa0
				new_entry.data = node.data;
   18344:	01892683          	lw	a3,24(s2)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   18348:	a1969753          	flt.s	a4,fa3,fs9
				new_entry.data = node.data;
   1834c:	20d12223          	sw	a3,516(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   18350:	f40702e3          	beqz	a4,18294 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1340>
   18354:	001e0e9b          	addw	t4,t3,1
	for(; j != min; --j)
   18358:	060e0c63          	beqz	t3,183d0 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x147c>
   1835c:	fffe071b          	addw	a4,t3,-1
   18360:	020e1613          	sll	a2,t3,0x20
   18364:	01d65693          	srl	a3,a2,0x1d
   18368:	02071613          	sll	a2,a4,0x20
   1836c:	01d65713          	srl	a4,a2,0x1d
   18370:	000f0e13          	mv	t3,t5
   18374:	00df06b3          	add	a3,t5,a3
   18378:	00ef0733          	add	a4,t5,a4
   1837c:	0180006f          	j	18394 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1440>
		stack[j] = stack[j - 1];
   18380:	00073603          	ld	a2,0(a4)
	for(; j != min; --j)
   18384:	ff868693          	add	a3,a3,-8
		stack[j] = stack[j - 1];
   18388:	00c6b423          	sd	a2,8(a3)
	for(; j != min; --j)
   1838c:	04ef0463          	beq	t5,a4,183d4 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1480>
   18390:	00050713          	mv	a4,a0
		if(stack[j - 1].t >= entry.t) break;
   18394:	00072787          	flw	fa5,0(a4)
		stack[j] = stack[j - 1];
   18398:	00068813          	mv	a6,a3
	for(; j != min; --j)
   1839c:	ff870513          	add	a0,a4,-8
		if(stack[j - 1].t >= entry.t) break;
   183a0:	a0f68653          	fle.s	a2,fa3,fa5
   183a4:	fc060ee3          	beqz	a2,18380 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x142c>
	stack[j] = entry;
   183a8:	20d12027          	fsw	fa3,512(sp)
   183ac:	20013703          	ld	a4,512(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   183b0:	000e8e13          	mv	t3,t4
	stack[j] = entry;
   183b4:	00e83023          	sd	a4,0(a6)
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   183b8:	02030313          	add	t1,t1,32
   183bc:	eff310e3          	bne	t1,t6,1829c <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1348>
   183c0:	000e0713          	mv	a4,t3
	while(node_stack_size);
   183c4:	00070463          	beqz	a4,183cc <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1478>
   183c8:	d3dfe06f          	j	17104 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1b0>
   183cc:	e05ff06f          	j	181d0 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x127c>
   183d0:	46010e13          	add	t3,sp,1120
	stack[j] = entry;
   183d4:	20d12027          	fsw	fa3,512(sp)
   183d8:	20013703          	ld	a4,512(sp)
   183dc:	000e0813          	mv	a6,t3
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   183e0:	000e8e13          	mv	t3,t4
	stack[j] = entry;
   183e4:	00e83023          	sd	a4,0(a6)
   183e8:	fd1ff06f          	j	183b8 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1464>
				found_hit |= intersect(current_entry.data.fst_chld_ind + i, mesh, ray, hit);
   183ec:	0a813703          	ld	a4,168(sp)
   183f0:	216b0d53          	fmv.s	fs10,fs6
   183f4:	07812c07          	flw	fs8,120(sp)
   183f8:	215a8b53          	fmv.s	fs6,fs5
   183fc:	0b013903          	ld	s2,176(sp)
   18400:	07c12a87          	flw	fs5,124(sp)
   18404:	0b813783          	ld	a5,184(sp)
   18408:	00100893          	li	a7,1
	while(node_stack_size);
   1840c:	00070463          	beqz	a4,18414 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x14c0>
   18410:	cf5fe06f          	j	17104 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1b0>
   18414:	dbdff06f          	j	181d0 <_Z9intersectI24TesselationTree1PointersEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x127c>

0000000000018418 <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit>:
inline bool intersect(const BVH::CompressedNode4* blas, const T& mesh, const Ray& ray, Hit& hit)
   18418:	bf010113          	add	sp,sp,-1040
   1841c:	3d713423          	sd	s7,968(sp)
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   18420:	0001abb7          	lui	s7,0x1a
   18424:	38912c27          	fsw	fs1,920(sp)
   18428:	39212a27          	fsw	fs2,916(sp)
   1842c:	01862487          	flw	fs1,24(a2)
   18430:	01462907          	flw	fs2,20(a2)
   18434:	39312827          	fsw	fs3,912(sp)
   18438:	39412627          	fsw	fs4,908(sp)
   1843c:	01062987          	flw	fs3,16(a2)
   18440:	258baa07          	flw	fs4,600(s7) # 1a258 <__DATA_BEGIN__+0x8>
	node_stack[0].t = ray.t_min;
   18444:	00c62787          	flw	fa5,12(a2)
inline bool intersect(const BVH::CompressedNode4* blas, const T& mesh, const Ray& ray, Hit& hit)
   18448:	3d613823          	sd	s6,976(sp)
   1844c:	193a79d3          	fdiv.s	fs3,fs4,fs3
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   18450:	0001ab37          	lui	s6,0x1a
   18454:	0001a7b7          	lui	a5,0x1a
   18458:	38812e27          	fsw	fs0,924(sp)
   1845c:	260b2407          	flw	fs0,608(s6) # 1a260 <__DATA_BEGIN__+0x10>
   18460:	3f313423          	sd	s3,1000(sp)
   18464:	39512427          	fsw	fs5,904(sp)
   18468:	34f10993          	add	s3,sp,847
   1846c:	26c7aa87          	flw	fs5,620(a5) # 1a26c <__DATA_BEGIN__+0x1c>
	node_stack[0].data.is_leaf = false;
   18470:	00600793          	li	a5,6
inline bool intersect(const BVH::CompressedNode4* blas, const T& mesh, const Ray& ray, Hit& hit)
   18474:	40813023          	sd	s0,1024(sp)
   18478:	3f213823          	sd	s2,1008(sp)
   1847c:	3f413023          	sd	s4,992(sp)
   18480:	3d513c23          	sd	s5,984(sp)
   18484:	3d813023          	sd	s8,960(sp)
   18488:	3bb13423          	sd	s11,936(sp)
   1848c:	40113423          	sd	ra,1032(sp)
   18490:	3e913c23          	sd	s1,1016(sp)
   18494:	3b913c23          	sd	s9,952(sp)
   18498:	3ba13823          	sd	s10,944(sp)
   1849c:	192a7953          	fdiv.s	fs2,fs4,fs2
   184a0:	00060c13          	mv	s8,a2
   184a4:	00050a93          	mv	s5,a0
   184a8:	00058a13          	mv	s4,a1
   184ac:	00068913          	mv	s2,a3
   184b0:	fc09f993          	and	s3,s3,-64
	node_stack[0].t = ray.t_min;
   184b4:	00f12827          	fsw	fa5,16(sp)
	node_stack[0].data.is_leaf = false;
   184b8:	00f12a23          	sw	a5,20(sp)
	bool found_hit = false;
   184bc:	00000d93          	li	s11,0
	uint32_t node_stack_size = 1u;
   184c0:	00100413          	li	s0,1
   184c4:	189a74d3          	fdiv.s	fs1,fs4,fs1
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   184c8:	fff4041b          	addw	s0,s0,-1
   184cc:	02041713          	sll	a4,s0,0x20
   184d0:	01d75793          	srl	a5,a4,0x1d
   184d4:	38078793          	add	a5,a5,896
   184d8:	002787b3          	add	a5,a5,sp
   184dc:	c907b483          	ld	s1,-880(a5)
		if(current_entry.t >= hit.t) return found_hit;
   184e0:	00092187          	flw	ft3,0(s2)
   184e4:	f00487d3          	fmv.w.x	fa5,s1
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   184e8:	00913023          	sd	s1,0(sp)
		if(current_entry.t >= hit.t) return found_hit;
   184ec:	a0f187d3          	fle.s	a5,ft3,fa5
   184f0:	04079a63          	bnez	a5,18544 <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x12c>
		if(!current_entry.data.is_leaf)
   184f4:	00412783          	lw	a5,4(sp)
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   184f8:	0214dc93          	srl	s9,s1,0x21
   184fc:	007cfc93          	and	s9,s9,7
		if(!current_entry.data.is_leaf)
   18500:	0017f793          	and	a5,a5,1
			move_to_stack(node4, blas[current_entry.data.fst_chld_ind]);
   18504:	0244d493          	srl	s1,s1,0x24
		if(!current_entry.data.is_leaf)
   18508:	08078a63          	beqz	a5,1859c <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x184>
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   1850c:	000c8c9b          	sext.w	s9,s9
   18510:	00000d13          	li	s10,0
				found_hit |= intersect(current_entry.data.fst_chld_ind + i, mesh, ray, hit);
   18514:	00048513          	mv	a0,s1
   18518:	00090693          	mv	a3,s2
   1851c:	000c0613          	mv	a2,s8
   18520:	000a0593          	mv	a1,s4
   18524:	ffffb097          	auipc	ra,0xffffb
   18528:	cac080e7          	jalr	-852(ra) # 131d0 <_Z9intersectjRK32TesselationTree4SecondaryRayDataRK3RayR3Hit>
   1852c:	01b56533          	or	a0,a0,s11
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   18530:	001d0d1b          	addw	s10,s10,1
				found_hit |= intersect(current_entry.data.fst_chld_ind + i, mesh, ray, hit);
   18534:	0ff57d93          	zext.b	s11,a0
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   18538:	0014849b          	addw	s1,s1,1
   1853c:	fdacfce3          	bgeu	s9,s10,18514 <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xfc>
	while(node_stack_size);
   18540:	f80414e3          	bnez	s0,184c8 <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xb0>
   18544:	40813083          	ld	ra,1032(sp)
   18548:	40013403          	ld	s0,1024(sp)
   1854c:	3f813483          	ld	s1,1016(sp)
   18550:	3f013903          	ld	s2,1008(sp)
   18554:	3e813983          	ld	s3,1000(sp)
   18558:	3e013a03          	ld	s4,992(sp)
   1855c:	3d813a83          	ld	s5,984(sp)
   18560:	3d013b03          	ld	s6,976(sp)
   18564:	3c813b83          	ld	s7,968(sp)
   18568:	3c013c03          	ld	s8,960(sp)
   1856c:	3b813c83          	ld	s9,952(sp)
   18570:	3b013d03          	ld	s10,944(sp)
   18574:	39c12407          	flw	fs0,924(sp)
   18578:	39812487          	flw	fs1,920(sp)
   1857c:	39412907          	flw	fs2,916(sp)
   18580:	39012987          	flw	fs3,912(sp)
   18584:	38c12a07          	flw	fs4,908(sp)
   18588:	38812a87          	flw	fs5,904(sp)
   1858c:	000d8513          	mv	a0,s11
   18590:	3a813d83          	ld	s11,936(sp)
   18594:	41010113          	add	sp,sp,1040
   18598:	00008067          	ret
	for(uint i = 0; i < sizeof(T) / sizeof(uint64_t); ++i)
   1859c:	000c2087          	flw	ft1,0(s8) # 3c000000 <__global_pointer$+0x3bfe55b0>
   185a0:	004c2007          	flw	ft0,4(s8)
   185a4:	008c2507          	flw	fa0,8(s8)
			move_to_stack(node4, blas[current_entry.data.fst_chld_ind]);
   185a8:	00649493          	sll	s1,s1,0x6
		uint64_t r = ((uint64_t*)&src)[i];
   185ac:	009a87b3          	add	a5,s5,s1
   185b0:	081af0d3          	fsub.s	ft1,fs5,ft1
   185b4:	080af053          	fsub.s	ft0,fs5,ft0
   185b8:	08aaf553          	fsub.s	fa0,fs5,fa0
   185bc:	0287b603          	ld	a2,40(a5)
   185c0:	0307b683          	ld	a3,48(a5)
   185c4:	0387b703          	ld	a4,56(a5)
   185c8:	0087b303          	ld	t1,8(a5)
   185cc:	0107b883          	ld	a7,16(a5)
   185d0:	0187b803          	ld	a6,24(a5)
   185d4:	0207b503          	ld	a0,32(a5)
		((uint64_t*)&dst)[i] = r;
   185d8:	0007b783          	ld	a5,0(a5)
      if (__a < __b)
   185dc:	00cc2287          	flw	ft5,12(s8)
      if (__b < __a)
   185e0:	01cc2207          	flw	ft4,28(s8)
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   185e4:	260b2587          	flw	fa1,608(s6)
   185e8:	258ba107          	flw	ft2,600(s7)
   185ec:	01098593          	add	a1,s3,16
   185f0:	004c9c93          	sll	s9,s9,0x4
		((uint64_t*)&dst)[i] = r;
   185f4:	02c9b423          	sd	a2,40(s3)
   185f8:	02d9b823          	sd	a3,48(s3)
   185fc:	02e9bc23          	sd	a4,56(s3)
   18600:	00f9b023          	sd	a5,0(s3)
   18604:	0069b423          	sd	t1,8(s3)
   18608:	0119b823          	sd	a7,16(s3)
   1860c:	0109bc23          	sd	a6,24(s3)
   18610:	02a9b023          	sd	a0,32(s3)
   18614:	00098713          	mv	a4,s3
   18618:	019585b3          	add	a1,a1,s9
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   1861c:	3f8006b7          	lui	a3,0x3f800
   18620:	01010613          	add	a2,sp,16
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   18624:	00075783          	lhu	a5,0(a4)
   18628:	208407d3          	fmv.s	fa5,fs0
   1862c:	00f7d513          	srl	a0,a5,0xf
   18630:	00051c63          	bnez	a0,18648 <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x230>
   18634:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   18638:	00d7e7b3          	or	a5,a5,a3
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   1863c:	f00787d3          	fmv.w.x	fa5,a5
   18640:	0947f7d3          	fsub.s	fa5,fa5,fs4
   18644:	00f7f7d3          	fadd.s	fa5,fa5,fa5
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   18648:	00675783          	lhu	a5,6(a4)
   1864c:	20b58853          	fmv.s	fa6,fa1
   18650:	00f7d513          	srl	a0,a5,0xf
   18654:	00051c63          	bnez	a0,1866c <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x254>
   18658:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   1865c:	00d7e7b3          	or	a5,a5,a3
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   18660:	f0078753          	fmv.w.x	fa4,a5
   18664:	08277853          	fsub.s	fa6,fa4,ft2
   18668:	01087853          	fadd.s	fa6,fa6,fa6
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   1866c:	00275783          	lhu	a5,2(a4)
   18670:	20b58653          	fmv.s	fa2,fa1
   18674:	00f7d513          	srl	a0,a5,0xf
   18678:	00051c63          	bnez	a0,18690 <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x278>
   1867c:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   18680:	00d7e7b3          	or	a5,a5,a3
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   18684:	f0078753          	fmv.w.x	fa4,a5
   18688:	08277653          	fsub.s	fa2,fa4,ft2
   1868c:	00c67653          	fadd.s	fa2,fa2,fa2
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   18690:	00875783          	lhu	a5,8(a4)
   18694:	20b583d3          	fmv.s	ft7,fa1
   18698:	00f7d513          	srl	a0,a5,0xf
   1869c:	00051c63          	bnez	a0,186b4 <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x29c>
   186a0:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   186a4:	00d7e7b3          	or	a5,a5,a3
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   186a8:	f0078753          	fmv.w.x	fa4,a5
   186ac:	082773d3          	fsub.s	ft7,fa4,ft2
   186b0:	0073f3d3          	fadd.s	ft7,ft7,ft7
		aabb.min[i] = u16_to_f32(aabb16.min[i]) * 2.0f - 1.0f;
   186b4:	00475783          	lhu	a5,4(a4)
   186b8:	208406d3          	fmv.s	fa3,fs0
   186bc:	00f7d513          	srl	a0,a5,0xf
   186c0:	00051c63          	bnez	a0,186d8 <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x2c0>
   186c4:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   186c8:	00d7e7b3          	or	a5,a5,a3
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   186cc:	f0078753          	fmv.w.x	fa4,a5
   186d0:	082776d3          	fsub.s	fa3,fa4,ft2
   186d4:	00d6f6d3          	fadd.s	fa3,fa3,fa3
		aabb.max[i] = u16_to_f32(aabb16.max[i]) * 2.0f - 1.0f;
   186d8:	00a75783          	lhu	a5,10(a4)
   186dc:	20840353          	fmv.s	ft6,fs0
   186e0:	00f7d513          	srl	a0,a5,0xf
   186e4:	00051c63          	bnez	a0,186fc <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x2e4>
   186e8:	0087979b          	sllw	a5,a5,0x8
	return *((float*)&u);
   186ec:	00d7e7b3          	or	a5,a5,a3
	return u16 & 0x8000u ? 1.0f : as_f32(((uint32_t)u16 << 8) | 0x3f800000u) - 1.0f;
   186f0:	f0078753          	fmv.w.x	fa4,a5
   186f4:	09477353          	fsub.s	ft6,fa4,fs4
   186f8:	00637353          	fadd.s	ft6,ft6,ft6
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   186fc:	0017f7d3          	fadd.s	fa5,fa5,ft1
   18700:	0100f853          	fadd.s	fa6,ft1,fa6
   18704:	00067653          	fadd.s	fa2,fa2,ft0
   18708:	0003f3d3          	fadd.s	ft7,ft7,ft0
   1870c:	00a6f6d3          	fadd.s	fa3,fa3,fa0
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   18710:	1137f7d3          	fmul.s	fa5,fa5,fs3
   18714:	11387853          	fmul.s	fa6,fa6,fs3
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   18718:	00a37353          	fadd.s	ft6,ft6,fa0
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   1871c:	1123f3d3          	fmul.s	ft7,ft7,fs2
   18720:	11267653          	fmul.s	fa2,fa2,fs2
   18724:	1096f6d3          	fmul.s	fa3,fa3,fs1
   18728:	29078753          	fmin.s	fa4,fa5,fa6
	if (tmin > tmax) return ray.t_max;//no hit || behind
   1872c:	290797d3          	fmax.s	fa5,fa5,fa6
   18730:	10937353          	fmul.s	ft6,ft6,fs1
	float tmin = std::max(std::max(tminv.x, tminv.y), std::max(tminv.z, ray.t_min));
   18734:	28760853          	fmin.s	fa6,fa2,ft7
   18738:	28571753          	fmax.s	fa4,fa4,ft5
	if (tmin > tmax) return ray.t_max;//no hit || behind
   1873c:	28761653          	fmax.s	fa2,fa2,ft7
   18740:	284787d3          	fmin.s	fa5,fa5,ft4
   18744:	286683d3          	fmin.s	ft7,fa3,ft6
   18748:	29071753          	fmax.s	fa4,fa4,fa6
   1874c:	28c787d3          	fmin.s	fa5,fa5,fa2
   18750:	286696d3          	fmax.s	fa3,fa3,ft6
   18754:	28771753          	fmax.s	fa4,fa4,ft7
   18758:	28d787d3          	fmin.s	fa5,fa5,fa3
   1875c:	a0e797d3          	flt.s	a5,fa5,fa4
   18760:	00078463          	beqz	a5,18768 <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x350>
   18764:	20420753          	fmv.s	fa4,ft4
				new_entry.data = node4.nodes[i].data;
   18768:	00c72503          	lw	a0,12(a4)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   1876c:	a03717d3          	flt.s	a5,fa4,ft3
				new_entry.data = node4.nodes[i].data;
   18770:	00a12623          	sw	a0,12(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   18774:	00079a63          	bnez	a5,18788 <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x370>
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   18778:	01070713          	add	a4,a4,16
   1877c:	eae594e3          	bne	a1,a4,18624 <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x20c>
	while(node_stack_size);
   18780:	d40414e3          	bnez	s0,184c8 <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0xb0>
   18784:	dc1ff06f          	j	18544 <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x12c>
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   18788:	0014031b          	addw	t1,s0,1
	for(; j != min; --j)
   1878c:	06040263          	beqz	s0,187f0 <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x3d8>
   18790:	fff4079b          	addw	a5,s0,-1
   18794:	02041513          	sll	a0,s0,0x20
   18798:	01d55413          	srl	s0,a0,0x1d
   1879c:	02079513          	sll	a0,a5,0x20
   187a0:	01d55793          	srl	a5,a0,0x1d
   187a4:	00060e13          	mv	t3,a2
   187a8:	00860433          	add	s0,a2,s0
   187ac:	00f607b3          	add	a5,a2,a5
   187b0:	0180006f          	j	187c8 <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x3b0>
		stack[j] = stack[j - 1];
   187b4:	0007b503          	ld	a0,0(a5)
	for(; j != min; --j)
   187b8:	ff840413          	add	s0,s0,-8
		stack[j] = stack[j - 1];
   187bc:	00a43423          	sd	a0,8(s0)
	for(; j != min; --j)
   187c0:	02f60a63          	beq	a2,a5,187f4 <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x3dc>
   187c4:	00080793          	mv	a5,a6
		if(stack[j - 1].t >= entry.t) break;
   187c8:	0007a787          	flw	fa5,0(a5)
		stack[j] = stack[j - 1];
   187cc:	00040893          	mv	a7,s0
	for(; j != min; --j)
   187d0:	ff878813          	add	a6,a5,-8
		if(stack[j - 1].t >= entry.t) break;
   187d4:	a0f70553          	fle.s	a0,fa4,fa5
   187d8:	fc050ee3          	beqz	a0,187b4 <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x39c>
	stack[j] = entry;
   187dc:	00e12427          	fsw	fa4,8(sp)
   187e0:	00813783          	ld	a5,8(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   187e4:	00030413          	mv	s0,t1
	stack[j] = entry;
   187e8:	00f8b023          	sd	a5,0(a7)
}
   187ec:	f8dff06f          	j	18778 <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x360>
   187f0:	01010e13          	add	t3,sp,16
	stack[j] = entry;
   187f4:	00e12427          	fsw	fa4,8(sp)
   187f8:	00813783          	ld	a5,8(sp)
   187fc:	000e0893          	mv	a7,t3
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   18800:	00030413          	mv	s0,t1
	stack[j] = entry;
   18804:	00f8b023          	sd	a5,0(a7)
   18808:	f71ff06f          	j	18778 <_Z9intersectI32TesselationTree4SecondaryRayDataEbPKN3BVH15CompressedNode4ERKT_RK3RayR3Hit+0x360>

000000000001880c <_Z9intersectI32TesselationTree1SecondaryRayDataEbPKN3BVH4NodeERKT_RK3RayR3Hit>:
inline bool intersect(const BVH::Node* blas, const T& mesh, const Ray& ray, Hit& hit)
   1880c:	c2010113          	add	sp,sp,-992
	return vec3(a[0] / b[0], a[1] / b[1], a[2] / b[2]);
   18810:	0001a7b7          	lui	a5,0x1a
   18814:	36812e27          	fsw	fs0,892(sp)
   18818:	36912c27          	fsw	fs1,888(sp)
   1881c:	2587a407          	flw	fs0,600(a5) # 1a258 <__DATA_BEGIN__+0x8>
   18820:	01062487          	flw	fs1,16(a2)
   18824:	37212a27          	fsw	fs2,884(sp)
   18828:	01462907          	flw	fs2,20(a2)
   1882c:	189474d3          	fdiv.s	fs1,fs0,fs1
   18830:	01862787          	flw	fa5,24(a2)
   18834:	3b613023          	sd	s6,928(sp)
   18838:	32f10b13          	add	s6,sp,815
   1883c:	fe0b7b13          	and	s6,s6,-32
   18840:	3c813823          	sd	s0,976(sp)
   18844:	3d213023          	sd	s2,960(sp)
   18848:	00060413          	mv	s0,a2
   1884c:	3b313c23          	sd	s3,952(sp)
   18850:	00058913          	mv	s2,a1
   18854:	00050993          	mv	s3,a0
		((uint64_t*)&dst)[i] = r;
   18858:	00050593          	mv	a1,a0
   1885c:	02000613          	li	a2,32
   18860:	020b0513          	add	a0,s6,32
   18864:	3c913423          	sd	s1,968(sp)
   18868:	37312827          	fsw	fs3,880(sp)
   1886c:	37412627          	fsw	fs4,876(sp)
   18870:	37512427          	fsw	fs5,872(sp)
   18874:	3c113c23          	sd	ra,984(sp)
   18878:	3b413823          	sd	s4,944(sp)
   1887c:	19247953          	fdiv.s	fs2,fs0,fs2
   18880:	3b513423          	sd	s5,936(sp)
   18884:	39713c23          	sd	s7,920(sp)
   18888:	39813823          	sd	s8,912(sp)
   1888c:	39913423          	sd	s9,904(sp)
   18890:	39a13023          	sd	s10,896(sp)
   18894:	00068493          	mv	s1,a3
   18898:	18f47453          	fdiv.s	fs0,fs0,fa5
   1889c:	00000097          	auipc	ra,0x0
   188a0:	2f4080e7          	jalr	756(ra) # 18b90 <memcpy>
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   188a4:	0001a7b7          	lui	a5,0x1a
   188a8:	2707a707          	flw	fa4,624(a5) # 1a270 <__DATA_BEGIN__+0x20>
   188ac:	0001a7b7          	lui	a5,0x1a
   188b0:	2747a687          	flw	fa3,628(a5) # 1a274 <__DATA_BEGIN__+0x24>
	inline float operator[](int i) const { return e[i]; }
   188b4:	00042987          	flw	fs3,0(s0)
   188b8:	00442a07          	flw	fs4,4(s0)
   188bc:	00842a87          	flw	fs5,8(s0)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   188c0:	093777d3          	fsub.s	fa5,fa4,fs3
   188c4:	094775d3          	fsub.s	fa1,fa4,fs4
   188c8:	0936f053          	fsub.s	ft0,fa3,fs3
   188cc:	0946f553          	fsub.s	fa0,fa3,fs4
   188d0:	09577753          	fsub.s	fa4,fa4,fs5
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   188d4:	1097f7d3          	fmul.s	fa5,fa5,fs1
   188d8:	1125f5d3          	fmul.s	fa1,fa1,fs2
   188dc:	10907053          	fmul.s	ft0,ft0,fs1
   188e0:	11257553          	fmul.s	fa0,fa0,fs2
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   188e4:	0956f6d3          	fsub.s	fa3,fa3,fs5
   188e8:	00c42087          	flw	ft1,12(s0)
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   188ec:	10877753          	fmul.s	fa4,fa4,fs0
   188f0:	28078653          	fmin.s	fa2,fa5,ft0
   188f4:	28a58153          	fmin.s	ft2,fa1,fa0
	if (tmin > tmax) return ray.t_max;//no hit || behind
   188f8:	280797d3          	fmax.s	fa5,fa5,ft0
   188fc:	28a595d3          	fmax.s	fa1,fa1,fa0
   18900:	1086f6d3          	fmul.s	fa3,fa3,fs0
	float tmin = std::max(std::max(tminv.x, tminv.y), std::max(tminv.z, ray.t_min));
   18904:	28261653          	fmax.s	fa2,fa2,ft2
	if (tmin > tmax) return ray.t_max;//no hit || behind
   18908:	28b787d3          	fmin.s	fa5,fa5,fa1
   1890c:	01c42507          	flw	fa0,28(s0)
   18910:	28161653          	fmax.s	fa2,fa2,ft1
   18914:	28d705d3          	fmin.s	fa1,fa4,fa3
   18918:	28a787d3          	fmin.s	fa5,fa5,fa0
   1891c:	28d71753          	fmax.s	fa4,fa4,fa3
   18920:	28b616d3          	fmax.s	fa3,fa2,fa1
   18924:	28e787d3          	fmin.s	fa5,fa5,fa4
   18928:	a0d797d3          	flt.s	a5,fa5,fa3
   1892c:	00079463          	bnez	a5,18934 <_Z9intersectI32TesselationTree1SecondaryRayDataEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x128>
	return tmin;
   18930:	20d68553          	fmv.s	fa0,fa3
	node_stack[0].data = root_node.data;
   18934:	038b2783          	lw	a5,56(s6)
	node_stack[0].t = intersect(root_node.aabb, ray, inv_d);
   18938:	00a12827          	fsw	fa0,16(sp)
	bool found_hit = false;
   1893c:	00000b93          	li	s7,0
	node_stack[0].data = root_node.data;
   18940:	00f12a23          	sw	a5,20(sp)
	uint32_t node_stack_size = 1u;
   18944:	00100a13          	li	s4,1
   18948:	01010a93          	add	s5,sp,16
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   1894c:	fffa0a1b          	addw	s4,s4,-1
   18950:	020a1713          	sll	a4,s4,0x20
   18954:	01d75793          	srl	a5,a4,0x1d
   18958:	36078793          	add	a5,a5,864
   1895c:	002787b3          	add	a5,a5,sp
   18960:	cb07bc03          	ld	s8,-848(a5)
		if(current_entry.t >= hit.t) return found_hit;
   18964:	0004a087          	flw	ft1,0(s1)
   18968:	f00c07d3          	fmv.w.x	fa5,s8
		const NodeStackEntry current_entry = node_stack[--node_stack_size];
   1896c:	01813023          	sd	s8,0(sp)
		if(current_entry.t >= hit.t) return found_hit;
   18970:	a0f087d3          	fle.s	a5,ft1,fa5
   18974:	16079863          	bnez	a5,18ae4 <_Z9intersectI32TesselationTree1SecondaryRayDataEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x2d8>
		if(!current_entry.data.is_leaf)
   18978:	00412783          	lw	a5,4(sp)
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   1897c:	021c5c93          	srl	s9,s8,0x21
   18980:	007cfc93          	and	s9,s9,7
		if(!current_entry.data.is_leaf)
   18984:	0017f793          	and	a5,a5,1
				move_to_stack(node, blas[current_entry.data.fst_chld_ind + i]);
   18988:	024c5c13          	srl	s8,s8,0x24
		if(!current_entry.data.is_leaf)
   1898c:	1c079463          	bnez	a5,18b54 <_Z9intersectI32TesselationTree1SecondaryRayDataEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x348>
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   18990:	018c8cb3          	add	s9,s9,s8
   18994:	001c8513          	add	a0,s9,1 # 3f800001 <__global_pointer$+0x3f7e55b1>
   18998:	005c1c13          	sll	s8,s8,0x5
   1899c:	00551513          	sll	a0,a0,0x5
      if (__a < __b)
   189a0:	00c42187          	flw	ft3,12(s0)
      if (__b < __a)
   189a4:	01c42107          	flw	ft2,28(s0)
   189a8:	01898733          	add	a4,s3,s8
   189ac:	00a98533          	add	a0,s3,a0
   189b0:	00c0006f          	j	189bc <_Z9intersectI32TesselationTree1SecondaryRayDataEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1b0>
   189b4:	02070713          	add	a4,a4,32
   189b8:	12e50463          	beq	a0,a4,18ae0 <_Z9intersectI32TesselationTree1SecondaryRayDataEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x2d4>
		uint64_t r = ((uint64_t*)&src)[i];
   189bc:	00073883          	ld	a7,0(a4)
   189c0:	00873803          	ld	a6,8(a4)
   189c4:	01073683          	ld	a3,16(a4)
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   189c8:	00088793          	mv	a5,a7
   189cc:	0208d893          	srl	a7,a7,0x20
   189d0:	f0088753          	fmv.w.x	fa4,a7
   189d4:	02085593          	srl	a1,a6,0x20
   189d8:	f00787d3          	fmv.w.x	fa5,a5
   189dc:	094776d3          	fsub.s	fa3,fa4,fs4
   189e0:	f0058753          	fmv.w.x	fa4,a1
   189e4:	0937f7d3          	fsub.s	fa5,fa5,fs3
		((uint64_t*)&dst)[i] = r;
   189e8:	01873783          	ld	a5,24(a4)
   189ec:	09377053          	fsub.s	ft0,fa4,fs3
   189f0:	f0068753          	fmv.w.x	fa4,a3
   189f4:	0206d693          	srl	a3,a3,0x20
   189f8:	f0068653          	fmv.w.x	fa2,a3
   189fc:	09477553          	fsub.s	fa0,fa4,fs4
   18a00:	f0080753          	fmv.w.x	fa4,a6
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   18a04:	1097f7d3          	fmul.s	fa5,fa5,fs1
   18a08:	1126f6d3          	fmul.s	fa3,fa3,fs2
   18a0c:	10907053          	fmul.s	ft0,ft0,fs1
   18a10:	11257553          	fmul.s	fa0,fa0,fs2
	return vec3(a[0] - b[0], a[1] - b[1], a[2] - b[2]);
   18a14:	095675d3          	fsub.s	fa1,fa2,fs5
   18a18:	09577753          	fsub.s	fa4,fa4,fs5
   18a1c:	00fb3c23          	sd	a5,24(s6)
   18a20:	28078653          	fmin.s	fa2,fa5,ft0
   18a24:	28a68253          	fmin.s	ft4,fa3,fa0
	if (tmin > tmax) return ray.t_max;//no hit || behind
   18a28:	280797d3          	fmax.s	fa5,fa5,ft0
   18a2c:	28a696d3          	fmax.s	fa3,fa3,fa0
	return vec3(a[0] * b[0], a[1] * b[1], a[2] * b[2]);
   18a30:	10877753          	fmul.s	fa4,fa4,fs0
   18a34:	1085f5d3          	fmul.s	fa1,fa1,fs0
   18a38:	28461653          	fmax.s	fa2,fa2,ft4
   18a3c:	28d787d3          	fmin.s	fa5,fa5,fa3
   18a40:	283616d3          	fmax.s	fa3,fa2,ft3
   18a44:	282787d3          	fmin.s	fa5,fa5,ft2
   18a48:	28b70653          	fmin.s	fa2,fa4,fa1
   18a4c:	28b71753          	fmax.s	fa4,fa4,fa1
   18a50:	28c696d3          	fmax.s	fa3,fa3,fa2
   18a54:	28e787d3          	fmin.s	fa5,fa5,fa4
   18a58:	a0d797d3          	flt.s	a5,fa5,fa3
   18a5c:	00078463          	beqz	a5,18a64 <_Z9intersectI32TesselationTree1SecondaryRayDataEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x258>
   18a60:	202106d3          	fmv.s	fa3,ft2
				new_entry.data = node.data;
   18a64:	018b2683          	lw	a3,24(s6)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   18a68:	a01697d3          	flt.s	a5,fa3,ft1
				new_entry.data = node.data;
   18a6c:	00d12623          	sw	a3,12(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   18a70:	f40782e3          	beqz	a5,189b4 <_Z9intersectI32TesselationTree1SecondaryRayDataEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1a8>
   18a74:	001a089b          	addw	a7,s4,1
	for(; j != min; --j)
   18a78:	0c0a0063          	beqz	s4,18b38 <_Z9intersectI32TesselationTree1SecondaryRayDataEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x32c>
   18a7c:	fffa079b          	addw	a5,s4,-1
   18a80:	020a1613          	sll	a2,s4,0x20
   18a84:	01d65693          	srl	a3,a2,0x1d
   18a88:	02079613          	sll	a2,a5,0x20
   18a8c:	01d65793          	srl	a5,a2,0x1d
   18a90:	000a8313          	mv	t1,s5
   18a94:	00da86b3          	add	a3,s5,a3
   18a98:	00fa87b3          	add	a5,s5,a5
   18a9c:	0180006f          	j	18ab4 <_Z9intersectI32TesselationTree1SecondaryRayDataEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x2a8>
		stack[j] = stack[j - 1];
   18aa0:	0007b603          	ld	a2,0(a5)
	for(; j != min; --j)
   18aa4:	ff868693          	add	a3,a3,-8 # 3f7ffff8 <__global_pointer$+0x3f7e55a8>
		stack[j] = stack[j - 1];
   18aa8:	00c6b423          	sd	a2,8(a3)
	for(; j != min; --j)
   18aac:	08fa8863          	beq	s5,a5,18b3c <_Z9intersectI32TesselationTree1SecondaryRayDataEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x330>
   18ab0:	00058793          	mv	a5,a1
		if(stack[j - 1].t >= entry.t) break;
   18ab4:	0007a787          	flw	fa5,0(a5)
		stack[j] = stack[j - 1];
   18ab8:	00068813          	mv	a6,a3
	for(; j != min; --j)
   18abc:	ff878593          	add	a1,a5,-8
		if(stack[j - 1].t >= entry.t) break;
   18ac0:	a0f68653          	fle.s	a2,fa3,fa5
   18ac4:	fc060ee3          	beqz	a2,18aa0 <_Z9intersectI32TesselationTree1SecondaryRayDataEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x294>
	stack[j] = entry;
   18ac8:	00d12427          	fsw	fa3,8(sp)
   18acc:	00813783          	ld	a5,8(sp)
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   18ad0:	00088a13          	mv	s4,a7
	stack[j] = entry;
   18ad4:	00f83023          	sd	a5,0(a6)
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   18ad8:	02070713          	add	a4,a4,32
   18adc:	eee510e3          	bne	a0,a4,189bc <_Z9intersectI32TesselationTree1SecondaryRayDataEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x1b0>
	while(node_stack_size);
   18ae0:	e60a16e3          	bnez	s4,1894c <_Z9intersectI32TesselationTree1SecondaryRayDataEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x140>
}
   18ae4:	3d813083          	ld	ra,984(sp)
   18ae8:	3d013403          	ld	s0,976(sp)
   18aec:	3c813483          	ld	s1,968(sp)
   18af0:	3c013903          	ld	s2,960(sp)
   18af4:	3b813983          	ld	s3,952(sp)
   18af8:	3b013a03          	ld	s4,944(sp)
   18afc:	3a813a83          	ld	s5,936(sp)
   18b00:	3a013b03          	ld	s6,928(sp)
   18b04:	39013c03          	ld	s8,912(sp)
   18b08:	38813c83          	ld	s9,904(sp)
   18b0c:	38013d03          	ld	s10,896(sp)
   18b10:	37c12407          	flw	fs0,892(sp)
   18b14:	37812487          	flw	fs1,888(sp)
   18b18:	37412907          	flw	fs2,884(sp)
   18b1c:	37012987          	flw	fs3,880(sp)
   18b20:	36c12a07          	flw	fs4,876(sp)
   18b24:	36812a87          	flw	fs5,872(sp)
   18b28:	000b8513          	mv	a0,s7
   18b2c:	39813b83          	ld	s7,920(sp)
   18b30:	3e010113          	add	sp,sp,992
   18b34:	00008067          	ret
   18b38:	01010313          	add	t1,sp,16
	stack[j] = entry;
   18b3c:	00d12427          	fsw	fa3,8(sp)
   18b40:	00813783          	ld	a5,8(sp)
   18b44:	00030813          	mv	a6,t1
				if(new_entry.t < hit.t) insert(new_entry, node_stack, node_stack_size++);
   18b48:	00088a13          	mv	s4,a7
	stack[j] = entry;
   18b4c:	00f83023          	sd	a5,0(a6)
   18b50:	f89ff06f          	j	18ad8 <_Z9intersectI32TesselationTree1SecondaryRayDataEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x2cc>
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   18b54:	000c8c9b          	sext.w	s9,s9
   18b58:	00000d13          	li	s10,0
				found_hit |= intersect(current_entry.data.fst_chld_ind + i, mesh, ray, hit);
   18b5c:	000c0513          	mv	a0,s8
   18b60:	00048693          	mv	a3,s1
   18b64:	00040613          	mv	a2,s0
   18b68:	00090593          	mv	a1,s2
   18b6c:	ffff9097          	auipc	ra,0xffff9
   18b70:	198080e7          	jalr	408(ra) # 11d04 <_Z9intersectjRK32TesselationTree1SecondaryRayDataRK3RayR3Hit>
   18b74:	01756533          	or	a0,a0,s7
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   18b78:	001d0d1b          	addw	s10,s10,1
				found_hit |= intersect(current_entry.data.fst_chld_ind + i, mesh, ray, hit);
   18b7c:	0ff57b93          	zext.b	s7,a0
			for(uint32_t i = 0; i <= current_entry.data.lst_chld_ofst; ++i)
   18b80:	001c0c1b          	addw	s8,s8,1
   18b84:	fdacfce3          	bgeu	s9,s10,18b5c <_Z9intersectI32TesselationTree1SecondaryRayDataEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x350>
	while(node_stack_size);
   18b88:	dc0a12e3          	bnez	s4,1894c <_Z9intersectI32TesselationTree1SecondaryRayDataEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x140>
   18b8c:	f59ff06f          	j	18ae4 <_Z9intersectI32TesselationTree1SecondaryRayDataEbPKN3BVH4NodeERKT_RK3RayR3Hit+0x2d8>

0000000000018b90 <memcpy>:
   18b90:	00b547b3          	xor	a5,a0,a1
   18b94:	0077f793          	and	a5,a5,7
   18b98:	00c508b3          	add	a7,a0,a2
   18b9c:	06079463          	bnez	a5,18c04 <memcpy+0x74>
   18ba0:	00700793          	li	a5,7
   18ba4:	06c7f063          	bgeu	a5,a2,18c04 <memcpy+0x74>
   18ba8:	00757793          	and	a5,a0,7
   18bac:	00050713          	mv	a4,a0
   18bb0:	06079a63          	bnez	a5,18c24 <memcpy+0x94>
   18bb4:	ff88f613          	and	a2,a7,-8
   18bb8:	40e606b3          	sub	a3,a2,a4
   18bbc:	04000793          	li	a5,64
   18bc0:	08d7ce63          	blt	a5,a3,18c5c <memcpy+0xcc>
   18bc4:	00058693          	mv	a3,a1
   18bc8:	00070793          	mv	a5,a4
   18bcc:	02c77863          	bgeu	a4,a2,18bfc <memcpy+0x6c>
   18bd0:	0006b803          	ld	a6,0(a3)
   18bd4:	00878793          	add	a5,a5,8
   18bd8:	00868693          	add	a3,a3,8
   18bdc:	ff07bc23          	sd	a6,-8(a5)
   18be0:	fec7e8e3          	bltu	a5,a2,18bd0 <memcpy+0x40>
   18be4:	fff60793          	add	a5,a2,-1
   18be8:	40e787b3          	sub	a5,a5,a4
   18bec:	ff87f793          	and	a5,a5,-8
   18bf0:	00878793          	add	a5,a5,8
   18bf4:	00f70733          	add	a4,a4,a5
   18bf8:	00f585b3          	add	a1,a1,a5
   18bfc:	01176863          	bltu	a4,a7,18c0c <memcpy+0x7c>
   18c00:	00008067          	ret
   18c04:	00050713          	mv	a4,a0
   18c08:	05157863          	bgeu	a0,a7,18c58 <memcpy+0xc8>
   18c0c:	0005c783          	lbu	a5,0(a1)
   18c10:	00170713          	add	a4,a4,1
   18c14:	00158593          	add	a1,a1,1
   18c18:	fef70fa3          	sb	a5,-1(a4)
   18c1c:	fee898e3          	bne	a7,a4,18c0c <memcpy+0x7c>
   18c20:	00008067          	ret
   18c24:	0005c683          	lbu	a3,0(a1)
   18c28:	00170713          	add	a4,a4,1
   18c2c:	00777793          	and	a5,a4,7
   18c30:	fed70fa3          	sb	a3,-1(a4)
   18c34:	00158593          	add	a1,a1,1
   18c38:	f6078ee3          	beqz	a5,18bb4 <memcpy+0x24>
   18c3c:	0005c683          	lbu	a3,0(a1)
   18c40:	00170713          	add	a4,a4,1
   18c44:	00777793          	and	a5,a4,7
   18c48:	fed70fa3          	sb	a3,-1(a4)
   18c4c:	00158593          	add	a1,a1,1
   18c50:	fc079ae3          	bnez	a5,18c24 <memcpy+0x94>
   18c54:	f61ff06f          	j	18bb4 <memcpy+0x24>
   18c58:	00008067          	ret
   18c5c:	ff010113          	add	sp,sp,-16
   18c60:	00813423          	sd	s0,8(sp)
   18c64:	04000413          	li	s0,64
   18c68:	0005b383          	ld	t2,0(a1)
   18c6c:	0085b283          	ld	t0,8(a1)
   18c70:	0105bf83          	ld	t6,16(a1)
   18c74:	0185bf03          	ld	t5,24(a1)
   18c78:	0205be83          	ld	t4,32(a1)
   18c7c:	0285be03          	ld	t3,40(a1)
   18c80:	0305b303          	ld	t1,48(a1)
   18c84:	0385b803          	ld	a6,56(a1)
   18c88:	0405b683          	ld	a3,64(a1)
   18c8c:	04870713          	add	a4,a4,72
   18c90:	40e607b3          	sub	a5,a2,a4
   18c94:	fa773c23          	sd	t2,-72(a4)
   18c98:	fc573023          	sd	t0,-64(a4)
   18c9c:	fdf73423          	sd	t6,-56(a4)
   18ca0:	fde73823          	sd	t5,-48(a4)
   18ca4:	fdd73c23          	sd	t4,-40(a4)
   18ca8:	ffc73023          	sd	t3,-32(a4)
   18cac:	fe673423          	sd	t1,-24(a4)
   18cb0:	ff073823          	sd	a6,-16(a4)
   18cb4:	fed73c23          	sd	a3,-8(a4)
   18cb8:	04858593          	add	a1,a1,72
   18cbc:	faf446e3          	blt	s0,a5,18c68 <memcpy+0xd8>
   18cc0:	00058693          	mv	a3,a1
   18cc4:	00070793          	mv	a5,a4
   18cc8:	02c77863          	bgeu	a4,a2,18cf8 <memcpy+0x168>
   18ccc:	0006b803          	ld	a6,0(a3)
   18cd0:	00878793          	add	a5,a5,8
   18cd4:	00868693          	add	a3,a3,8
   18cd8:	ff07bc23          	sd	a6,-8(a5)
   18cdc:	fec7e8e3          	bltu	a5,a2,18ccc <memcpy+0x13c>
   18ce0:	fff60793          	add	a5,a2,-1
   18ce4:	40e787b3          	sub	a5,a5,a4
   18ce8:	ff87f793          	and	a5,a5,-8
   18cec:	00878793          	add	a5,a5,8
   18cf0:	00f70733          	add	a4,a4,a5
   18cf4:	00f585b3          	add	a1,a1,a5
   18cf8:	01176863          	bltu	a4,a7,18d08 <memcpy+0x178>
   18cfc:	00813403          	ld	s0,8(sp)
   18d00:	01010113          	add	sp,sp,16
   18d04:	00008067          	ret
   18d08:	0005c783          	lbu	a5,0(a1)
   18d0c:	00170713          	add	a4,a4,1
   18d10:	00158593          	add	a1,a1,1
   18d14:	fef70fa3          	sb	a5,-1(a4)
   18d18:	fee882e3          	beq	a7,a4,18cfc <memcpy+0x16c>
   18d1c:	0005c783          	lbu	a5,0(a1)
   18d20:	00170713          	add	a4,a4,1
   18d24:	00158593          	add	a1,a1,1
   18d28:	fef70fa3          	sb	a5,-1(a4)
   18d2c:	fce89ee3          	bne	a7,a4,18d08 <memcpy+0x178>
   18d30:	fcdff06f          	j	18cfc <memcpy+0x16c>
